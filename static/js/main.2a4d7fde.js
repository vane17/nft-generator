/*! For license information please see main.2a4d7fde.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,V=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Te(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Ve=null,Fe=!1,je=null,Ue={onError:function(e){Me=!0,Ve=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Ve=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,_t,St,Et=!1,Tt=[],It=null,Ct=null,At=null,Nt=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=pi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Vt(e)&&n.delete(t)}function jt(){Et=!1,null!==It&&Vt(It)&&(It=null),null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),Nt.forEach(Ft),Dt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),Nt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Gt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Kt(e,t,n,r){var i=Wt(e,t,n,r);if(null===i)zr(e,t,r,Ht,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Wt(e,t,n,r))&&zr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Ht=null;function Wt(e,t,n,r){if(Ht=null,null!==(e=pi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),ln=V({},un,{view:0,detail:0}),cn=nn(ln),fn=V({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(V({},fn,{dataTransfer:0})),vn=nn(V({},ln,{relatedTarget:0})),pn=nn(V({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=V({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(V({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var Sn=V({},ln,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),Tn=nn(V({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(V({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(V({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=V({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(An),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var On=c&&"TextEvent"in window&&!Rn,Ln=c&&(!Pn||Rn&&8<Rn&&11>=Rn),Mn=String.fromCharCode(32),Vn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Hn(e){Mr(e,0)}function Wn(e){if(W(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Gn&&(Gn.detachEvent("onpropertychange",er),Kn=Gn=null)}function er(e){if("value"===e.propertyName&&Wn(Kn)){var t=[];qn(t,Kn,e,we(e)),De(Hn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Gn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Kn)}function rr(e,t){if("click"===e)return Wn(t)}function ir(e,t){if("input"===e||"change"===e)return Wn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,pr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Gr(pr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=_r("animationend"),Er=_r("animationiteration"),Tr=_r("animationstart"),Ir=_r("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Sr,"onAnimationEnd"),Nr(Er,"onAnimationIteration"),Nr(Tr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Ve;Me=!1,Ve=null,Fe||(Fe=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}}}if(Fe)throw e=je,Fe=!1,je=null,e}function Vr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Fr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=pi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,l=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":l="focus",s=vn;break;case"focusout":l="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Sr:case Er:case Tr:s=pn;break;case Ir:s=Cn;break;case"scroll":s=cn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Pe(v,h))&&c.push(qr(v,p,d)))),f)break;v=v.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!pi(l)&&!l[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?pi(l):null)&&(l!==(f=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=hn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:yi(s),d=null==l?u:yi(l),(u=new c(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,pi(i)===r&&((c=new c(h,v+"enter",l,n,i)).target=d,c.relatedTarget=f,p=c),f=p,s&&l)e:{for(h=l,v=0,d=c=s;d;d=Kr(d))v++;for(d=0,p=h;p;p=Kr(p))d++;for(;0<v-d;)c=Kr(c),v--;for(;0<d-v;)h=Kr(h),d--;for(;v--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==s&&Hr(o,u,s,c,!1),null!==l&&null!==f&&Hr(o,f,l,c,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(zn(u))if($n)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(vr=y,pr=r,mr=null);break;case"focusout":mr=pr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Un?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==k?"onCompositionEnd"===k&&Un&&(g=Jt()):(Yt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(y=Gr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=jn(n))&&(k.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Pn&&Fn(e,t)?(e=Jt(),Xt=Yt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),li="__reactFiber$"+si,ci="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,vi="__reactHandles$"+si;function pi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[li])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[li]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[ci]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ei=wi(Si),Ti=wi(!1),Ii=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){xi(Ti),xi(Ei)}function Di(e,t,n){if(Ei.current!==Si)throw Error(a(168));_i(Ei,t),_i(Ti,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return V({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=Ei.current,_i(Ei,e),_i(Ti,Ti.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,xi(Ti),xi(Ei),_i(Ei,e)):xi(Ti),_i(Ti,n)}var Li=null,Mi=!1,Vi=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function ji(){if(!Vi&&null!==Li){Vi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),We(Ze,ji),i}finally{gt=t,Vi=!1}}return null}var Ui=b.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){for(var n in t=V({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=wi(null),qi=null,Gi=null,Ki=null;function Hi(){Ki=Gi=qi=null}function Wi(e){var t=zi.current;xi(zi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Ki=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===qi)throw Error(a(308));Gi=e,qi.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=V({},f,h);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:V({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var la={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Gs(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Gs(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Gs(e,r,n))&&ra(t,e,r)}};function ca(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ai(t)?Ii:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ai(t)?Ii:Ei.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&la.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var va=[],pa=0,ma=null,ya=0,ga=[],ka=0,ba=null,wa=1,xa="";function _a(e,t){va[pa++]=ya,va[pa++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ea(e){null!==e.return&&(_a(e,1),Sa(e,1,0))}function Ta(e){for(;e===ma;)ma=va[--pa],va[pa]=null,ya=va[--pa],va[pa]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ia=null,Ca=null,Aa=!1,Na=null;function Da(e,t){var n=bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ca=null,!0);default:return!1}}function Ra(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Aa){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Ra(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Pa(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ia=e)}}else{if(Ra(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ia=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Ma(e){if(e!==Ia)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Ra(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ia?oi(e.stateNode.nextSibling):null;return!0}function Va(){Ca=Ia=null,Aa=!1}function Fa(e){null===Na?Na=[e]:Na.push(e)}function ja(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ba(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Tl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ba(a)===t.type)?((r=i(t,n.props)).ref=ja(e,t,n),r.return=e,r):((r=_l(n.type,n.key,n.props,null,e.mode,r)).ref=ja(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Il(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_l(t.type,t.key,t.props,null,e.mode,n)).ref=ja(e,null,t),n.return=e,n;case x:return(t=Il(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sl(t,e.mode,n,null)).return=e,t;Ua(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ua(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ua(t,r)}return null}function p(i,a,u,s){for(var l=null,c=null,f=a,p=a=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var y=d(i,f,u[p],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,p),null===c?l=y:c.sibling=y,c=y,f=m}if(p===u.length)return n(i,f),Aa&&_a(i,p),l;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===c?l=f:c.sibling=f,c=f);return Aa&&_a(i,p),l}for(f=r(i,f);p<u.length;p++)null!==(m=v(f,i,p,u[p],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),a=o(m,a,p),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),Aa&&_a(i,p),l}function m(i,u,s,l){var c=L(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,p=u,m=u=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var k=d(i,p,g.value,l);if(null===k){null===p&&(p=y);break}e&&p&&null===k.alternate&&t(i,p),u=o(k,u,m),null===f?c=k:f.sibling=k,f=k,p=y}if(g.done)return n(i,p),Aa&&_a(i,m),c;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,m),null===f?c=g:f.sibling=g,f=g);return Aa&&_a(i,m),c}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=v(p,i,m,g.value,l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?c=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),Aa&&_a(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Ba(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=ja(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===_?((a=Sl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_l(o.type,o.key,o.props,null,r.mode,s)).ref=ja(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Il(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(L(o))return m(r,a,o,s);Ua(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Ga=za(!1),Ka={},Ha=wi(Ka),Wa=wi(Ka),Qa=wi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(_i(Qa,t),_i(Wa,e),_i(Ha,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ha),_i(Ha,t)}function Xa(){xi(Ha),xi(Wa),xi(Qa)}function Ja(e){$a(Qa.current);var t=$a(Ha.current),n=se(t,e.type);t!==n&&(_i(Wa,e),_i(Ha,n))}function Za(e){Wa.current===e&&(xi(Ha),xi(Wa))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,lo=null,co=!1,fo=!1,ho=0,vo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,lo=so=uo=null,co=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?uo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?uo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?uo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((oo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,uo.lanes|=f,Es|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Es|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Do(9,Io.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Gs(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Gs(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,uo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Ro(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}uo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Lo(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Vo(e,t){return Oo(4,2,e,t)}function Fo(e,t){return Oo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,jo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Ho(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Gs(e,r,n=zs()))&&Xo(e,t,r))}function Wo(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Gs(e,r,n=zs()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){var t=No(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=No(!1),t=e[0];return e=Go.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Vo,useLayoutEffect:Fo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Vo,useLayoutEffect:Fo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Rs=r),ru(0,t)},n}function lu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vl.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pu(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vu(t),null;case 1:case 17:return Ai(t.type)&&Ni(),vu(t),null;case 3:return r=t.stateNode,Xa(),xi(Ti),xi(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Na&&($s(Na),Na=null))),vu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return vu(t),null}if(e=$a(Ha.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[li]=t,r[ci]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(Yr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(Yr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[li]=t,e[ci]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=V({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&k(e,o,c,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ha.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return vu(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[li]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vu(t),null}return null!==Na&&($s(Na),Na=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):il())),null!==t.updateQueue&&(t.flags|=4),vu(t),null);case 4:return Xa(),null===e&&Ur(t.stateNode.containerInfo),vu(t),null;case 10:return Wi(t.type._context),vu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return vu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ds&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return vu(t),null}else 2*Xe()-o.renderingStartTime>Ds&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(vu(t),null);case 22:case 23:return el(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(vu(t),6&t.subtreeFlags&&(t.flags|=8192)):vu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ha.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=V({},i,{value:void 0}),r=V({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Aa&&n&&Ea(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_l(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return ju(e,t,i)}return t.flags|=1,(e=xl(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,ju(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ai(n)?Ii:Ei.current;return a=Ci(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Aa&&r&&Ea(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ju(e,t,i))}function Eu(e,t,n,r,i){if(Ai(n)){var a=!0;Ri(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Yi(l):l=Ci(t,l=Ai(n)?Ii:Ei.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&ha(t,o,r,l),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ti.current||Ji?("function"===typeof c&&(sa(t,n,c,r),s=t.memoizedState),(u=Ji||ca(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Bi(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ai(n)?Ii:Ei.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ti.current||Ji?("function"===typeof d&&(sa(t,n,d,r),v=t.memoizedState),(l=Ji||ca(t,n,l,r,h,v,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),ju(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Va(),Fa(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null}}function Du(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=El(o,i,0,null),e=Sl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nu(n),t.memoizedState=Au,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=El({mode:"visible",children:i.children},o,0,null),(u=Sl(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Nu(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Gs(e,i,-1))}il(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=ml.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ia=t,Aa=!0,Na=null,null!==n&&(ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ru(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ru(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=El({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ru(e,t,n,r){var i=e.child;return e=i.sibling,n=xl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xl(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xl(o,r):(r=Sl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Fa(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Uu(e,t){switch(Ta(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ti),xi(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Xa(),null;case 10:return Wi(t.type._context),null;case 22:case 23:return el(),null;default:return null}}var Bu=!1,zu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Gu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dl(e,t,r)}else n.current=null}function Hu(e,t,n){try{n()}catch(r){dl(e,t,r)}}var Wu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Hu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Hu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dl(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ci],delete t[hi],delete t[di],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=n,f=l;;)if(Xu(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,l=o.stateNode,8===s.nodeType?ai(s.parentNode,l):1===s.nodeType&&ai(s,l),Bt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ci]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Bt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Gu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Gu;){var i=Gu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Bu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||zu;u=Bu;var l=zu;if(Bu=o,(zu=s)&&!l)for(Gu=i;null!==Gu;)s=(o=Gu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Gu=s):fs(i);for(;null!==a;)Gu=a,ss(a,t,n),a=a.sibling;Gu=i,Bu=u,zu=l}ls(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Gu=a):ls(e)}}function ls(e){for(;null!==Gu;){var t=Gu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}zu||512&t.flags&&Yu(t)}catch(d){dl(t,t.return,d)}}if(t===e){Gu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gu=n;break}Gu=t.return}}function cs(e){for(;null!==Gu;){var t=Gu;if(t===e){Gu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gu=n;break}Gu=t.return}}function fs(e){for(;null!==Gu;){var t=Gu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dl(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dl(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dl(t,o,s)}}}catch(s){dl(t,t.return,s)}if(t===e){Gu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Gu=u;break}Gu=t.return}}var hs,ds=Math.ceil,vs=b.ReactCurrentDispatcher,ps=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,bs=0,ws=0,xs=wi(0),_s=0,Ss=null,Es=0,Ts=0,Is=0,Cs=null,As=null,Ns=0,Ds=1/0,Ps=!1,Rs=null,Os=null,Ls=!1,Ms=null,Vs=0,Fs=0,js=null,Us=-1,Bs=0;function zs(){return 0!==(6&ys)?Xe():-1!==Us?Us:Us=Xe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==Ui.transition?(0===Bs&&(e=lt,0===(4194240&(lt<<=1))&&(lt=64),Bs=e),Bs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Gs(e,t,n){if(50<Fs)throw Fs=0,js=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Ts|=t),4===_s&&Ys(r,bs)),Hs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ds=Xe()+500,Mi&&ji())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Fi(e)}(Xs.bind(null,e)):Fi(Xs.bind(null,e)),ri((function(){0===ys&&ji()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gl(n,Ws.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ws(e,t){if(Us=-1,Bs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fl()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=al(e,r);else{t=r;var i=ys;ys|=2;var o=rl();for(gs===e&&bs===t||(Ds=Xe()+500,tl(e,t));;)try{ul();break}catch(s){nl(e,s)}Hi(),vs.current=o,ys=i,null!==ks?t=0:(gs=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Ss,tl(e,0),Ys(e,r),Hs(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=al(e,r))&&(0!==(o=vt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Ss,tl(e,0),Ys(e,r),Hs(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:cl(e,As);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Ns+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(cl.bind(null,e,As),t);break}cl(e,As);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(cl.bind(null,e,As),r);break}cl(e,As);break;default:throw Error(a(329))}}}return Hs(e,Xe()),e.callbackNode===n?Ws.bind(null,e):null}function Qs(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tl(e,t).flags|=256),2!==(e=al(e,t))&&(t=As,As=n,null!==t&&$s(t)),e}function $s(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~Is,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&ys))throw Error(a(327));fl();var t=ht(e,0);if(0===(1&t))return Hs(e,Xe()),null;var n=al(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Ss,tl(e,0),Ys(e,t),Hs(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,As),Hs(e,Xe()),null}function Js(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ds=Xe()+500,Mi&&ji())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fl();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&ji()}}function el(){ws=xs.current,xi(xs)}function tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Xa(),xi(Ti),xi(Ei),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:xi(eo);break;case 10:Wi(r.type._context);break;case 22:case 23:el()}n=n.return}if(gs=e,ks=e=xl(e.current,null),bs=ws=t,_s=0,Ss=null,Is=Ts=Es=0,As=Cs=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nl(e,t){for(;;){var n=ks;try{if(Hi(),io.current=Jo,co){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(oo=0,lo=so=uo=null,fo=!1,ho=0,ps.current=null,null===n||null===n.return){_s=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=bs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=fu(u);if(null!==v){v.flags&=-257,hu(v,u,s,0,t),1&v.mode&&cu(o,c,t),l=c;var p=(t=v).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(0===(1&t)){cu(o,c,t),il();break e}l=Error(a(426))}else if(Aa&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Fa(l);break e}}o=l,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),l=nu(l,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,l,t));break e;case 1:o=l;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Os||!Os.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,lu(s,o,t));break e}}s=s.return}while(null!==s)}ll(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rl(){var e=vs.current;return vs.current=Jo,null===e?Jo:e}function il(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Es)&&0===(268435455&Ts)||Ys(gs,bs)}function al(e,t){var n=ys;ys|=2;var r=rl();for(gs===e&&bs===t||tl(e,t);;)try{ol();break}catch(i){nl(e,i)}if(Hi(),ys=n,vs.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,_s}function ol(){for(;null!==ks;)sl(ks)}function ul(){for(;null!==ks&&!$e();)sl(ks)}function sl(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?ll(e):ks=t,ps.current=null}function ll(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=pu(n,t,ws)))return void(ks=n)}else{if(null!==(n=Uu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function cl(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fl()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gl(tt,(function(){return fl(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,ps.current=null,function(e,t){if(fr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Gu=t;null!==Gu;)if(e=(t=Gu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gu=e;else for(;null!==Gu;){t=Gu;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Bi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Gu=e;break}Gu=t.return}p=Wu,Wu=!1}(e,r),function(e,t){for(Gu=t;null!==Gu;){var n=(t=Gu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dl(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Gu=n;else for(;null!==Gu;){t=Gu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var l=t.alternate;null!==l&&null!==l.memoizedState||(Ns=Xe())}break;case 22:var c=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=c;for(var d=null,v=r=n=t;;){if(5===v.tag){if(null===d){d=v;var p=v.stateNode;if(i){var m=p.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=v.stateNode,g=v.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=pe("display",k)}}}else if(6===v.tag)null===d&&(v.stateNode.nodeValue=i?"":v.memoizedProps);else if((22!==v.tag&&23!==v.tag||null===v.memoizedState||v===r)&&null!==v.child){v.child.return=v,v=v.child;continue}if(v===r)break;for(;null===v.sibling;){if(null===v.return||v.return===r)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}if(c&&!h&&0!==(1&n.mode)){Gu=n;for(var b=n.child;null!==b;){for(n=Gu=b;null!==Gu;){var w=(r=Gu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dl(r,_,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){cs(n);continue}}null!==w?(w.return=r,Gu=w):cs(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dl(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Gu=n;break}Gu=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Vs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Hs(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Rs,Rs=null,e;0!==(1&Vs)&&0!==e.tag&&fl(),0!==(1&(o=e.pendingLanes))?e===js?Fs++:(Fs=0,js=e):Fs=0,ji()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fl(){if(null!==Ms){var e=kt(Vs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Vs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Gu=e.current;null!==Gu;){var o=Gu,u=o.child;if(0!==(16&Gu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Gu=c;null!==Gu;){var f=Gu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Gu=h;else for(;null!==Gu;){var d=(f=Gu).sibling,v=f.return;if(Ju(f),f===c){Gu=null;break}if(null!==d){d.return=v,Gu=d;break}Gu=v}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Gu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Gu=u;else e:for(;null!==Gu;){if(0!==(2048&(o=Gu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Gu=g;break e}Gu=o.return}}var k=e.current;for(Gu=k;null!==Gu;){var b=(u=Gu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Gu=b;else e:for(u=k;null!==Gu;){if(0!==(2048&(s=Gu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(x){dl(s,s.return,x)}if(s===u){Gu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Gu=w;break e}Gu=s.return}}if(ys=i,ji(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hl(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=zs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Hs(e,t))}function dl(e,t,n){if(3===e.tag)hl(e,e,n);else for(;null!==t;){if(3===t.tag){hl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=lu(t,e=nu(n,e),1)),e=zs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Hs(t,e));break}}t=t.return}}function vl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Xe()-Ns?tl(e,0):Is|=n),Hs(e,t)}function pl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=zs();null!==(e=Ks(e,t))&&(mt(e,t,n),Hs(e,n))}function ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pl(e,n)}function yl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),pl(e,n)}function gl(e,t){return We(e,t)}function kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bl(e,t,n,r){return new kl(e,t,n,r)}function wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xl(e,t){var n=e.alternate;return null===n?((n=bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Sl(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=bl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=bl(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=bl(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return El(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sl(e,t,n,r){return(e=bl(7,e,r,t)).lanes=n,e}function El(e,t,n,r){return(e=bl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Tl(e,t,n){return(e=bl(6,e,null,t)).lanes=n,e}function Il(e,t,n){return(t=bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Al(e,t,n,r,i,a,o,u,s){return e=new Cl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Nl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Dl(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pl(e,t,n,r,i,a,o,u,s){return(e=Al(n,r,!0,e,0,a,0,u,s)).context=Dl(null),n=e.current,(a=ta(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Hs(e,r),e}function Rl(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=Dl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Gs(i,o,a))&&ra(e,i,o),o}function Ol(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ll(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ml(e,t){Ll(e,t),(e=e.alternate)&&Ll(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),Va();break;case 5:Ja(t);break;case 1:Ai(t.type)&&Ri(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Du(e,t,n):(_i(eo,1&eo.current),null!==(e=ju(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return ju(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Aa&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ei.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=la,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ea(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=Bi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,Bi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ia=t,Aa=!0,Na=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=ju(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Du(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(zi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ti.current){t=ju(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ta(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=Bi(r=t.type,t.pendingProps),bu(e,t,r,i=Bi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Ri(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return Fu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Vl="function"===typeof reportError?reportError:function(e){console.error(e)};function Fl(e){this._internalRoot=e}function jl(e){this._internalRoot=e}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zl(){}function ql(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Ol(o);u.call(e)}}Rl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Ol(o);a.call(e)}}var o=Pl(t,r,e,0,null,!1,0,"",zl);return e._reactRootContainer=o,e[fi]=o.current,Ur(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Ol(s);u.call(e)}}var s=Al(e,0,!1,null,0,!1,0,"",zl);return e._reactRootContainer=s,e[fi]=s.current,Ur(8===e.nodeType?e.parentNode:e),Zs((function(){Rl(t,s,n,r)})),s}(n,t,e,i,r);return Ol(o)}jl.prototype.render=Fl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Rl(e,t,null,null)},jl.prototype.unmount=Fl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Rl(null,e,null,null)})),t[fi]=null}},jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Hs(t,Xe()),0===(6&ys)&&(Ds=Xe()+500,ji()))}break;case 13:var r=zs();Zs((function(){return Gs(e,1,r)})),Ml(e,1)}},wt=function(e){13===e.tag&&(Gs(e,134217728,zs()),Ml(e,134217728))},xt=function(e){if(13===e.tag){var t=zs(),n=qs(e);Gs(e,n,t),Ml(e,n)}},_t=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Js,Ae=Zs;var Gl={usingClientEntryPoint:!1,Events:[mi,yi,gi,Te,Ie,Js]},Kl={findFiberByHostInstance:pi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Hl={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{it=Wl.inject(Hl),at=Wl}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(a(200));return Nl(e,t,null,n)},t.createRoot=function(e,t){if(!Ul(e))throw Error(a(299));var n=!1,r="",i=Vl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Al(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Fl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(a(200));return ql(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ul(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Vl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pl(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jl(t)},t.render=function(e,t,n){if(!Bl(t))throw Error(a(200));return ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ql(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,p(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+C(u=e[l],l);s+=A(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,c=a+C(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?v:h,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",p={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,v=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!p)if(null!==r(l))p=!0,R(x);else{var t=r(c);null!==t&&O(w,t.startTime-e)}}function x(e,n){p=!1,m&&(m=!1,g(T),T=-1),v=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){y(N,0)};function R(e){E=e,S||(S=!0,_())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(l,e),p||v||(p=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ie},SDK_VERSION:function(){return wt},_DEFAULT_ENTRY_NAME:function(){return st},_addComponent:function(){return ht},_addOrOverwriteComponent:function(){return dt},_apps:function(){return ct},_clearComponents:function(){return yt},_components:function(){return ft},_getProvider:function(){return pt},_registerComponent:function(){return vt},_removeServiceInstance:function(){return mt},deleteApp:function(){return Et},getApp:function(){return _t},getApps:function(){return St},initializeApp:function(){return xt},onLog:function(){return Ct},registerVersion:function(){return It},setLogLevel:function(){return At}});var t,r=n(791),i=n(164);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var l=function(e){return e};var c="beforeunload",f="popstate";function h(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function m(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var y=(0,r.createContext)(null);var g=(0,r.createContext)(null);var k=(0,r.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function w(e,t,n){void 0===n&&(n="/");var r=A(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=T(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=N([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),x(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:u})})),t}var _=/^:\w+$/,S=function(e){return"*"===e};function E(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(_.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=I({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:N([i,c.pathname]),pathnameBase:D(N([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=N([i,c.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function C(e,t,n){var r,i="string"===typeof e?m(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?m(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:P(a),hash:R(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var N=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function O(e){L()||b(!1);var t=(0,r.useContext)(y),n=t.basename,i=t.navigator,a=F(e),o=a.hash,u=a.pathname,s=a.search,l=u;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?m(e).pathname:e.pathname}(e),f=null!=c&&c.endsWith("/");l="/"===u?n+(f?"/":""):N([n,u])}return i.createHref({pathname:l,search:s,hash:o})}function L(){return null!=(0,r.useContext)(g)}function M(){return L()||b(!1),(0,r.useContext)(g).location}function V(){L()||b(!1);var e=(0,r.useContext)(y),t=e.basename,n=e.navigator,i=(0,r.useContext)(k).matches,a=M().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=C(e,JSON.parse(o),a);"/"!==t&&(i.pathname=N([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function F(e){var t=(0,r.useContext)(k).matches,n=M().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return C(e,JSON.parse(i),n)}),[e,i,n])}function j(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function U(e){b(!1)}function B(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,l=void 0===s?t.Pop:s,c=e.navigator,f=e.static,h=void 0!==f&&f;L()&&b(!1);var d=D(i),v=(0,r.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof u&&(u=m(u));var p=u,k=p.pathname,w=void 0===k?"/":k,x=p.search,_=void 0===x?"":x,S=p.hash,E=void 0===S?"":S,T=p.state,I=void 0===T?null:T,C=p.key,N=void 0===C?"default":C,P=(0,r.useMemo)((function(){var e=A(w,d);return null==e?null:{pathname:e,search:_,hash:E,state:I,key:N}}),[d,w,_,E,I,N]);return null==P?null:(0,r.createElement)(y.Provider,{value:v},(0,r.createElement)(g.Provider,{children:o,value:{location:P,navigationType:l}}))}function z(e){var t=e.children,n=e.location;return function(e,t){L()||b(!1);var n,i=(0,r.useContext)(k).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,M());if(t){var l,c="string"===typeof t?m(t):t;"/"===u||(null==(l=c.pathname)?void 0:l.startsWith(u))||b(!1),n=c}else n=s;var f=n.pathname||"/",h=w(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return j(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:N([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:N([u,e.pathnameBase])})})),i)}(q(t),n)}function q(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==U&&b(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=q(e.props.children)),t.push(n)}else t.push.apply(t,q(e.props.children))})),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var H=["onClick","reloadDocument","replace","state","target","to"];function W(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,l({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(f,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=g-r;u&&(o={action:e,location:i,retry:function(){I(-1*u)}},I(u))}}else T(e)}}));var u=t.Pop,y=a(),g=y[0],k=y[1],b=d(),w=d();function x(e){return"string"===typeof e?e:p(e)}function _(e,t){return void 0===t&&(t=null),l(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?m(e):e,{state:t,key:v()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){u=e;var t=a();g=t[0],k=t[1],b.call({action:u,location:k})}function I(e){i.go(e)}null==g&&(g=0,i.replaceState(s({},i.state,{idx:g}),""));var C={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=_(n,a);if(E(o,u,(function(){e(n,a)}))){var s=S(u,g+1),l=s[0],c=s[1];try{i.pushState(l,"",c)}catch(f){r.location.assign(c)}T(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(E(a,o,(function(){e(n,r)}))){var u=S(o,g),s=u[0],l=u[1];i.replaceState(s,"",l),T(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,h),function(){t(),w.length||r.removeEventListener(c,h)}}};return C}({window:a}));var y=o.current,g=u((0,r.useState)({action:y.action,location:y.location}),2),k=g[0],b=g[1];return(0,r.useLayoutEffect)((function(){return y.listen(b)}),[y]),(0,r.createElement)(B,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:y})}var Q=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,l=e.to,c=K(e,H),f=O(l),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=V(),s=M(),l=F(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(s)===p(l);u(e,{replace:n,state:o})}}),[s,u,l,a,o,i,e])}(l,{replace:o,state:u,target:s});return(0,r.createElement)("a",G({},c,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var $=n(184);function Y(){return(0,$.jsx)($.Fragment,{children:(0,$.jsx)("button",{className:"section__button--message",children:(0,$.jsx)("span",{class:"material-icons-outlined",children:"question_answer"})})})}function X(){return(0,$.jsxs)("div",{className:"home",children:[(0,$.jsxs)("nav",{className:"home__nav",children:[(0,$.jsxs)("div",{className:"nav__logo",children:[(0,$.jsx)("div",{className:"nav__logo-img"}),(0,$.jsx)("h3",{className:"nav__logo-title",children:"The NFT Generator"})]}),(0,$.jsxs)("div",{className:"nav__items",children:[(0,$.jsx)("div",{children:"Producto"}),(0,$.jsx)("div",{children:"Precios"}),(0,$.jsx)("div",{children:"Blog"})]}),(0,$.jsxs)("div",{className:"nav__start",children:[(0,$.jsx)("div",{className:"nav__start--login",children:"Inicia sesi\xf3n"}),(0,$.jsxs)(Q,{to:"/app",className:"nav__start--button",children:["Comenzar",(0,$.jsx)("span",{class:"material-icons-outlined arrow",children:"arrow_forward"})]})]})]}),(0,$.jsxs)("section",{className:"home__section",children:[(0,$.jsxs)("h1",{className:"section__title",children:[(0,$.jsx)("span",{children:"Haga colecciones"}),(0,$.jsx)("br",{}),(0,$.jsx)("span",{className:"section__title--nft",children:"NFT ilimitadas"})]}),(0,$.jsx)("p",{className:"section__gray",children:"\xa1Genera tantas colecciones NFT como desee!"}),(0,$.jsxs)("div",{children:[(0,$.jsxs)(Q,{to:"/app",className:"section__button",children:["Genere su coleccion NFT",(0,$.jsx)("span",{class:"material-icons-outlined arrow",children:"arrow_forward"})]}),(0,$.jsx)("p",{className:"section__paragraph",children:"No se requiere cuenta."})]}),(0,$.jsx)(Y,{})]})]})}function J(){return(0,$.jsx)("div",{children:(0,$.jsxs)("nav",{className:"home__nav",children:[(0,$.jsxs)("div",{className:"nav__logo",children:[(0,$.jsx)("div",{className:"nav__logo-img"}),(0,$.jsx)("h3",{className:"nav__logo-title",children:"The NFT Generator"})]}),(0,$.jsxs)("div",{className:"nav__items",children:[(0,$.jsx)("div",{children:"Producto"}),(0,$.jsx)("div",{children:"Precios"}),(0,$.jsx)("div",{children:"Blog"})]}),(0,$.jsx)("div",{className:"nav__start",children:(0,$.jsx)("div",{className:"nav__start--button",children:"Inicia sesi\xf3n"})})]})})}function Z(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Z(a,r,i,o,u,"next",e)}function u(e){Z(a,r,i,o,u,"throw",e)}o(void 0)}))}}var te=n(757),ne=n.n(te);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function ce(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ve(e,t){if(t&&("object"===de(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}function pe(e){var t=he();return function(){var n,r=fe(e);if(t){var i=fe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function me(e,t,n){return me=he()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&le(i,n.prototype),i},me.apply(null,arguments)}function ye(e){var t="function"===typeof Map?new Map:void 0;return ye=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return me(e,arguments,fe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),le(n,e)},ye(e)}var ge=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ge(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},be=function(e){return function(e){var t=ge(e);return ke.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function we(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=we(e[n],t[n]));return e}var xe=function(){function e(){var t=this;ie(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return oe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _e(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(a)),""].join(".")}function Se(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){return"object"===typeof indexedDB}var Ie=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(se(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(se(a),Ce.prototype.create),a}return oe(n)}(ye(Error)),Ce=function(){function e(t,n,r){ie(this,e),this.service=t,this.serviceName=n,this.errors=r}return oe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ae(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ie(n,a,t);return o}}]),e}();function Ae(e,t){return e.replace(Ne,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ne=/\{\$([^}]+)}/g;function De(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Re(u)&&Re(s)){if(!Pe(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Re(e){return null!==e&&"object"===typeof e}function Oe(e,t){var n=new Le(e,t);return n.subscribe.bind(n)}var Le=function(){function e(t,n){var r=this;ie(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return oe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ue(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Me),void 0===r.error&&(r.error=Me),void 0===r.complete&&(r.complete=Me);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Me(){}function Ve(e){return e&&e._delegate?e._delegate:e}function Fe(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var je=function(){function e(t){ie(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return oe(e,[{key:"transaction",value:function(e,t){return new Ue(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Be(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Ue=function(){function e(t){var n=this;ie(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return oe(e,[{key:"objectStore",value:function(e){return new Be(this._transaction.objectStore(e))}}]),e}(),Be=function(){function e(t){ie(this,e),this._store=t}return oe(e,[{key:"index",value:function(e){return new ze(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ze(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Fe(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Fe(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Fe(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Fe(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ze=function(){function e(t){ie(this,e),this._index=t}return oe(e,[{key:"get",value:function(e){return Fe(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function qe(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ge=function(){function e(t,n,r){ie(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return oe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ke="[DEFAULT]",He=function(){function e(t,n){ie(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return oe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ke})}catch(l){}var t,n=ue(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ee(te.mark((function e(){var t;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(qe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),qe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ue(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),l=s[0],c=s[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ry){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ke?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ry){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;return this.component?this.component.multipleInstances?e:Ke:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var We,Qe,$e=function(){function e(t){ie(this,e),this.name=t,this.providers=new Map}return oe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new He(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ye=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qe||(Qe={}));var Xe,Je,Ze={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},et=Qe.INFO,tt=(re(We={},Qe.DEBUG,"log"),re(We,Qe.VERBOSE,"log"),re(We,Qe.INFO,"info"),re(We,Qe.WARN,"warn"),re(We,Qe.ERROR,"error"),We),nt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=tt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},rt=function(){function e(t){ie(this,e),this.name=t,this._logLevel=et,this._logHandler=nt,this._userLogHandler=null,Ye.push(this)}return oe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ze[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qe.DEBUG].concat(t)),this._logHandler.apply(this,[this,Qe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Qe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qe.INFO].concat(t)),this._logHandler.apply(this,[this,Qe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qe.WARN].concat(t)),this._logHandler.apply(this,[this,Qe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qe.ERROR].concat(t)),this._logHandler.apply(this,[this,Qe.ERROR].concat(t))}}]),e}();var it=function(){function e(t){ie(this,e),this.container=t}return oe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var at="@firebase/app",ot="0.7.20",ut=new rt("@firebase/app"),st="[DEFAULT]",lt=(re(Xe={},at,"fire-core"),re(Xe,"@firebase/app-compat","fire-core-compat"),re(Xe,"@firebase/analytics","fire-analytics"),re(Xe,"@firebase/analytics-compat","fire-analytics-compat"),re(Xe,"@firebase/app-check","fire-app-check"),re(Xe,"@firebase/app-check-compat","fire-app-check-compat"),re(Xe,"@firebase/auth","fire-auth"),re(Xe,"@firebase/auth-compat","fire-auth-compat"),re(Xe,"@firebase/database","fire-rtdb"),re(Xe,"@firebase/database-compat","fire-rtdb-compat"),re(Xe,"@firebase/functions","fire-fn"),re(Xe,"@firebase/functions-compat","fire-fn-compat"),re(Xe,"@firebase/installations","fire-iid"),re(Xe,"@firebase/installations-compat","fire-iid-compat"),re(Xe,"@firebase/messaging","fire-fcm"),re(Xe,"@firebase/messaging-compat","fire-fcm-compat"),re(Xe,"@firebase/performance","fire-perf"),re(Xe,"@firebase/performance-compat","fire-perf-compat"),re(Xe,"@firebase/remote-config","fire-rc"),re(Xe,"@firebase/remote-config-compat","fire-rc-compat"),re(Xe,"@firebase/storage","fire-gcs"),re(Xe,"@firebase/storage-compat","fire-gcs-compat"),re(Xe,"@firebase/firestore","fire-fst"),re(Xe,"@firebase/firestore-compat","fire-fst-compat"),re(Xe,"fire-js","fire-js"),re(Xe,"firebase","fire-js-all"),Xe),ct=new Map,ft=new Map;function ht(e,t){try{e.container.addComponent(t)}catch(n){ut.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function dt(e,t){e.container.addOrOverwriteComponent(t)}function vt(e){var t=e.name;if(ft.has(t))return ut.debug("There were multiple attempts to register component ".concat(t,".")),!1;ft.set(t,e);var n,r=ue(ct.values());try{for(r.s();!(n=r.n()).done;){ht(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st;pt(e,t).clearInstance(n)}function yt(){ft.clear()}var gt=(re(Je={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),re(Je,"bad-app-name","Illegal App name: '{$appName}"),re(Je,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),re(Je,"app-deleted","Firebase App named '{$appName}' already deleted"),re(Je,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),re(Je,"invalid-log-argument","First argument to `onLog` must be null or a function."),re(Je,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),re(Je,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),re(Je,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),re(Je,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Je),kt=new Ce("app","Firebase",gt),bt=function(){function e(t,n,r){var i=this;ie(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",(function(){return i}),"PUBLIC"))}return oe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}]),e}(),wt="9.6.10";function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:st,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kt.create("bad-app-name",{appName:String(i)});var a=ct.get(i);if(a){if(Pe(e,a.options)&&Pe(r,a.config))return a;throw kt.create("duplicate-app",{appName:i})}var o,u=new $e(i),s=ue(ft.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new bt(e,r,u);return ct.set(i,c),c}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=ct.get(e);if(!t)throw kt.create("no-app",{appName:e});return t}function St(){return Array.from(ct.values())}function Et(e){return Tt.apply(this,arguments)}function Tt(){return Tt=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ct.has(n)){e.next=6;break}return ct.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Tt.apply(this,arguments)}function It(e,t,n){var r,i=null!==(r=lt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ut.warn(u.join(" "))}vt(new Ge("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ct(e,t){if(null!==e&&"function"!==typeof e)throw kt.create("invalid-log-argument");!function(e,t){var n,r=ue(Ye);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ze[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Qe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function At(e){var t;t=e,Ye.forEach((function(e){e.setLogLevel(t)}))}var Nt="firebase-heartbeat-store",Dt=null;function Pt(){var e,t,n;return Dt||(Dt=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Nt)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new je(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new je(a.result),e.oldVersion,e.newVersion,new Ue(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw kt.create("storage-open",{originalErrorMessage:e.message})}))),Dt}function Rt(e){return Ot.apply(this,arguments)}function Ot(){return Ot=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt();case 3:return n=e.sent,e.abrupt("return",n.transaction(Nt).objectStore(Nt).get(Vt(t)));case 7:throw e.prev=7,e.t0=e.catch(0),kt.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ot.apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return Mt=ee(te.mark((function e(t,n){var r,i,a;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt();case 3:return r=e.sent,i=r.transaction(Nt,"readwrite"),a=i.objectStore(Nt),e.next=8,a.put(n,Vt(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),kt.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Mt.apply(this,arguments)}function Vt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ft=function(){function e(t){var n=this;ie(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new qt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return oe(e,[{key:"triggerHeartbeat",value:function(){var e=ee(te.mark((function e(){var t,n,r;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ee(te.mark((function e(){var t,n,r,i,a;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jt(),n=Ut(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=be(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jt(){return(new Date).toISOString().substring(0,10)}function Ut(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ue(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Gt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bt,zt,qt=function(){function e(t){ie(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return oe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ee(te.mark((function e(){return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ee(te.mark((function e(){var t;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ee(te.mark((function e(t){var n,r;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ee(te.mark((function e(t){var n,r;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(qe(r.heartbeats),qe(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gt(e){return be(JSON.stringify({version:2,heartbeats:e})).length}Bt="",vt(new Ge("platform-logger",(function(e){return new it(e)}),"PRIVATE")),vt(new Ge("heartbeat",(function(e){return new Ft(e)}),"PRIVATE")),It(at,ot,Bt),It(at,ot,"esm2017"),It("fire-js","");var Kt=function(){function e(t,n){var r=this;ie(this,e),this._delegate=t,this.firebase=n,ht(t,new Ge("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return oe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Et(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ht(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){dt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ht=(re(zt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),re(zt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),zt),Wt=new Ce("app-compat","Firebase",Ht);var Qt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(De(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:It,setLogLevel:At,onLog:Ct,apps:null,SDK_VERSION:wt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(vt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Wt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&we(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!De(n,e=e||st))throw Wt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Kt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){we(n,e)},createSubscribe:Oe,ErrorFactory:Ce,deepExtend:we}),n}(),$t=new rt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){$t.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Yt=self.firebase.SDK_VERSION;Yt&&Yt.indexOf("LITE")>=0&&$t.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xt=Qt;!function(e){It("@firebase/app-compat","0.1.21",e)}();Xt.registerVersion("firebase","9.6.10","app-compat");var Jt="firebasestorage.googleapis.com",Zt=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,en(e),"Firebase Storage: ".concat(r," (").concat(en(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(se(i),n.prototype),i}return oe(n,[{key:"_codeEquals",value:function(e){return en(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ie);function en(e){return"storage/"+e}function tn(){return new Zt("unknown","An unknown error occurred, please check the error payload for server response.")}function nn(){return new Zt("canceled","User canceled the upload/download.")}function rn(){return new Zt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function an(e){return new Zt("invalid-argument",e)}function on(){return new Zt("app-deleted","The Firebase app was deleted.")}function un(e){return new Zt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sn(e,t){return new Zt("invalid-format","String does not match format '"+e+"': "+t)}function ln(e){throw new Zt("internal-error","Internal error: "+e)}var cn,fn=function(){function e(t,n){ie(this,e),this.bucket=t,this.path_=n}return oe(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Zt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Jt?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<s.length;l++){var c=s[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new Zt("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),hn=function(){function e(t){ie(this,e),this.promise_=Promise.reject(t)}return oe(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function dn(e){return"string"===typeof e||e instanceof String}function vn(e){return pn()&&e instanceof Blob}function pn(){return"undefined"!==typeof Blob}function mn(e,t,n,r){if(r<t)throw an("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw an("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function yn(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function gn(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cn||(cn={}));var kn=function(){function e(t,n,r,i,a,o,u,s,l,c,f){var h=this;ie(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return oe(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=tn();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?on():nn());else i(new Zt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new bn(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(s()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var v=!1;function p(e){v||(v=!0,h(),l||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new bn(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===cn.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new bn(o,r))}else{var u=r.getErrorCode()===cn.ABORT;t(!1,new bn(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),bn=oe((function e(t,n,r){ie(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function wn(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function xn(){for(var e=wn(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(pn())return new Blob(n);throw new Zt("unsupported-environment","This browser doesn't seem to support creating Blobs")}var _n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Sn=oe((function e(t,n){ie(this,e),this.data=t,this.contentType=n||null}));function En(e,t){switch(e){case _n.RAW:return new Sn(Tn(t));case _n.BASE64:case _n.BASE64URL:return new Sn(In(e,t));case _n.DATA_URL:return new Sn(function(e){var t=new Cn(e);return t.base64?In(_n.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw sn(_n.DATA_URL,"Malformed data URL.")}return Tn(t)}(t.rest)}(t),new Cn(t).contentType)}throw tn()}function Tn(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function In(e,t){switch(e){case _n.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw sn(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case _n.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw sn(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(l){throw sn(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Cn=oe((function e(t){ie(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw sn(_n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var An=function(){function e(t,n){ie(this,e);var r=0,i="";vn(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return oe(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(vn(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(pn()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(xn.apply(null,i))}var a=n.map((function(e){return dn(e)?En(_n.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function Nn(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Dn(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Pn(e,t){return t}var Rn=oe((function e(t,n,r,i){ie(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Pn})),On=null;function Ln(){if(On)return On;var e=[];e.push(new Rn("bucket")),e.push(new Rn("generation")),e.push(new Rn("metageneration")),e.push(new Rn("name","fullPath",!0));var t=new Rn("name");t.xform=function(e,t){return function(e){return!dn(e)||e.length<2?e:Dn(e)}(t)},e.push(t);var n=new Rn("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Rn("timeCreated")),e.push(new Rn("updated")),e.push(new Rn("md5Hash",null,!0)),e.push(new Rn("cacheControl",null,!0)),e.push(new Rn("contentDisposition",null,!0)),e.push(new Rn("contentEncoding",null,!0)),e.push(new Rn("contentLanguage",null,!0)),e.push(new Rn("contentType",null,!0)),e.push(new Rn("metadata","customMetadata",!0)),On=e}function Mn(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new fn(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Vn(e,t,n){var r=Nn(t);return null===r?null:Mn(e,r,n)}function Fn(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function jn(e,t,n){var r=Nn(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ue(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new fn(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,l=ue(n.items);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=e._makeStorageReference(new fn(t,c.name));r.items.push(f)}}catch(h){l.e(h)}finally{l.f()}}return r}(e,t,r)}var Un=oe((function e(t,n,r,i){ie(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Bn(e){if(!e)throw tn()}function zn(e,t){return function(n,r){var i=Vn(e,r,t);return Bn(null!==i),i}}function qn(e,t){return function(n,r){var i=Vn(e,r,t);return Bn(null!==i),function(e,t,n,r){var i=Nn(t);if(null===i)return null;if(!dn(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return yn("/b/"+o(i)+"/o/"+o(a),n,r)+gn({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Gn(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Zt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Zt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Zt("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Zt("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Kn(e){var t=Gn(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Zt("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Hn(e,t,n){var r=yn(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Un(r,"GET",zn(e,n),i);return a.errorHandler=Kn(t),a}function Wn(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=yn(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new Un(o,"GET",function(e,t){return function(n,r){var i=jn(e,t,r);return Bn(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=Gn(t),s}function Qn(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function $n(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=Qn(t,r,i),l="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Fn(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",c="\r\n--"+u+"--",f=An.getBlob(l,r,c);if(null===f)throw rn();var h={name:s.fullPath},d=yn(a,e.host,e._protocol),v=e.maxUploadRetryTime,p=new Un(d,"POST",zn(e,n),v);return p.urlParams=h,p.headers=o,p.body=f.uploadData(),p.errorHandler=Gn(t),p}var Yn=oe((function e(t,n,r,i){ie(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Xn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Bn(!1)}return Bn(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Jn=262144;function Zn(e,t,n,r,i,a,o,u){var s=new Yn(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Zt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=s.total-s.current,c=l;i>0&&(c=Math.min(c,i));var f=s.current,h=f+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},v=r.slice(f,h);if(null===v)throw rn();var p=t.maxUploadRetryTime,m=new Un(n,"POST",(function(e,n){var i,o=Xn(e,["active","final"]),u=s.current+c,l=r.size();return i="final"===o?zn(t,a)(e,n):null,new Yn(u,l,"final"===o,i)}),p);return m.headers=d,m.body=v.uploadData(),m.progressCallback=u||null,m.errorHandler=Gn(e),m}var er={STATE_CHANGED:"state_changed"},tr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nr(e){switch(e){case"running":case"pausing":case"canceling":return tr.RUNNING;case"paused":return tr.PAUSED;case"success":return tr.SUCCESS;case"canceled":return tr.CANCELED;default:return tr.ERROR}}var rr=oe((function e(t,n,r){ie(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function ir(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var ar=function(){function e(){var t=this;ie(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cn.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=cn.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=cn.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return oe(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw ln("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw ln("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw ln("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw ln("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw ln("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),or=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(ar);function ur(){return new or}var sr=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ie(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Ln(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return oe(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Qn(t,r,i),u={name:o.fullPath},s=yn(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=Fn(o,n),f=e.maxUploadRetryTime,h=new Un(s,"POST",(function(e){var t;Xn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Bn(!1)}return Bn(dn(t)),t}),f);return h.urlParams=u,h.headers=l,h.body=c,h.errorHandler=Gn(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ur,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Un(n,"POST",(function(e){var t=Xn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Bn(!1)}n||Bn(!1);var i=Number(n);return Bn(!isNaN(i)),new Yn(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Gn(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,ur,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Jn*this._chunkMultiplier,n=new Yn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Zn(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,ur,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){Jn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Hn(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,ur,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=$n(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ur,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nn(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=nr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new rr(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(nr(this._state)){case tr.SUCCESS:ir(this._resolve.bind(null,this.snapshot))();break;case tr.CANCELED:case tr.ERROR:ir(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(nr(this._state)){case tr.RUNNING:case tr.PAUSED:e.next&&ir(e.next.bind(e,this.snapshot))();break;case tr.SUCCESS:e.complete&&ir(e.complete.bind(e))();break;default:e.error&&ir(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),lr=function(){function e(t,n){ie(this,e),this._service=t,this._location=n instanceof fn?n:fn.makeFromUrl(n,t.host)}return oe(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Dn(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new fn(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw un(e)}}]),e}();function cr(e,t,n){return fr.apply(this,arguments)}function fr(){return(fr=ee(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,hr(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,qe(u.prefixes)),(a=n.items).push.apply(a,qe(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,cr(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(e,t){null!=t&&"number"===typeof t.maxResults&&mn("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Wn(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ur)}function dr(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=yn(t.fullServerUrl(),e.host,e._protocol),a=Fn(n,r),o=e.maxOperationRetryTime,u=new Un(i,"PATCH",zn(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Kn(t),u}(e.storage,e._location,t,Ln());return e.storage.makeRequestWithTokens(n,ur)}function vr(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=yn(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Un(r,"GET",qn(e,n),i);return a.errorHandler=Kn(t),a}(e.storage,e._location,Ln());return e.storage.makeRequestWithTokens(t,ur).then((function(e){if(null===e)throw new Zt("no-download-url","The given file does not have any download URLs.");return e}))}function pr(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=yn(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Un(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Kn(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ur)}function mr(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new fn(e._location.bucket,n);return new lr(e.storage,r)}function yr(e,t){if(e instanceof wr){var n=e;if(null==n._bucket)throw new Zt("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new lr(n,n._bucket);return null!=t?yr(r,t):r}return void 0!==t?mr(e,t):e}function gr(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof wr)return new lr(e,t);throw an("To use ref(service, url), the first argument must be a Storage instance.")}return yr(e,t)}function kr(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:fn.makeFromBucketSpec(n,e)}function br(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:_e(i,e.app.options.projectId))}var wr=function(){function e(t,n,r,i,a){ie(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Jt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?fn.makeFromBucketSpec(i,this._host):kr(this._host,this.app.options)}return oe(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=kr(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){mn("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){mn("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new lr(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new hn(on());var a=function(e,t,n,r,i,a){var o=gn(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new kn(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),xr="@firebase/storage",_r="0.9.4",Sr="storage";function Er(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sr(e,new An(t),n)}(e=Ve(e),t,n)}function Tr(e){return function(e){e._throwIfRoot("getMetadata");var t=Hn(e.storage,e._location,Ln());return e.storage.makeRequestWithTokens(t,ur)}(e=Ve(e))}function Ir(e){return function(e){var t={prefixes:[],items:[]};return cr(e,t).then((function(){return t}))}(e=Ve(e))}function Cr(e,t){return gr(e=Ve(e),t)}function Ar(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};br(e,t,n,r)}function Nr(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new wr(r,i,a,n,wt)}vt(new Ge(Sr,Nr,"PUBLIC").setMultipleInstances(!0)),It(xr,_r,""),It(xr,_r,"esm2017");var Dr=function(){function e(t,n,r){ie(this,e),this._delegate=t,this.task=n,this.ref=r}return oe(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Pr=function(){function e(t,n){ie(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return oe(e,[{key:"snapshot",get:function(){return new Dr(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Dr(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Dr(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Dr(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Rr=function(){function e(t,n){ie(this,e),this._delegate=t,this._service=n}return oe(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Or(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Or(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Or=function(){function e(t,n){ie(this,e),this._delegate=t,this.storage=n}return oe(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return mr(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Pr(Er(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=En(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Pr(new sr(this._delegate,new An(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Ir(this._delegate).then((function(t){return new Rr(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return hr(e=Ve(e),t)}(this._delegate,e||void 0).then((function(e){return new Rr(e,t.storage)}))}},{key:"getMetadata",value:function(){return Tr(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return dr(e=Ve(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return vr(Ve(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),pr(Ve(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw un(e)}}]),e}(),Lr=function(){function e(t,n){ie(this,e),this.app=t,this._delegate=n}return oe(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Mr(e))throw an("ref() expected a child path but got a URL, use refFromURL instead.");return new Or(Cr(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Mr(e))throw an("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fn.makeFromUrl(e,this._delegate.host)}catch(t){throw an("refFromUrl() expected a valid full URL but got an invalid one.")}return new Or(Cr(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ar(this._delegate,e,t,n)}}]),e}();function Mr(e){return/^[A-Za-z]+:\/\//.test(e)}function Vr(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Lr(r,i)}function Fr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fe(e)););return e}function jr(){return jr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jr.apply(this,arguments)}!function(e){var t={TaskState:tr,TaskEvent:er,StringFormat:_n,Storage:Lr,Reference:Or};e.INTERNAL.registerComponent(new Ge("storage-compat",Vr,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.12")}(Xt);var Ur,Br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},zr={},qr=qr||{},Gr=Br||self;function Kr(){}function Hr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Wr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qr="closure_uid_"+(1e9*Math.random()>>>0),$r=0;function Yr(e,t,n){return e.call.apply(e.bind,arguments)}function Xr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jr(e,t,n){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yr:Xr).apply(null,arguments)}function Zr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ei(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ti(){this.s=this.s,this.o=this.o}var ni={};ti.prototype.s=!1,ti.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qr)&&e[Qr]||(e[Qr]=++$r)}(this);delete ni[e]}},ti.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ri=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ii=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ai(e){return Array.prototype.concat.apply([],arguments)}function oi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ui(e){return/^[\s\xa0]*$/.test(e)}var si,li=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ci(e,t){return-1!=e.indexOf(t)}function fi(e,t){return e<t?-1:e>t?1:0}e:{var hi=Gr.navigator;if(hi){var di=hi.userAgent;if(di){si=di;break e}}si=""}function vi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pi(e){var t={};for(var n in e)t[n]=e[n];return t}var mi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<mi.length;a++)n=mi[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gi(e){return gi[" "](e),e}gi[" "]=Kr;var ki,bi=ci(si,"Opera"),wi=ci(si,"Trident")||ci(si,"MSIE"),xi=ci(si,"Edge"),_i=xi||wi,Si=ci(si,"Gecko")&&!(ci(si.toLowerCase(),"webkit")&&!ci(si,"Edge"))&&!(ci(si,"Trident")||ci(si,"MSIE"))&&!ci(si,"Edge"),Ei=ci(si.toLowerCase(),"webkit")&&!ci(si,"Edge");function Ti(){var e=Gr.document;return e?e.documentMode:void 0}e:{var Ii="",Ci=function(){var e=si;return Si?/rv:([^\);]+)(\)|;)/.exec(e):xi?/Edge\/([\d\.]+)/.exec(e):wi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ei?/WebKit\/(\S+)/.exec(e):bi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ci&&(Ii=Ci?Ci[1]:""),wi){var Ai=Ti();if(null!=Ai&&Ai>parseFloat(Ii)){ki=String(Ai);break e}}ki=Ii}var Ni,Di={};function Pi(){return function(e){var t=Di;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=li(String(ki)).split("."),n=li("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=fi(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||fi(0==a[2].length,0==o[2].length)||fi(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Gr.document&&wi){var Ri=Ti();Ni=Ri||(parseInt(ki,10)||void 0)}else Ni=void 0;var Oi=Ni,Li=function(){if(!Gr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Gr.addEventListener("test",Kr,t),Gr.removeEventListener("test",Kr,t)}catch(Zx){}return e}();function Mi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Vi(e,t){if(Mi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Si){e:{try{gi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vi.Z.h.call(this)}}Mi.prototype.h=function(){this.defaultPrevented=!0},ei(Vi,Mi);var Fi={2:"touch",3:"pen",4:"mouse"};Vi.prototype.h=function(){Vi.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ji="closure_listenable_"+(1e6*Math.random()|0),Ui=0;function Bi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ui,this.ca=this.fa=!1}function zi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function qi(e){this.src=e,this.g={},this.h=0}function Gi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ri(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(zi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ki(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}qi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ki(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Bi(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Hi="closure_lm_"+(1e6*Math.random()|0),Wi={};function Qi(e,t,n,r,i){if(r&&r.once)return Yi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qi(e,t[a],n,r,i);return null}return n=ra(n),e&&e[ji]?e.N(t,n,Wr(r)?!!r.capture:!!r,i):$i(e,t,n,!1,r,i)}function $i(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Wr(i)?!!i.capture:!!i,u=ta(e);if(u||(e[Hi]=u=new qi(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ea;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Li||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Yi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yi(e,t[a],n,r,i);return null}return n=ra(n),e&&e[ji]?e.O(t,n,Wr(r)?!!r.capture:!!r,i):$i(e,t,n,!0,r,i)}function Xi(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xi(e,t[a],n,r,i);else r=Wr(r)?!!r.capture:!!r,n=ra(n),e&&e[ji]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ki(a=e.g[t],n,r,i))&&(zi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ta(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ki(t,n,r,i)),(n=-1<e?t[e]:null)&&Ji(n))}function Ji(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ji])Gi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ta(t))?(Gi(n,e),0==n.h&&(n.src=null,t[Hi]=null)):zi(e)}}}function Zi(e){return e in Wi?Wi[e]:Wi[e]="on"+e}function ea(e,t){if(e.ca)e=!0;else{t=new Vi(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ji(e),e=n.call(r,t)}return e}function ta(e){return(e=e[Hi])instanceof qi?e:null}var na="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(e){return"function"===typeof e?e:(e[na]||(e[na]=function(t){return e.handleEvent(t)}),e[na])}function ia(){ti.call(this),this.i=new qi(this),this.P=this,this.I=null}function aa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mi(t,e);else if(t instanceof Mi)t.target=t.target||e;else{var i=t;yi(t=new Mi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=oa(o,r,!0,t)&&i}if(i=oa(o=t.g=e,r,!0,t)&&i,i=oa(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=oa(o=t.g=n[a],r,!1,t)&&i}function oa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Gi(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ei(ia,ti),ia.prototype[ji]=!0,ia.prototype.removeEventListener=function(e,t,n,r){Xi(this,e,t,n,r)},ia.prototype.M=function(){if(ia.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zi(n[r]);delete t.g[e],t.h--}}this.I=null},ia.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ia.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ua=Gr.JSON.stringify;function sa(){var e=ma,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var la,ca=function(){function e(){ie(this,e),this.h=this.g=null}return oe(e,[{key:"add",value:function(e,t){var n=fa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fa=new(function(){function e(t,n){ie(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return oe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ha}),(function(e){return e.reset()})),ha=function(){function e(){ie(this,e),this.next=this.g=this.h=null}return oe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function da(e){Gr.setTimeout((function(){throw e}),0)}function va(e,t){la||function(){var e=Gr.Promise.resolve(void 0);la=function(){e.then(ya)}}(),pa||(la(),pa=!0),ma.add(e,t)}var pa=!1,ma=new ca;function ya(){for(var e;e=sa();){try{e.h.call(e.g)}catch(Zx){da(Zx)}var t=fa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}pa=!1}function ga(e,t){ia.call(this),this.h=e||1,this.g=t||Gr,this.j=Jr(this.kb,this),this.l=Date.now()}function ka(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ba(e,t,n){if("function"===typeof e)n&&(e=Jr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Gr.setTimeout(e,t||0)}function wa(e){e.g=ba((function(){e.g=null,e.i&&(e.i=!1,wa(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ei(ga,ia),(Ur=ga.prototype).da=!1,Ur.S=null,Ur.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),aa(this,"tick"),this.da&&(ka(this),this.start()))}},Ur.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ur.M=function(){ga.Z.M.call(this),ka(this),delete this.g};var xa=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return oe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wa(this)}},{key:"M",value:function(){jr(fe(n.prototype),"M",this).call(this),this.g&&(Gr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ti);function _a(e){ti.call(this),this.h=e,this.g={}}ei(_a,ti);var Sa=[];function Ea(e,t,n,r){Array.isArray(n)||(n&&(Sa[0]=n.toString()),n=Sa);for(var i=0;i<n.length;i++){var a=Qi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ta(e){vi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ji(e)}),e),e.g={}}function Ia(){this.g=!0}function Ca(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ua(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}_a.prototype.M=function(){_a.Z.M.call(this),Ta(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ia.prototype.Aa=function(){this.g=!1},Ia.prototype.info=function(){};var Aa={},Na=null;function Da(){return Na=Na||new ia}function Pa(e){Mi.call(this,Aa.Ma,e)}function Ra(e){var t=Da();aa(t,new Pa(t,e))}function Oa(e,t){Mi.call(this,Aa.STAT_EVENT,e),this.stat=t}function La(e){var t=Da();aa(t,new Oa(t,e))}function Ma(e,t){Mi.call(this,Aa.Na,e),this.size=t}function Va(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Gr.setTimeout((function(){e()}),t)}Aa.Ma="serverreachability",ei(Pa,Mi),Aa.STAT_EVENT="statevent",ei(Oa,Mi),Aa.Na="timingevent",ei(Ma,Mi);var Fa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ja={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ua(){}function Ba(e){return e.h||(e.h=e.i())}function za(){}Ua.prototype.h=null;var qa,Ga={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ka(){Mi.call(this,"d")}function Ha(){Mi.call(this,"c")}function Wa(){}function Qa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new _a(this),this.P=Ya,e=_i?125:void 0,this.W=new ga(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $a}function $a(){this.i=null,this.g="",this.h=!1}ei(Ka,Mi),ei(Ha,Mi),ei(Wa,Ua),Wa.prototype.g=function(){return new XMLHttpRequest},Wa.prototype.i=function(){return{}},qa=new Wa;var Ya=45e3,Xa={},Ja={};function Za(e,t,n){e.K=1,e.v=_o(yo(t)),e.s=n,e.U=!0,eo(e,null)}function eo(e,t){e.F=Date.now(),io(e),e.A=yo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mo(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $a,e.g=Vu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new xa(Jr(e.Ia,e,e.g),e.O)),Ea(e.V,e.g,"readystatechange",e.gb),t=e.H?pi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ra(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function to(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function no(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ro(e,n))==Ja){4==t&&(e.o=4,La(14),i=!1),Ca(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xa){e.o=4,La(15),Ca(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ca(e.j,e.m,r,null),lo(e,r)}to(e)&&r!=Ja&&r!=Xa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,La(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Au(t),t.L=!0,La(11))):(Ca(e.j,e.m,n,"[Invalid Chunked Response]"),so(e),uo(e))}function ro(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ja:(n=Number(t.substring(n,r)),isNaN(n)?Xa:(r+=1)+n>t.length?Ja:(t=t.substr(r,n),e.C=r+n,t))}function io(e){e.Y=Date.now()+e.P,ao(e,e.P)}function ao(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Va(Jr(e.eb,e),t)}function oo(e){e.B&&(Gr.clearTimeout(e.B),e.B=null)}function uo(e){0==e.l.G||e.I||Pu(e.l,e)}function so(e){oo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ka(e.W),Ta(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qo(n.i,e)))if(n.I=e.N,!e.J&&qo(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Du(n),bu(n)}Cu(n),La(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Va(Jr(n.ab,n),6e3));if(1>=zo(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ou(n,11)}else if((e.J||n.g==e)&&Du(n),!ui(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(ci(c,"spdy")||ci(c,"quic")||ci(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Go(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,xo(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Mu(r,r.H?r.la:null,r.W),d.J){Ko(r.i,d);var v=d,p=r.K;p&&v.setTimeout(p),v.B&&(oo(v),io(v)),r.g=d}else Iu(r);0<n.l.length&&_u(n)}else"stop"!=a[0]&&"close"!=a[0]||Ou(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ou(n,7):ku(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ra(4)}catch(a){}}function co(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Hr(e)||"string"===typeof e)ii(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Hr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Hr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function fo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ho(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];vo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)vo(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ur=Qa.prototype).setTimeout=function(e){this.P=e},Ur.gb=function(e){e=e.target;var t=this.L;t&&3==vu(e)?t.l():this.Ia(e)},Ur.Ia=function(e){try{if(e==this.g)e:{var t=vu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||_i||this.g&&(this.h.h||this.g.ga()||pu(this.g)))){this.I||4!=t||7==n||Ra(8==n||0>=r?3:2),oo(this);var i=this.g.ba();this.N=i;t:if(to(this)){var a=pu(this.g);e="";var o=a.length,u=4==vu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){so(this),uo(this);var s="";break t}this.h.i=new Gr.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ui(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,La(12),so(this),uo(this);break e}Ca(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lo(this,i)}this.U?(no(this,t,s),_i&&this.i&&3==t&&(Ea(this.V,this.W,"tick",this.fb),this.W.start())):(Ca(this.j,this.m,s,null),lo(this,s)),4==t&&so(this),this.i&&!this.I&&(4==t?Pu(this.l,this):(this.i=!1,io(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,La(12)):(this.o=0,La(13)),so(this),uo(this)}}}catch(t){}},Ur.fb=function(){if(this.g){var e=vu(this.g),t=this.g.ga();this.C<t.length&&(oo(this),no(this,e,t),this.i&&4!=e&&io(this))}},Ur.cancel=function(){this.I=!0,so(this)},Ur.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ra(3),La(17)),so(this),this.o=2,uo(this)):ao(this,this.Y-e)},(Ur=fo.prototype).R=function(){ho(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ur.T=function(){return ho(this),this.g.concat()},Ur.get=function(e,t){return vo(this.h,e)?this.h[e]:t},Ur.set=function(e,t){vo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ur.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var po=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof mo){this.g=void 0!==t?t:e.g,go(this,e.j),this.s=e.s,ko(this,e.i),bo(this,e.m),this.l=e.l,t=e.h;var n=new Po;n.i=t.i,t.g&&(n.g=new fo(t.g),n.h=t.h),wo(this,n),this.o=e.o}else e&&(n=String(e).match(po))?(this.g=!!t,go(this,n[1]||"",!0),this.s=So(n[2]||""),ko(this,n[3]||"",!0),bo(this,n[4]),this.l=So(n[5]||"",!0),wo(this,n[6]||"",!0),this.o=So(n[7]||"")):(this.g=!!t,this.h=new Po(null,this.g))}function yo(e){return new mo(e)}function go(e,t,n){e.j=n?So(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ko(e,t,n){e.i=n?So(t,!0):t}function bo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wo(e,t,n){t instanceof Po?(e.h=t,function(e,t){t&&!e.j&&(Ro(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Oo(this,t),Mo(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Eo(t,No)),e.h=new Po(t,e.g))}function xo(e,t,n){e.h.set(t,n)}function _o(e){return xo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function So(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,To),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function To(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eo(t,Io,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eo(t,Io,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eo(n,"/"==n.charAt(0)?Ao:Co,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eo(n,Do)),e.join("")};var Io=/[#\/\?@]/g,Co=/[#\?:]/g,Ao=/[#\?]/g,No=/[#\?@]/g,Do=/#/g;function Po(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ro(e){e.g||(e.g=new fo,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Oo(e,t){Ro(e),t=Vo(e,t),vo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,vo((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ho(e)))}function Lo(e,t){return Ro(e),t=Vo(e,t),vo(e.g.h,t)}function Mo(e,t,n){Oo(e,t),0<n.length&&(e.i=null,e.g.set(Vo(e,t),oi(n)),e.h+=n.length)}function Vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ur=Po.prototype).add=function(e,t){Ro(this),this.i=null,e=Vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ur.forEach=function(e,t){Ro(this),this.g.forEach((function(n,r){ii(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ur.T=function(){Ro(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ur.R=function(e){Ro(this);var t=[];if("string"===typeof e)Lo(this,e)&&(t=ai(t,this.g.get(Vo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ai(t,e[n])}return t},Ur.set=function(e,t){return Ro(this),this.i=null,Lo(this,e=Vo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ur.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ur.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Fo=oe((function e(t,n){ie(this,e),this.h=t,this.g=n}));function jo(e){this.l=e||Uo,Gr.PerformanceNavigationTiming?e=0<(e=Gr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Gr.g&&Gr.g.Ea&&Gr.g.Ea()&&Gr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Uo=10;function Bo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zo(e){return e.h?1:e.g?e.g.size:0}function qo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Go(e,t){e.g?e.g.add(t):e.h=t}function Ko(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ho(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ue(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return oi(e.i)}function Wo(){}function Qo(){this.g=new Wo}function $o(e,t,n){var r=n||"";try{co(e,(function(e,n){var i=e;Wr(e)&&(i=ua(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xo(e){this.l=e.$b||null,this.j=e.ib||!1}function Jo(e,t){ia.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ue(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Wo.prototype.stringify=function(e){return Gr.JSON.stringify(e,void 0)},Wo.prototype.parse=function(e){return Gr.JSON.parse(e,void 0)},ei(Xo,Ua),Xo.prototype.g=function(){return new Jo(this.l,this.j)},Xo.prototype.i=function(e){return function(){return e}}({}),ei(Jo,ia);var Zo=0;function eu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function tu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nu(e)}function nu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ur=Jo.prototype).open=function(e,t){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nu(this)},Ur.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Gr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ur.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tu(this)),this.readyState=Zo},Ur.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nu(this)),this.g&&(this.readyState=3,nu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Gr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ur.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tu(this):nu(this),3==this.readyState&&eu(this)}},Ur.Ua=function(e){this.g&&(this.response=this.responseText=e,tu(this))},Ur.Ta=function(e){this.g&&(this.response=e,tu(this))},Ur.ha=function(){this.g&&tu(this)},Ur.setRequestHeader=function(e,t){this.v.append(e,t)},Ur.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ur.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ru=Gr.JSON.parse;function iu(e){ia.call(this),this.headers=new fo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=au,this.K=this.L=!1}ei(iu,ia);var au="",ou=/^https?$/i,uu=["POST","PUT"];function su(e){return"content-type"==e.toLowerCase()}function lu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cu(e),hu(e)}function cu(e){e.D||(e.D=!0,aa(e,"complete"),aa(e,"error"))}function fu(e){if(e.h&&"undefined"!=typeof qr&&(!e.C[1]||4!=vu(e)||2!=e.ba()))if(e.v&&4==vu(e))ba(e.Fa,0,e);else if(aa(e,"readystatechange"),4==vu(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(po)[1]||null;if(!a&&Gr.self&&Gr.self.location){var o=Gr.self.location.protocol;a=o.substr(0,o.length-1)}i=!ou.test(a?a.toLowerCase():"")}t=i}if(t)aa(e,"complete"),aa(e,"success");else{e.m=6;try{var u=2<vu(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",cu(e)}}finally{hu(e)}}}function hu(e,t){if(e.g){du(e);var n=e.g,r=e.C[0]?Kr:null;e.g=null,e.C=null,t||aa(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function du(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Gr.clearTimeout(e.A),e.A=null)}function vu(e){return e.g?e.g.readyState:0}function pu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case au:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Jx){return null}}function mu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return vi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xo(e,t,n))}function yu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gu(e){this.za=0,this.l=[],this.h=new Ia,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yu("baseRetryDelayMs",5e3,e),this.$a=yu("retryDelaySeedMs",1e4,e),this.Ya=yu("forwardChannelMaxRetries",2,e),this.ra=yu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new jo(e&&e.concurrentRequestLimit),this.Ca=new Qo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ku(e){if(wu(e),3==e.G){var t=e.V++,n=yo(e.F);xo(n,"SID",e.J),xo(n,"RID",t),xo(n,"TYPE","terminate"),Eu(e,n),(t=new Qa(e,e.h,t,void 0)).K=2,t.v=_o(yo(n)),n=!1,Gr.navigator&&Gr.navigator.sendBeacon&&(n=Gr.navigator.sendBeacon(t.v.toString(),"")),!n&&Gr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),io(t)}Lu(e)}function bu(e){e.g&&(Au(e),e.g.cancel(),e.g=null)}function wu(e){bu(e),e.u&&(Gr.clearTimeout(e.u),e.u=null),Du(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Gr.clearTimeout(e.m),e.m=null)}function xu(e,t){e.l.push(new Fo(e.Za++,t)),3==e.G&&_u(e)}function _u(e){Bo(e.i)||e.m||(e.m=!0,va(e.Ha,e),e.C=0)}function Su(e,t){var n;n=t?t.m:e.V++;var r=yo(e.F);xo(r,"SID",e.J),xo(r,"RID",n),xo(r,"AID",e.U),Eu(e,r),e.o&&e.s&&mu(r,e.o,e.s),n=new Qa(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Tu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Go(e.i,n),Za(n,r,t)}function Eu(e,t){e.j&&co({},(function(e,n){xo(t,n,e)}))}function Tu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jr(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{$o(c,o,"req"+l+"_")}catch(cs){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Iu(e){e.g||e.u||(e.Y=1,va(e.Ga,e),e.A=0)}function Cu(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Va(Jr(e.Ga,e),Ru(e,e.A)),e.A++,!0)}function Au(e){null!=e.B&&(Gr.clearTimeout(e.B),e.B=null)}function Nu(e){e.g=new Qa(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yo(e.oa);xo(t,"RID","rpc"),xo(t,"SID",e.J),xo(t,"CI",e.N?"0":"1"),xo(t,"AID",e.U),Eu(e,t),xo(t,"TYPE","xmlhttp"),e.o&&e.s&&mu(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_o(yo(t)),n.s=null,n.U=!0,eo(n,e)}function Du(e){null!=e.v&&(Gr.clearTimeout(e.v),e.v=null)}function Pu(e,t){var n=null;if(e.g==t){Du(e),Au(e),e.g=null;var r=2}else{if(!qo(e.i,t))return;n=t.D,Ko(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;aa(r=Da(),new Ma(r,n,t,i)),_u(e)}else Iu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(zo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Va(Jr(e.Ha,e,t),Ru(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ou(e,5);break;case 4:Ou(e,10);break;case 3:Ou(e,6);break;default:Ou(e,2)}}function Ru(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ou(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jr(e.jb,e);n||(n=new mo("//www.google.com/images/cleardot.gif"),Gr.location&&"http"==Gr.location.protocol||go(n,"https"),_o(n)),function(e,t){var n=new Ia;if(Gr.Image){var r=new Image;r.onload=Zr(Yo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zr(Yo,n,r,"TestLoadImage: error",!1,t),r.onabort=Zr(Yo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zr(Yo,n,r,"TestLoadImage: timeout",!1,t),Gr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else La(2);e.G=0,e.j&&e.j.va(t),Lu(e),wu(e)}function Lu(e){e.G=0,e.I=-1,e.j&&(0==Ho(e.i).length&&0==e.l.length||(e.i.i.length=0,oi(e.l),e.l.length=0),e.j.ua())}function Mu(e,t,n){var r=function(e){return e instanceof mo?yo(e):new mo(e,void 0)}(n);if(""!=r.i)t&&ko(r,t+"."+r.i),bo(r,r.m);else{var i=Gr.location;r=function(e,t,n,r){var i=new mo(null,void 0);return e&&go(i,e),t&&ko(i,t),n&&bo(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&vi(e.aa,(function(e,t){xo(r,t,e)})),t=e.D,n=e.sa,t&&n&&xo(r,t,n),xo(r,"VER",e.ma),Eu(e,r),r}function Vu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new iu(new Xo({ib:!0})):new iu(e.qa)).L=e.H,t}function Fu(){}function ju(){if(wi&&!(10<=Number(Oi)))throw Error("Environmental error: no available transport.")}function Uu(e,t){ia.call(this),this.g=new gu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ui(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ui(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qu(this)}function Bu(e){Ka.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zu(){Ha.call(this),this.status=1}function qu(e){this.g=e}(Ur=iu.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qa.g(),this.C=this.u?Ba(this.u):Ba(qa),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void lu(this,a)}e=n||"";var i=new fo(this.headers);r&&co(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=su,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Gr.FormData&&e instanceof Gr.FormData,!(0<=ri(uu,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{du(this),0<this.B&&((this.K=function(e){return wi&&Pi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=ba(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){lu(this,a)}},Ur.pa=function(){"undefined"!=typeof qr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,aa(this,"timeout"),this.abort(8))},Ur.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,aa(this,"complete"),aa(this,"abort"),hu(this))},Ur.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hu(this,!0)),iu.Z.M.call(this)},Ur.Fa=function(){this.s||(this.F||this.v||this.l?fu(this):this.cb())},Ur.cb=function(){fu(this)},Ur.ba=function(){try{return 2<vu(this)?this.g.status:-1}catch(Xx){return-1}},Ur.ga=function(){try{return this.g?this.g.responseText:""}catch(Xx){return""}},Ur.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ru(t)}},Ur.Da=function(){return this.m},Ur.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ur=gu.prototype).ma=8,Ur.G=1,Ur.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Jx){}},Ur.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qa(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yi(n=pi(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tu(this,t,r),xo(i=yo(this.F),"RID",e),xo(i,"CVER",22),this.D&&xo(i,"X-HTTP-Session-Id",this.D),Eu(this,i),this.o&&n&&mu(i,this.o,n),Go(this.i,t),this.Ra&&xo(i,"TYPE","init"),this.ja?(xo(i,"$req",r),xo(i,"SID","null"),t.$=!0,Za(t,i,null)):Za(t,i,r),this.G=2}}else 3==this.G&&(e?Su(this,e):0==this.l.length||Bo(this.i)||Su(this))},Ur.Ga=function(){if(this.u=null,Nu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Va(Jr(this.bb,this),e)}},Ur.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,La(10),bu(this),Nu(this))},Ur.ab=function(){null!=this.v&&(this.v=null,bu(this),Cu(this),La(19))},Ur.jb=function(e){e?(this.h.info("Successfully pinged google.com"),La(2)):(this.h.info("Failed to ping google.com"),La(1))},(Ur=Fu.prototype).xa=function(){},Ur.wa=function(){},Ur.va=function(){},Ur.ua=function(){},Ur.Oa=function(){},ju.prototype.g=function(e,t){return new Uu(e,t)},ei(Uu,ia),Uu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),va(Jr(e.hb,e,t))),La(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Mu(e,null,e.W),_u(e)},Uu.prototype.close=function(){ku(this.g)},Uu.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,xu(this.g,t)}else this.v?((t={}).__data__=ua(e),xu(this.g,t)):xu(this.g,e)},Uu.prototype.M=function(){this.g.j=null,delete this.j,ku(this.g),delete this.g,Uu.Z.M.call(this)},ei(Bu,Ka),ei(zu,Ha),ei(qu,Fu),qu.prototype.xa=function(){aa(this.g,"a")},qu.prototype.wa=function(e){aa(this.g,new Bu(e))},qu.prototype.va=function(e){aa(this.g,new zu(e))},qu.prototype.ua=function(){aa(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,Uu.prototype.send=Uu.prototype.u,Uu.prototype.open=Uu.prototype.m,Uu.prototype.close=Uu.prototype.close,Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,ja.COMPLETE="complete",za.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",ia.prototype.listen=ia.prototype.N,iu.prototype.listenOnce=iu.prototype.O,iu.prototype.getLastError=iu.prototype.La,iu.prototype.getLastErrorCode=iu.prototype.Da,iu.prototype.getStatus=iu.prototype.ba,iu.prototype.getResponseJson=iu.prototype.Qa,iu.prototype.getResponseText=iu.prototype.ga,iu.prototype.send=iu.prototype.ea;var Gu=zr.createWebChannelTransport=function(){return new ju},Ku=zr.getStatEventTarget=function(){return Da()},Hu=zr.ErrorCode=Fa,Wu=zr.EventType=ja,Qu=zr.Event=Aa,$u=zr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yu=zr.FetchXmlHttpFactory=Xo,Xu=zr.WebChannel=za,Ju=zr.XhrIo=iu,Zu="@firebase/firestore",es=function(){function e(t){ie(this,e),this.uid=t}return oe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();es.UNAUTHENTICATED=new es(null),es.GOOGLE_CREDENTIALS=new es("google-credentials-uid"),es.FIRST_PARTY=new es("first-party-uid"),es.MOCK_USER=new es("mock-user");var ts="9.6.10",ns=new rt("@firebase/firestore");function rs(){return ns.logLevel}function is(e){if(ns.logLevel<=Qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(us);ns.debug.apply(ns,["Firestore (".concat(ts,"): ").concat(e)].concat(qe(i)))}}function as(e){if(ns.logLevel<=Qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(us);ns.error.apply(ns,["Firestore (".concat(ts,"): ").concat(e)].concat(qe(i)))}}function os(e){if(ns.logLevel<=Qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(us);ns.warn.apply(ns,["Firestore (".concat(ts,"): ").concat(e)].concat(qe(i)))}}function us(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ts,") INTERNAL ASSERTION FAILED: ")+e;throw as(t),new Error(t)}function ls(e,t){e||ss()}function cs(e,t){return e}var fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hs=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return oe(n)}(Ie),ds=oe((function e(){var t=this;ie(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vs=oe((function e(t,n){ie(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ps=function(){function e(){ie(this,e)}return oe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(es.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ms=function(){function e(t){ie(this,e),this.token=t,this.changeListener=null}return oe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ys=function(){function e(t){ie(this,e),this.t=t,this.currentUser=es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return oe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ds;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ds,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){is("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(is("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ds)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(is("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ls("string"==typeof n.accessToken),new vs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ls(null===e||"string"==typeof e),new es(e)}}]),e}(),gs=oe((function e(t,n,r){ie(this,e),this.type="FirstParty",this.user=es.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ks=function(){function e(t,n,r){ie(this,e),this.h=t,this.l=n,this.m=r}return oe(e,[{key:"getToken",value:function(){return Promise.resolve(new gs(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(es.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bs=oe((function e(t){ie(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ws=function(){function e(t){ie(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return oe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&is("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,is("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){is("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):is("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ls("string"==typeof t.token),e.p=t.token,new bs(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),xs=function(){function e(t,n){var r=this;ie(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return oe(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function _s(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}xs.A=-1;var Ss=function(){function e(){ie(this,e)}return oe(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_s(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Es(e,t){return e<t?-1:e>t?1:0}function Ts(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Is(e){return e+"\0"}var Cs=function(){function e(t,n){if(ie(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new hs(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hs(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new hs(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hs(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return oe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Es(this.nanoseconds,e.nanoseconds):Es(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),As=function(){function e(t){ie(this,e),this.timestamp=t}return oe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Cs(0,0))}},{key:"max",value:function(){return new e(new Cs(253402300799,999999999))}}]),e}();function Ns(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ds(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ps(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Rs=function(){function e(t,n,r){ie(this,e),void 0===n?n=0:n>t.length&&ss(),void 0===r?r=t.length-n:r>t.length-n&&ss(),this.segments=t,this.offset=n,this.len=r}return oe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Os=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new hs(fs.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,qe(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rs),Ls=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ms=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ls.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new hs(fs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new hs(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new hs(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new hs(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rs),Vs=function(){function e(t){ie(this,e),this.fields=t,t.sort(Ms.comparator)}return oe(e,[{key:"covers",value:function(e){var t,n=ue(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ts(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Fs=function(e){function t(e){ie(this,t),this.binaryString=e}return oe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Es(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Fs.EMPTY_BYTE_STRING=new Fs("");var js=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(e){if(ls(!!e),"string"==typeof e){var t=0,n=js.exec(e);if(ls(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bs(e.seconds),nanos:Bs(e.nanos)}}function Bs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zs(e){return"string"==typeof e?Fs.fromBase64String(e):Fs.fromUint8Array(e)}function qs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gs(e){var t=e.mapValue.fields.__previous_value__;return qs(t)?Gs(t):t}function Ks(e){var t=Us(e.mapValue.fields.__local_write_time__.timestampValue);return new Cs(t.seconds,t.nanos)}var Hs=oe((function e(t,n,r,i,a,o,u,s){ie(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ws=function(){function e(t,n){ie(this,e),this.projectId=t,this.database=n||"(default)"}return oe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Qs(e){return null==e}function $s(e){return 0===e&&1/e==-1/0}function Ys(e){return"number"==typeof e&&Number.isInteger(e)&&!$s(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xs=function(){function e(t){ie(this,e),this.path=t}return oe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Os.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Os.fromString(t))}},{key:"fromName",value:function(t){return new e(Os.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Os.emptyPath())}},{key:"comparator",value:function(e,t){return Os.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Os(t.slice()))}}]),e}(),Js={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zs={nullValue:"NULL_VALUE"};function el(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qs(e)?4:vl(e)?9:10:ss()}function tl(e,t){if(e===t)return!0;var n=el(e);if(n!==el(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ks(e).isEqual(Ks(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Us(e.timestampValue),r=Us(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zs(e.bytesValue).isEqual(zs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bs(e.geoPointValue.latitude)===Bs(t.geoPointValue.latitude)&&Bs(e.geoPointValue.longitude)===Bs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bs(e.integerValue)===Bs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Bs(e.doubleValue),r=Bs(t.doubleValue);return n===r?$s(n)===$s(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ts(e.arrayValue.values||[],t.arrayValue.values||[],tl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ns(n)!==Ns(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tl(n[i],r[i])))return!1;return!0}(e,t);default:return ss()}}function nl(e,t){return void 0!==(e.values||[]).find((function(e){return tl(e,t)}))}function rl(e,t){if(e===t)return 0;var n=el(e),r=el(t);if(n!==r)return Es(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Es(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Bs(e.integerValue||e.doubleValue),r=Bs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return il(e.timestampValue,t.timestampValue);case 4:return il(Ks(e),Ks(t));case 5:return Es(e.stringValue,t.stringValue);case 6:return function(e,t){var n=zs(e),r=zs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Es(n[i],r[i]);if(0!==a)return a}return Es(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Es(Bs(e.latitude),Bs(t.latitude));return 0!==n?n:Es(Bs(e.longitude),Bs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=rl(n[i],r[i]);if(a)return a}return Es(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Es(r[o],a[o]);if(0!==u)return u;var s=rl(n[r[o]],i[a[o]]);if(0!==s)return s}return Es(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ss()}}function il(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Es(e,t);var n=Us(e),r=Us(t),i=Es(n.seconds,r.seconds);return 0!==i?i:Es(n.nanos,r.nanos)}function al(e){return ol(e)}function ol(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Us(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?zs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ue(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ol(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ue(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ol(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ss();var t,n}function ul(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sl(e){return!!e&&"integerValue"in e}function ll(e){return!!e&&"arrayValue"in e}function cl(e){return!!e&&"nullValue"in e}function fl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hl(e){return!!e&&"mapValue"in e}function dl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ds(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=dl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function vl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function pl(e,t){return void 0===e?t:void 0===t||rl(e,t)>0?e:t}function ml(e,t){return void 0===e?t:void 0===t||rl(e,t)<0?e:t}var yl=function(){function e(t){ie(this,e),this.value=t}return oe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!hl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}},{key:"setAll",value:function(e){var t=this,n=Ms.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());hl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return tl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];hl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ds(t,(function(t,n){return e[t]=n}));var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function gl(e){var t=[];return Ds(e.fields,(function(e,n){var r=new Ms([e]);if(hl(n)){var i=gl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ue(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Vs(t)}var kl=function(){function e(t,n,r,i,a,o){ie(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return oe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=yl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=yl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,As.min(),As.min(),yl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,As.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,As.min(),yl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,As.min(),yl.empty(),2)}}]),e}(),bl=oe((function e(t,n,r,i){ie(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function wl(e){return e.fields.find((function(e){return 2===e.kind}))}function xl(e){return e.fields.filter((function(e){return 2!==e.kind}))}bl.UNKNOWN_ID=-1;var _l=oe((function e(t,n){ie(this,e),this.fieldPath=t,this.kind=n})),Sl=function(){function e(t,n){ie(this,e),this.sequenceNumber=t,this.offset=n}return oe(e,null,[{key:"empty",value:function(){return new e(0,Il.min())}}]),e}();function El(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=As.fromTimestamp(1e9===r?new Cs(n+1,0):new Cs(n,r));return new Il(i,Xs.empty(),t)}function Tl(e){return new Il(e.readTime,e.key,-1)}var Il=function(){function e(t,n,r){ie(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return oe(e,null,[{key:"min",value:function(){return new e(As.min(),Xs.empty(),-1)}},{key:"max",value:function(){return new e(As.max(),Xs.empty(),-1)}}]),e}();function Cl(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Xs.comparator(e.documentKey,t.documentKey))?n:Es(e.largestBatchId,t.largestBatchId)}var Al=oe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ie(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Nl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Al(e,t,n,r,i,a,o)}function Dl(e){var t=cs(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+al(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return al(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return al(e)})).join(",")),t.P=n}return t.P}function Pl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Hl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!tl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ql(e.startAt,t.startAt)&&Ql(e.endAt,t.endAt)}function Rl(e){return Xs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ol(e,t){return e.filters.filter((function(e){return e instanceof Ll&&e.field.isEqual(t)}))}var Ll=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return oe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(rl(t,this.value)):null!==t&&el(this.value)===el(t)&&this.v(rl(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ss()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Ml(e,t,r):"array-contains"===t?new Ul(e,r):"in"===t?new Bl(e,r):"not-in"===t?new zl(e,r):"array-contains-any"===t?new ql(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Vl(e,n):new Fl(e,n)}}]),n}(function(){return oe((function e(){ie(this,e)}))}()),Ml=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this,e,r,i)).key=Xs.fromName(i.referenceValue),a}return oe(n,[{key:"matches",value:function(e){var t=Xs.comparator(e.key,this.key);return this.v(t)}}]),n}(Ll),Vl=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e,"in",r)).keys=jl("in",r),i}return oe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ll),Fl=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e,"not-in",r)).keys=jl("not-in",r),i}return oe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ll);function jl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xs.fromName(e.referenceValue)}))}var Ul=function(e){ce(n,e);var t=pe(n);function n(e,r){return ie(this,n),t.call(this,e,"array-contains",r)}return oe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ll(t)&&nl(t.arrayValue,this.value)}}]),n}(Ll),Bl=function(e){ce(n,e);var t=pe(n);function n(e,r){return ie(this,n),t.call(this,e,"in",r)}return oe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&nl(this.value.arrayValue,t)}}]),n}(Ll),zl=function(e){ce(n,e);var t=pe(n);function n(e,r){return ie(this,n),t.call(this,e,"not-in",r)}return oe(n,[{key:"matches",value:function(e){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!nl(this.value.arrayValue,t)}}]),n}(Ll),ql=function(e){ce(n,e);var t=pe(n);function n(e,r){return ie(this,n),t.call(this,e,"array-contains-any",r)}return oe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ll(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return nl(t.value.arrayValue,e)}))}}]),n}(Ll),Gl=oe((function e(t,n){ie(this,e),this.position=t,this.inclusive=n})),Kl=oe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ie(this,e),this.field=t,this.dir=n}));function Hl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xs.comparator(Xs.fromName(o.referenceValue),n.key):rl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ql(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tl(e.position[n],t.position[n]))return!1;return!0}var $l=oe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ie(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Yl(e,t,n,r,i,a,o,u){return new $l(e,t,n,r,i,a,o,u)}function Xl(e){return new $l(e)}function Jl(e){return!Qs(e.limit)&&"F"===e.limitType}function Zl(e){return!Qs(e.limit)&&"L"===e.limitType}function ec(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tc(e){var t,n=ue(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function nc(e){return null!==e.collectionGroup}function rc(e){var t=cs(e);if(null===t.D){t.D=[];var n=tc(t),r=ec(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Kl(n)),t.D.push(new Kl(Ms.keyField(),"asc"));else{var i,a=!1,o=ue(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Kl(Ms.keyField(),s))}}}return t.D}function ic(e){var t=cs(e);if(!t.C)if("F"===t.limitType)t.C=Nl(t.path,t.collectionGroup,rc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ue(rc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Kl(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new Gl(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Gl(t.startAt.position,!t.startAt.inclusive):null;t.C=Nl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function ac(e,t,n){return new $l(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oc(e,t){return Pl(ic(e),ic(t))&&e.limitType===t.limitType}function uc(e){return"".concat(Dl(ic(e)),"|lt:").concat(e.limitType)}function sc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(al(t.value));var t})).join(", "),"]")),Qs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return al(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return al(e)})).join(",")),"Target(".concat(t,")")}(ic(e)),"; limitType=").concat(e.limitType,")")}function lc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ue(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ue(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Wl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Wl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rc(e),t))}(e,t)}function cc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fc(e){return function(t,n){var r,i=!1,a=ue(rc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=hc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function hc(e,t,n){var r=e.field.isKeyField()?Xs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rl(r,i):ss()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ss()}}function dc(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$s(t)?"-0":t}}function vc(e){return{integerValue:""+e}}function pc(e,t){return Ys(t)?vc(t):dc(e,t)}var mc=oe((function e(){ie(this,e),this._=void 0}));function yc(e,t,n){return e instanceof bc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wc?xc(e,t):e instanceof _c?Sc(e,t):function(e,t){var n=kc(e,t),r=Tc(n)+Tc(e.k);return sl(n)&&sl(e.k)?vc(r):dc(e.M,r)}(e,t)}function gc(e,t,n){return e instanceof wc?xc(e,t):e instanceof _c?Sc(e,t):n}function kc(e,t){return e instanceof Ec?sl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bc=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n)}(mc),wc=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).elements=e,r}return oe(n)}(mc);function xc(e,t){var n,r=Ic(t),i=ue(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return tl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _c=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).elements=e,r}return oe(n)}(mc);function Sc(e,t){var n,r=Ic(t),i=ue(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!tl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ec=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).M=e,i.k=r,i}return oe(n)}(mc);function Tc(e){return Bs(e.integerValue||e.doubleValue)}function Ic(e){return ll(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cc=oe((function e(t,n){ie(this,e),this.field=t,this.transform=n}));var Ac=oe((function e(t,n){ie(this,e),this.version=t,this.transformResults=n})),Nc=function(){function e(t,n){ie(this,e),this.updateTime=t,this.exists=n}return oe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Dc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pc=oe((function e(){ie(this,e)}));function Rc(e,t,n){e instanceof Fc?function(e,t,n){var r=e.value.clone(),i=Bc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jc?function(e,t,n){if(Dc(e.precondition,t)){var r=Bc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Uc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Oc(e,t,n){e instanceof Fc?function(e,t,n){if(Dc(e.precondition,t)){var r=e.value.clone(),i=zc(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Vc(t),r).setHasLocalMutations()}}(e,t,n):e instanceof jc?function(e,t,n){if(Dc(e.precondition,t)){var r=zc(e.fieldTransforms,n,t),i=t.data;i.setAll(Uc(e)),i.setAll(r),t.convertToFoundDocument(Vc(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Dc(e.precondition,t)&&t.convertToNoDocument(As.min())}(e,t)}function Lc(e,t){var n,r=null,i=ue(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=kc(a.transform,o||null);null!=u&&(null==r&&(r=yl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Mc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ts(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wc&&t instanceof wc||e instanceof _c&&t instanceof _c?Ts(e.elements,t.elements,tl):e instanceof Ec&&t instanceof Ec?tl(e.k,t.k):e instanceof bc&&t instanceof bc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Vc(e){return e.isFoundDocument()?e.version:As.min()}var Fc=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ie(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return oe(n)}(Pc),jc=function(e){ce(n,e);var t=pe(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ie(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return oe(n)}(Pc);function Uc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bc(e,t,n){var r=new Map;ls(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,gc(o,u,n[i]))}return r}function zc(e,t,n){var r,i=new Map,a=ue(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,yc(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var qc,Gc,Kc=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return oe(n)}(Pc),Hc=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return oe(n)}(Pc),Wc=oe((function e(t){ie(this,e),this.count=t}));function Qc(e){switch(e){default:return ss();case fs.CANCELLED:case fs.UNKNOWN:case fs.DEADLINE_EXCEEDED:case fs.RESOURCE_EXHAUSTED:case fs.INTERNAL:case fs.UNAVAILABLE:case fs.UNAUTHENTICATED:return!1;case fs.INVALID_ARGUMENT:case fs.NOT_FOUND:case fs.ALREADY_EXISTS:case fs.PERMISSION_DENIED:case fs.FAILED_PRECONDITION:case fs.ABORTED:case fs.OUT_OF_RANGE:case fs.UNIMPLEMENTED:case fs.DATA_LOSS:return!0}}function $c(e){if(void 0===e)return as("GRPC error has no .code"),fs.UNKNOWN;switch(e){case qc.OK:return fs.OK;case qc.CANCELLED:return fs.CANCELLED;case qc.UNKNOWN:return fs.UNKNOWN;case qc.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case qc.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case qc.INTERNAL:return fs.INTERNAL;case qc.UNAVAILABLE:return fs.UNAVAILABLE;case qc.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case qc.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case qc.NOT_FOUND:return fs.NOT_FOUND;case qc.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case qc.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case qc.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case qc.ABORTED:return fs.ABORTED;case qc.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case qc.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case qc.DATA_LOSS:return fs.DATA_LOSS;default:return ss()}}(Gc=qc||(qc={}))[Gc.OK=0]="OK",Gc[Gc.CANCELLED=1]="CANCELLED",Gc[Gc.UNKNOWN=2]="UNKNOWN",Gc[Gc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gc[Gc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gc[Gc.NOT_FOUND=5]="NOT_FOUND",Gc[Gc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gc[Gc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gc[Gc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gc[Gc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gc[Gc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gc[Gc.ABORTED=10]="ABORTED",Gc[Gc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gc[Gc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gc[Gc.INTERNAL=13]="INTERNAL",Gc[Gc.UNAVAILABLE=14]="UNAVAILABLE",Gc[Gc.DATA_LOSS=15]="DATA_LOSS";var Yc=function(){function e(t,n){ie(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return oe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ds(this.inner,(function(t,n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ps(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Xc=function(){function e(t,n){ie(this,e),this.comparator=t,this.root=n||Zc.EMPTY}return oe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Jc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Jc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Jc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Jc(this.root,e,this.comparator,!0)}}]),e}(),Jc=function(){function e(t,n,r,i){ie(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return oe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Zc=function(){function e(t,n,r,i,a){ie(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return oe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ss();if(this.right.isRed())throw ss();var e=this.left.check();if(e!==this.right.check())throw ss();return e+(this.isRed()?0:1)}}]),e}();Zc.EMPTY=null,Zc.RED=!0,Zc.BLACK=!1,Zc.EMPTY=new(function(){function e(){ie(this,e),this.size=0}return oe(e,[{key:"key",get:function(){throw ss()}},{key:"value",get:function(){throw ss()}},{key:"color",get:function(){throw ss()}},{key:"left",get:function(){throw ss()}},{key:"right",get:function(){throw ss()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Zc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ef=function(){function e(t){ie(this,e),this.comparator=t,this.data=new Xc(this.comparator)}return oe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new tf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new tf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),tf=function(){function e(t){ie(this,e),this.iter=t}return oe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function nf(e){return e.hasNext()?e.getNext():void 0}var rf=new Xc(Xs.comparator);function af(){return rf}var of=new Xc(Xs.comparator);function uf(){return of}function sf(){return new Yc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var lf=new Xc(Xs.comparator),cf=new ef(Xs.comparator);function ff(){for(var e=cf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var hf=new ef(Es);function df(){return hf}var vf=function(){function e(t,n,r,i,a){ie(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return oe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,pf.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(As.min(),r,df(),af(),ff())}}]),e}(),pf=function(){function e(t,n,r,i,a){ie(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return oe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Fs.EMPTY_BYTE_STRING,n,ff(),ff(),ff())}}]),e}(),mf=oe((function e(t,n,r,i){ie(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),yf=oe((function e(t,n){ie(this,e),this.targetId=t,this.$=n})),gf=oe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ie(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),kf=function(){function e(){ie(this,e),this.B=0,this.L=xf(),this.U=Fs.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return oe(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=ff(),t=ff(),n=ff();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ss()}})),new pf(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=xf()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),bf=function(){function e(t){ie(this,e),this.nt=t,this.st=new Map,this.it=af(),this.rt=wf(),this.ot=new ef(Es)}return oe(e,[{key:"ut",value:function(e){var t,n=ue(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=ue(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ss()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Rl(i))if(0===n){var a=new Xs(i.path);this.ct(t,a,kl.newNoDocument(a,As.min()))}else ls(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Rl(a.target)){var o=new Xs(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,kl.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ff();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new vf(e,n,this.ot,this.it,r);return this.it=af(),this.rt=wf(),this.ot=new ef(Es),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new kf,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new ef(Es),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||is("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new kf),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function wf(){return new Xc(Xs.comparator)}function xf(){return new Xc(Xs.comparator)}var _f={asc:"ASCENDING",desc:"DESCENDING"},Sf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef=oe((function e(t,n){ie(this,e),this.databaseId=t,this.N=n}));function Tf(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function If(e,t){return e.N?t.toBase64():t.toUint8Array()}function Cf(e,t){return Tf(e,t.toTimestamp())}function Af(e){return ls(!!e),As.fromTimestamp(function(e){var t=Us(e);return new Cs(t.seconds,t.nanos)}(e))}function Nf(e,t){return function(e){return new Os(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Df(e){var t=Os.fromString(e);return ls(eh(t)),t}function Pf(e,t){return Nf(e.databaseId,t.path)}function Rf(e,t){var n=Df(t);if(n.get(1)!==e.databaseId.projectId)throw new hs(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hs(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xs(Vf(n))}function Of(e,t){return Nf(e.databaseId,t)}function Lf(e){var t=Df(e);return 4===t.length?Os.emptyPath():Vf(t)}function Mf(e){return new Os(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vf(e){return ls(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ff(e,t,n){return{name:Pf(e,t),fields:n.value.mapValue.fields}}function jf(e,t,n){var r=Rf(e,t.name),i=Af(t.updateTime),a=new yl({mapValue:{fields:t.fields}}),o=kl.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Uf(e,t){return"found"in t?function(e,t){ls(!!t.found),t.found.name,t.found.updateTime;var n=Rf(e,t.found.name),r=Af(t.found.updateTime),i=new yl({mapValue:{fields:t.found.fields}});return kl.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ls(!!t.missing),ls(!!t.readTime);var n=Rf(e,t.missing),r=Af(t.readTime);return kl.newNoDocument(n,r)}(e,t):ss()}function Bf(e,t){var n;if(t instanceof Fc)n={update:Ff(e,t.key,t.value)};else if(t instanceof Kc)n={delete:Pf(e,t.key)};else if(t instanceof jc)n={update:Ff(e,t.key,t.data),updateMask:Zf(t.fieldMask)};else{if(!(t instanceof Hc))return ss();n={verify:Pf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _c)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ec)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ss()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ss()}(e,t.precondition)),n}function zf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Nc.updateTime(Af(e.updateTime)):void 0!==e.exists?Nc.exists(e.exists):Nc.none()}(t.currentDocument):Nc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ls("REQUEST_TIME"===t.setToServerValue),n=new bc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new wc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new _c(i)}else"increment"in t?n=new Ec(e,t.increment):ss();var a=Ms.fromServerFormat(t.fieldPath);return new Cc(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Rf(e,t.update.name),a=new yl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Vs(t.map((function(e){return Ms.fromServerFormat(e)})))}(t.updateMask);return new jc(i,a,o,n,r)}return new Fc(i,a,n,r)}if(t.delete){var u=Rf(e,t.delete);return new Kc(u,n)}if(t.verify){var s=Rf(e,t.verify);return new Hc(s,n)}return ss()}function qf(e,t){return{documents:[Of(e,t.path)]}}function Gf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Of(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Of(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(fl(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NAN"}};if(cl(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fl(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NAN"}};if(cl(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$f(e.field),op:Qf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$f(e.field),direction:Wf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Qs(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Kf(e){var t=Lf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ls(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Hf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Kl(Yf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Qs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Gl(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Gl(n,t)}(n.endAt)),Yl(t,i,u,o,s,"F",l,c)}function Hf(e){return e?void 0!==e.unaryFilter?[Jf(e)]:void 0!==e.fieldFilter?[Xf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Hf(e)})).reduce((function(e,t){return e.concat(t)})):ss():[]}function Wf(e){return _f[e]}function Qf(e){return Sf[e]}function $f(e){return{fieldPath:e.canonicalString()}}function Yf(e){return Ms.fromServerFormat(e.fieldPath)}function Xf(e){return Ll.create(Yf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ss()}}(e.fieldFilter.op),e.fieldFilter.value)}function Jf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yf(e.unaryFilter.field);return Ll.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yf(e.unaryFilter.field);return Ll.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yf(e.unaryFilter.field);return Ll.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yf(e.unaryFilter.field);return Ll.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ss()}}function Zf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function eh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function th(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rh(t)),t=nh(e.get(n),t);return rh(t)}function nh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function rh(e){return e+"\x01\x01"}function ih(e){var t=e.length;if(ls(t>=2),2===t)return ls("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Os.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ss(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ss()}a=o+2}return new Os(r)}var ah=["userId","batchId"];function oh(e,t){return[e,th(t)]}function uh(e,t,n){return[e,th(t),n]}var sh={},lh=["prefixPath","collectionGroup","readTime","documentId"],ch=["prefixPath","collectionGroup","documentId"],fh=["collectionGroup","readTime","prefixPath","documentId"],hh=["canonicalId","targetId"],dh=["targetId","path"],vh=["path","targetId"],ph=["collectionId","parent"],mh=["indexId","uid"],yh=["uid","sequenceNumber"],gh=["indexId","uid","arrayValue","directionalValue","documentKey"],kh=["indexId","uid","documentKey"],bh=["userId","collectionPath","documentId"],wh=["userId","collectionPath","largestBatchId"],xh=["userId","collectionGroup","largestBatchId"],_h=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Sh=[].concat(qe(_h),["documentOverlays"]),Eh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Th=[].concat(Eh,["indexConfiguration","indexState","indexEntries"]),Ih="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ch=function(){function e(){ie(this,e),this.onCommittedListeners=[]}return oe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Ah=function(){function e(t){var n=this;ie(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return oe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ss(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ue(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Nh=function(){function e(t,n){var r=this;ie(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new ds,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Rh(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Fh(e.target.error);r.At.reject(new Rh(t,n))}}return oe(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(is("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Lh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Rh(n,t)}}}]),e}(),Dh=function(){function e(t,n,r){ie(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Se())&&as("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return oe(e,[{key:"Nt",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return is("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Rh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new hs(fs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new hs(fs.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Rh(t,n))},i.onupgradeneeded=function(e){is("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){is("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o,u,s,l=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ne().mark((function e(){var n,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Nt(t);case 2:return l.db=e.sent,n=Nh.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Ah.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,is("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return is("SimpleDb","Removing database:",e),Mh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Te())return!1;if(e.St())return!0;var t=Se(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/nft-generator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ph=function(){function e(t){ie(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return oe(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Mh(this.Ft.delete())}}]),e}(),Rh=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,fs.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return oe(n)}(hs);function Oh(e){return"IndexedDbTransactionError"===e.name}var Lh=function(){function e(t){ie(this,e),this.store=t}return oe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(is("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(is("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Mh(n)}},{key:"add",value:function(e){return is("SimpleDb","ADD",this.store.name,e,e),Mh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Mh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),is("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return is("SimpleDb","DELETE",this.store.name,e),Mh(this.store.delete(e))}},{key:"count",value:function(){return is("SimpleDb","COUNT",this.store.name),Mh(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ah((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ah((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){is("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Ah((function(n,r){t.onerror=function(e){var t=Fh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new Ah((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ph(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ah){var u=o.catch((function(e){return a.done(),Ah.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Ah.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Mh(e){return new Ah((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Fh(e.target.error);n(t)}}))}var Vh=!1;function Fh(e){var t=Dh.Vt(Se());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new hs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vh||(Vh=!0,setTimeout((function(){throw r}),0)),r}}return e}var jh=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return oe(n)}(Ch);function Uh(e,t){var n=cs(e);return Dh.xt(n.Ht,t)}var Bh=function(){function e(t,n,r,i){ie(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return oe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Rc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ue(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Oc(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ue(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Oc(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(As.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ff())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(function(e,t){return Mc(e,t)}))&&Ts(this.baseMutations,e.baseMutations,(function(e,t){return Mc(e,t)}))}}]),e}(),zh=function(){function e(t,n,r,i){ie(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return oe(e,null,[{key:"from",value:function(t,n,r){ls(t.mutations.length===r.length);for(var i=lf,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qh=function(){function e(t,n){ie(this,e),this.largestBatchId=t,this.mutation=n}return oe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Gh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:As.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:As.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fs.EMPTY_BYTE_STRING;ie(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return oe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Kh=oe((function e(t){ie(this,e),this.Jt=t}));function Hh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tf(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Qh(t.version)};else{if(!t.isUnknownDocument())return ss();r.unknownDocument={path:n.path.toArray(),version:Qh(t.version)}}return r}function Wh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $h(e){var t=new Cs(e.seconds,e.nanoseconds);return As.fromTimestamp(t)}function Yh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zf(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return zf(e.Jt,t)})),u=Cs.fromMillis(t.localWriteTimeMs);return new Bh(t.batchId,u,n,o)}function Xh(e){var t,n,r=$h(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$h(e.lastLimboFreeSnapshotVersion):As.min();return void 0!==e.query.documents?(ls(1===(n=e.query).documents.length),t=ic(Xl(Lf(n.documents[0])))):t=function(e){return ic(Kf(e))}(e.query),new Gh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Fs.fromBase64String(e.resumeToken))}function Jh(e,t){var n,r=Qh(t.snapshotVersion),i=Qh(t.lastLimboFreeSnapshotVersion);n=Rl(t.target)?qf(e.Jt,t.target):Gf(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Dl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Zh(e){var t=Kf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ac(t,t.limit,"L"):t}function ed(e,t){return new qh(t.largestBatchId,zf(e.Jt,t.overlayMutation))}function td(e,t){var n=t.path.lastSegment();return[e,th(t.path.popLast()),n]}var nd=function(){function e(){ie(this,e)}return oe(e,[{key:"getBundleMetadata",value:function(e,t){return rd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:$h(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return rd(e).put({bundleId:(n=t).id,createTime:Qh(Af(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return id(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Zh(t.bundledQuery),readTime:$h(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return id(e).put(function(e){return{name:e.name,readTime:Qh(Af(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function rd(e){return Uh(e,"bundles")}function id(e){return Uh(e,"namedQueries")}var ad=function(){function e(t,n){ie(this,e),this.M=t,this.userId=n}return oe(e,[{key:"getOverlay",value:function(e,t){var n=this;return od(e).get(td(this.userId,t)).next((function(e){return e?ed(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new qh(t,a);i.push(r.Xt(e,o))})),Ah.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(th(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(od(e).Qt("collectionPathOverlayIndex",i))})),Ah.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=sf(),a=th(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return od(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ed(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=sf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return od(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=ed(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return od(e).put(function(e,t,n){var r=u(td(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bf(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function od(e){return Uh(e,"documentOverlays")}var ud=function(){function e(){ie(this,e)}return oe(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Bs(e.integerValue));else if("doubleValue"in e){var n=Bs(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),$s(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(zs(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?vl(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ss()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Xs.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function sd(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ld(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=sd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ud.fe=new ud;var cd=function(){function e(){ie(this,e),this.buffer=new Uint8Array(1024),this.position=0}return oe(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=ld(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=ld(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),fd=function(){function e(t){ie(this,e),this.De=t}return oe(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),hd=function(){function e(t){ie(this,e),this.De=t}return oe(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),dd=function(){function e(){ie(this,e),this.De=new cd,this.Ce=new fd(this.De),this.xe=new hd(this.De)}return oe(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),vd=function(){function e(t,n,r,i){ie(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return oe(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function pd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=md(e.arrayValue,t.arrayValue))?n:0!==(n=md(e.directionalValue,t.directionalValue))?n:Xs.comparator(e.documentKey,t.documentKey)}function md(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var yd=function(){function e(t){ie(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ue(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return oe(e,[{key:"$e",value:function(e){var t=wl(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=xl(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ue(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),gd=function(){function e(){ie(this,e),this.qe=new kd}return oe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Ah.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ah.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ah.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ah.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ah.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Ah.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Ah.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ah.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Ah.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ah.resolve()}}]),e}(),kd=function(){function e(){ie(this,e),this.index={}}return oe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ef(Os.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ef(Os.comparator)).toArray()}}]),e}(),bd=new Uint8Array(0),wd=function(){function e(t){ie(this,e),this.user=t,this.Ge=new kd,this.Ke=new Yc((function(e){return Dl(e)}),(function(e,t){return Pl(e,t)})),this.uid=t.uid||""}return oe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:th(i)};return xd(e).put(a)}return Ah.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Is(t),""],!1,!0);return xd(e).qt(r).next((function(e){var r,i=ue(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ih(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Sd(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Sd(e),r=Ed(e),i=_d(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_d(e),i=!0,a=new Map;return Ah.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ff();return Ah.forEach(a,(function(i,a){var o;is("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Dl(t)));var u=function(e,t){var n=wl(t);if(void 0===n)return null;var r,i=ue(Ol(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=ue(xl(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ue(Ol(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(l){u.e(l)}finally{u.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=ue(xl(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,l=void 0,c=!0,f=ue(Ol(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,v=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Zs:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ul(Ws.empty(),Xs.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ss();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,v=!1;break;case"!=":case"not-in":d=Zs}pl(l,d)===d&&(l=d,c=v)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var p=0;p<e.orderBy.length;++p)if(e.orderBy[p].field.isEqual(s.fieldPath)){var m=e.startAt.position[p];pl(l,m)===m&&(l=m,c=e.startAt.inclusive);break}if(void 0===l)return null;i.push(l),a&&(a=c)}}catch(y){o.e(y)}finally{o.f()}return new Gl(i,a)}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=ue(xl(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,l=void 0,c=!0,f=ue(Ol(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,v=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ul(Ws.empty(),Xs.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Js:ss(),v=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,v=!1;break;case"!=":case"not-in":d=Js}ml(l,d)===d&&(l=d,c=v)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var p=0;p<e.orderBy.length;++p)if(e.orderBy[p].field.isEqual(s.fieldPath)){var m=e.endAt.position[p];ml(l,m)===m&&(l=m,c=e.endAt.inclusive);break}if(void 0===l)return null;i.push(l),a&&(a=c)}}catch(y){o.e(y)}finally{o.f()}return new Gl(i,a)}(a,i),f=n.je(i,a,l),h=n.je(i,a,c),d=n.We(i,a,s),v=n.ze(i.indexId,u,f,!!l&&l.inclusive,h,!!c&&c.inclusive,d);return Ah.forEach(v,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Xs(ih(t.documentKey)))}))}))}))})).next((function(){return e}))}return Ah.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),l=s/(null!=t?t.length:1),c=[],f=function(s){var f=t?u.He(t[s/l]):bd,h=n?u.Je(e,f,n[s%l],r):u.Ye(e),d=i?u.Xe(e,f,i[s%l],a):u.Ye(e+1);c.push.apply(c,qe(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return c}},{key:"Je",value:function(e,t,n,r){var i=new vd(e,Xs.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new vd(e,Xs.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new vd(e,Xs.empty(),bd,bd)}},{key:"getFieldIndex",value:function(e,t){var n=new yd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new dd,i=ue(xl(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);ud.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new dd;return ud.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new dd);var i,a=0,o=ue(xl(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,l=n[a++],c=ue(r);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&ll(l))r=this.en(r,s,l);else{var h=f.Ne(s.kind);ud.fe.Zt(l,h)}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=qe(e),a=[],o=ue(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=ue(i);try{for(l.s();!(u=l.n()).done;){var c=u.value,f=new dd;f.seed(c.Se()),ud.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ll&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Sd(e),i=Ed(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Ah.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Sl(t.sequenceNumber,new Il($h(t.readTime),new Xs(ih(t.documentKey)),t.largestBatchId)):Sl.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new _l(Ms.fromServerFormat(n),r)}));return new bl(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Es(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Sd(e),a=Ed(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ah.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Qh(r.readTime),documentKey:th(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ah.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ah.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ah.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?Ah.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return _d(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:th(t.key.path)})}},{key:"cn",value:function(e,t,n){return _d(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,th(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=_d(e),i=new ef(pd);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,th(t.path)])},(function(e,r){i=i.add(new vd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new ef(pd),r=this.Ze(t,e);if(null==r)return n;var i=wl(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ll(a)){var o,u=ue(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new vd(t.indexId,e.key,this.He(s),r))}}catch(l){u.e(l)}finally{u.f()}}}else n=n.add(new vd(t.indexId,e.key,bd,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;is("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=nf(a),s=nf(o);u||s;){var l=!1,c=!1;if(u&&s){var f=n(u,s);f<0?c=!0:f>0&&(l=!0)}else null!=u?c=!0:l=!0;l?(r(s),s=nf(o)):c?(i(u),u=nf(a)):(u=nf(a),s=nf(o))}}(n,r,pd,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),Ah.waitFor(a)}},{key:"sn",value:function(e){var t=1;return Ed(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return pd(e,t)})).filter((function(e,t,n){return!t||0!==pd(e,n[t-1])}));var r=[];r.push(e);var i,a=ue(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=pd(o,e),s=pd(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var l=[],c=0;c<r.length;c+=2)l.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,""],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,""]));return l}}]),e}();function xd(e){return Uh(e,"collectionParents")}function _d(e){return Uh(e,"indexEntries")}function Sd(e){return Uh(e,"indexConfiguration")}function Ed(e){return Uh(e,"indexState")}var Td={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Id=function(){function e(t,n,r){ie(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return oe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Cd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ls(1===u)})));var l,c=[],f=ue(n.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=uh(t,h.key.path,n.batchId);a.push(i.delete(d)),c.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return Ah.waitFor(a).next((function(){return c}))}function Ad(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ss();t=e.noDocument}return JSON.stringify(t).length}Id.DEFAULT_COLLECTION_PERCENTILE=10,Id.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Id.DEFAULT=new Id(41943040,Id.DEFAULT_COLLECTION_PERCENTILE,Id.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Id.DISABLED=new Id(-1,0,0);var Nd=function(){function e(t,n,r,i){ie(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return oe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pd(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Rd(e),o=Pd(e);return o.add({}).next((function(u){ls("number"==typeof u);var s,l=new Bh(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Bf(e.Jt,t)})),i=n.mutations.map((function(t){return Bf(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,l),f=[],h=new ef((function(e,t){return Es(e.canonicalString(),t.canonicalString())})),d=ue(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=uh(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(c)),f.push(a.put(p,sh))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=l.keys()})),Ah.waitFor(f).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Pd(e).get(t).next((function(e){return e?(ls(e.userId===n.userId),Yh(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?Ah.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Pd(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ls(t.batchId>=r),a=Yh(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pd(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Yh(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=oh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Rd(e).Wt({range:i},(function(r,i,o){var s=u(r,3),l=s[0],c=s[1],f=s[2],h=ih(c);if(l===n.userId&&t.path.isEqual(h))return Pd(e).get(f).next((function(e){if(!e)throw ss();ls(e.userId===n.userId),a.push(Yh(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ef(Es),i=[];return t.forEach((function(t){var a=oh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Rd(e).Wt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],l=o[1],c=o[2],f=ih(l);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Ah.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=oh(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new ef(Es);return Rd(e).Wt({range:o},(function(e,t,a){var o=u(e,3),l=o[0],c=o[1],f=o[2],h=ih(c);l===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.fn(e,s)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Pd(e).get(t).next((function(e){if(null===e)throw ss();ls(e.userId===n.userId),r.push(Yh(n.M,e))})))})),Ah.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Cd(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),Ah.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ah.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Rd(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ih(e[1]);i.push(a)}else r.done()})).next((function(){ls(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Dd(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return Od(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return ls(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Dd(e,t,n){var r=oh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Rd(e).Wt({range:a,jt:!0},(function(e,n,r){var a=u(e,3),s=a[0],l=a[1];a[2];s===t&&l===i&&(o=!0),r.done()})).next((function(){return o}))}function Pd(e){return Uh(e,"mutations")}function Rd(e){return Uh(e,"documentMutations")}function Od(e){return Uh(e,"mutationQueues")}var Ld=function(){function e(t){ie(this,e),this.wn=t}return oe(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Md=function(){function e(t,n){ie(this,e),this.referenceDelegate=t,this.M=n}return oe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Ld(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return As.fromTimestamp(new Cs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Vd(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return ls(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Vd(e).Wt((function(o,u){var s=Xh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ah.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Vd(e).Wt((function(e,n){var r=Xh(n);t(r)}))}},{key:"yn",value:function(e){return Fd(e).get("targetGlobalKey").next((function(e){return ls(null!==e),e}))}},{key:"pn",value:function(e,t){return Fd(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Vd(e).put(Jh(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Dl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vd(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Xh(n);Pl(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=jd(e);return t.forEach((function(t){var o=th(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ah.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=jd(e);return Ah.forEach(t,(function(t){var a=th(t.path);return Ah.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=jd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=jd(e),i=ff();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=ih(e[1]),a=new Xs(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=th(t.path),r=IDBKeyRange.bound([n],[Is(n)],!1,!0),i=0;return jd(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Vd(e).get(t).next((function(e){return e?Xh(e):null}))}}]),e}();function Vd(e){return Uh(e,"targets")}function Fd(e){return Uh(e,"targetGlobal")}function jd(e){return Uh(e,"targetDocuments")}function Ud(e){return Bd.apply(this,arguments)}function Bd(){return Bd=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fs.FAILED_PRECONDITION&&t.message===Ih){e.next=2;break}throw t;case 2:is("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function zd(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],l=Es(r,o);return 0===l?Es(i,s):l}var qd=function(){function e(t){ie(this,e),this.En=t,this.buffer=new ef(zd),this.An=0}return oe(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Gd=function(){function e(t,n){ie(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return oe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;is("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Oh(n.t0)){n.next=12;break}is("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ud(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Kd=function(){function e(t,n){ie(this,e),this.Sn=t,this.params=n}return oe(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ah.resolve(xs.A);var r=new qd(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(is("LruGarbageCollector","Garbage collection skipped; disabled"),Ah.resolve(Td)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(is("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Td):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(is("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),rs()<=Qe.DEBUG&&is("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-c,"ms")),Ah.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Hd=function(){function e(t,n){ie(this,e),this.db=t,this.garbageCollector=function(e,t){return new Kd(e,t)}(this,n)}return oe(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Wd(e,n)}},{key:"removeReference",value:function(e,t,n){return Wd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Wd(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return Od(e).zt((function(r){return Dd(e,r,t).next((function(e){return e&&(n=!0),Ah.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,As.min()),jd(e).delete([0,th(o.path)])}))}));i.push(s)}})).next((function(){return Ah.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Wd(e,t)}},{key:"kn",value:function(e,t){var n,r=jd(e),i=xs.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),l=r.sequenceNumber;0===o?(i!==xs.A&&t(new Xs(ih(n)),i),i=l,n=s):i=xs.A})).next((function(){i!==xs.A&&t(new Xs(ih(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Wd(e,t){return jd(e).put(function(e,t){return{targetId:0,path:th(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Qd=function(){function e(){ie(this,e),this.changes=new Yc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return oe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,kl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ah.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),$d=function(){function e(t){ie(this,e),this.M=t}return oe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Jd(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Jd(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Wh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=kl.newInvalidDocument(t);return Jd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Zd(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:kl.newInvalidDocument(t)};return Jd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Zd(t))},(function(e,i){r={document:n.Fn(t,i),size:Ad(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=af();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=af(),i=new Xc(Xs.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,Ad(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return Ah.resolve();var r=new ef(tv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Zd(r.first()),Zd(r.last())),a=r.getIterator(),o=a.getNext();return Jd(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Xs.fromSegments([].concat(qe(t.prefixPath),[t.collectionGroup,t.documentId]));o&&tv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Zd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Wh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jd(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=af(),i=ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(Xs.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=af(),o=ev(t,n),u=ev(t,Il.max());return Jd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(Xs.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Yd(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Xd(e).get("remoteDocumentGlobalKey").next((function(e){return ls(!!e),e}))}},{key:"On",value:function(e,t){return Xd(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=jf(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Xs.fromSegments(t.noDocument.path),i=$h(t.noDocument.readTime);n=kl.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ss();var a=Xs.fromSegments(t.unknownDocument.path),o=$h(t.unknownDocument.version);n=kl.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Cs(e[0],e[1]);return As.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(As.min()))return n}return kl.newInvalidDocument(e)}}]),e}(),Yd=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new Yc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return oe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ef((function(e,t){return Es(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Hh(t.qn.M,o);i=i.add(a.path.popLast());var l=Ad(s);r+=l-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var c=Hh(t.qn.M,o.convertToNoDocument(As.min()));n.push(t.qn.addEntry(e,a,c))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),Ah.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Qd);function Xd(e){return Uh(e,"remoteDocumentGlobal")}function Jd(e){return Uh(e,"remoteDocumentsV14")}function Zd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ev(e,t){var n=t.documentKey.path.toArray();return[e,Wh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tv(e,t){var n=e.path.length-t.path.length;return 0!==n?n:Xs.comparator(e,t)}var nv=function(){function e(t){ie(this,e),this.M=t}return oe(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Nh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ah,{unique:!0}),e.createObjectStore("documentMutations")}(e),rv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ah.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),rv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:As.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ah,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ah.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:bh});t.createIndex("collectionPathOverlayIndex",wh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",xh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:lh});t.createIndex("documentKeyIndex",ch),t.createIndex("collectionGroupIndex",fh)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:mh}).createIndex("sequenceNumberIndex",yh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gh}).createIndex("documentKeyIndex",kh,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Ad(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Ah.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Ah.forEach(r,(function(r){ls(r.userId===n.userId);var i=Yh(t.M,r);return Cd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Os(n),o=function(e){return[0,th(e)]}(a);r.push(t.get(o).next((function(n){return n?Ah.resolve():function(n){return t.put({targetId:0,path:th(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ah.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ph});var n=t.store("collectionParents"),r=new kd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:th(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Os(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],ih(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Xh(r),a=Jh(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Xs(Os.fromString(i.document.name).popFirst(5)):i.noDocument?Xs.fromSegments(i.noDocument.path):i.unknownDocument?Xs.fromSegments(i.unknownDocument.path):ss()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Ah.waitFor(r)}))}}]),e}();function rv(e){e.createObjectStore("targetDocuments",{keyPath:dh}).createIndex("documentTargetsIndex",vh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hh,{unique:!0}),e.createObjectStore("targetGlobal")}var iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",av=function(){function e(t,n,r,i,a,o,u,s,l,c){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(ie(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=l,this.Xn=c,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new hs(fs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hd(this,i),this.cs=n+"main",this.M=new Kh(s),this.hs=new Dh(this.cs,this.Zn,new nv(this.M)),this.ls=new Md(this.referenceDelegate,this.M),this.fs=function(e){return new $d(e)}(this.M),this.ds=new nd,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===c&&as("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return oe(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new hs(fs.FAILED_PRECONDITION,iv);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new xs(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=ee(ne().mark((function n(r){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return uv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(Oh(t))return is("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return is("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return ov(e).get("owner").next((function(e){return Ah.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return uv(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Uh(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ah.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=ue(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?Ah.resolve(!0):ov(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new hs(fs.FAILED_PRECONDITION,iv);return!1}}return!(!t.networkEnabled||!t.inForeground)||uv(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&is("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new jh(e,xs.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return uv(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return Nd.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new wd(e)}},{key:"getDocumentOverlayCache",value:function(e){return ad.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;is("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?Th:13===i?Eh:12===i?Sh:11===i?_h:void ss();return this.hs.runTransaction(e,o,u,(function(i){return a=new jh(i,r.ts?r.ts.next():xs.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw as("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new hs(fs.FAILED_PRECONDITION,Ih);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return ov(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new hs(fs.FAILED_PRECONDITION,iv)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ov(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=ov(e);return n.get("owner").next((function(e){return t.bs(e)?(is("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ah.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(as("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),Ee()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return is("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return as("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(ei){as("Failed to set zombie client id.",ei)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(ei){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Dh.vt()}}]),e}();function ov(e){return Uh(e,"owner")}function uv(e){return Uh(e,"clientMetadata")}function sv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var lv=function(){function e(t,n,r){ie(this,e),this.fs=t,this.$s=n,this.indexManager=r}return oe(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=ue(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=ue(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return Xs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):nc(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Xs(t)).next((function(e){var t=uf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=uf();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ah.forEach(o,(function(o){var u=function(e,t){return new $l(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ue(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,l=r.get(s);null==l&&(l=kl.newInvalidDocument(s),r=r.insert(s,l)),Oc(u,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(s))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){lc(t,n)||(r=r.remove(e))})),r}))}}]),e}(),cv=function(){function e(t,n,r,i){ie(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return oe(e,null,[{key:"Js",value:function(t,n){var r,i=ff(),a=ff(),o=ue(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),fv=function(){function e(){ie(this,e)}return oe(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(As.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Jl(t)||Zl(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(rs()<=Qe.DEBUG&&is("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),sc(t)),i.Xs.Ks(e,t,El(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new ef(fc(e));return t.forEach((function(t,r){lc(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return rs()<=Qe.DEBUG&&is("QueryEngine","Using full collection scan to execute query:",sc(t)),this.Xs.Ks(e,t,Il.min())}}]),e}(),hv=function(){function e(t,n,r,i){ie(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Xc(Es),this.ii=new Yc((function(e){return Dl(e)}),Pl),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return oe(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new lv(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function dv(e,t,n,r){return new hv(e,t,n,r)}function vv(e,t){return pv.apply(this,arguments)}function pv(){return pv=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ff(),s=ue(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=ue(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,v=ue(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,y=ue(p.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){v.e(k)}finally{v.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function mv(e,t){var n=cs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ah.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ls(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function yv(e){var t=cs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function gv(e,t){var n=cs(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(Fs.EMPTY_BYTE_STRING,As.min()).withLastLimboFreeSnapshotVersion(As.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.ls.updateTargetData(e,l))}}));var u=af();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(kv(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(As.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Ah.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function kv(e,t,n){var r=ff();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=af();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(As.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):is("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function bv(e,t){var n=cs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function wv(e,t){var n=cs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,Ah.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new Gh(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function xv(e,t,n){return _v.apply(this,arguments)}function _v(){return _v=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cs(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Oh(e.t1)){e.next=12;break}throw e.t1;case 12:is("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),_v.apply(this,arguments)}function Sv(e,t,n){var r=cs(e),i=As.min(),a=ff();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=cs(e),i=r.ii.get(n);return void 0!==i?Ah.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,ic(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:As.min(),n?a:ff())})).next((function(e){return Iv(r,cc(t),e),{documents:e,hi:a}}))}))}function Ev(e,t){var n=cs(e),r=cs(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Tv(e,t){var n=cs(e),r=n.ri.get(t)||As.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,El(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Iv(n,t,e),e}))}function Iv(e,t,n){var r=As.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function Cv(e,t,n,r){return Av.apply(this,arguments)}function Av(){return Av=ee(ne().mark((function e(t,n,r,i){var a,o,u,s,l,c,f,h,d,v;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=cs(t),o=ff(),u=af(),s=ue(r);try{for(s.s();!(l=s.n()).done;)c=l.value,f=n.li(c.metadata.name),c.document&&(o=o.add(f)),(h=n.fi(c)).setReadTime(n.di(c.metadata.readTime)),u=u.insert(f,h)}catch(p){s.e(p)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,wv(a,function(e){return ic(Xl(Os.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return kv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.ls.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Av.apply(this,arguments)}function Nv(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=ee(ne().mark((function e(t,n){var r,i,a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ff(),e.next=3,wv(t,ic(Zh(n.bundledQuery)));case 3:return i=e.sent,a=cs(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Af(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(Fs.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}var Pv=function(){function e(t){ie(this,e),this.M=t,this._i=new Map,this.wi=new Map}return oe(e,[{key:"getBundleMetadata",value:function(e,t){return Ah.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:Af(n.createTime)}),Ah.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ah.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Zh(e.bundledQuery),readTime:Af(e.readTime)}}(t)),Ah.resolve()}}]),e}(),Rv=function(){function e(){ie(this,e),this.overlays=new Xc(Xs.comparator),this.mi=new Map}return oe(e,[{key:"getOverlay",value:function(e,t){return Ah.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Ah.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),Ah.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=sf(),i=t.length+1,a=new Xs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ah.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Xc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=sf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=sf(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ah.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new qh(t,n));var a=this.mi.get(t);void 0===a&&(a=ff(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Ov=function(){function e(){ie(this,e),this.gi=new ef(Lv.yi),this.pi=new ef(Lv.Ii)}return oe(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Lv(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Lv(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Xs(new Os([])),r=new Lv(n,e),i=new Lv(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Xs(new Os([])),n=new Lv(t,e),r=new Lv(t,e+1),i=ff();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Lv(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Lv=function(){function e(t,n){ie(this,e),this.key=t,this.Vi=n}return oe(e,null,[{key:"yi",value:function(e,t){return Xs.comparator(e.key,t.key)||Es(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Es(e.Vi,t.Vi)||Xs.comparator(e.key,t.key)}}]),e}(),Mv=function(){function e(t,n){ie(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new ef(Lv.yi)}return oe(e,[{key:"checkEmpty",value:function(e){return Ah.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new Bh(i,t,n,r);this.$s.push(a);var o,u=ue(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new Lv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Ah.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ah.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return Ah.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ah.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return Ah.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Lv(t,0),i=new Lv(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),Ah.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ef(Es);return t.forEach((function(e){var t=new Lv(e,0),i=new Lv(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),Ah.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xs.isDocumentKey(i)||(i=i.child(""));var a=new Lv(new Xs(i),0),o=new ef(Es);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),Ah.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ls(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return Ah.forEach(t.mutations,(function(i){var a=new Lv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Lv(t,0),r=this.Si.firstAfterOrEqual(n);return Ah.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,Ah.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),Vv=function(){function e(t){ie(this,e),this.ki=t,this.docs=new Xc(Xs.comparator),this.size=0}return oe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ah.resolve(n?n.document.mutableCopy():kl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=af();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():kl.newInvalidDocument(e))})),Ah.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=af(),i=new Xs(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Cl(Tl(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ah.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ss()}},{key:"Mi",value:function(e,t){return Ah.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Fv(this)}},{key:"getSize",value:function(e){return Ah.resolve(this.size)}}]),e}(),Fv=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).qn=e,r}return oe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),Ah.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(Qd),jv=function(){function e(t){ie(this,e),this.persistence=t,this.Oi=new Yc((function(e){return Dl(e)}),Pl),this.lastRemoteSnapshotVersion=As.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Ov,this.targetCount=0,this.Bi=Ld.mn()}return oe(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),Ah.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ah.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ah.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),Ah.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),Ah.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Ld(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,Ah.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),Ah.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,Ah.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ah.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ah.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return Ah.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),Ah.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ah.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),Ah.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return Ah.resolve(n)}},{key:"containsKey",value:function(e,t){return Ah.resolve(this.$i.containsKey(t))}}]),e}(),Uv=function(){function e(t,n){var r=this;ie(this,e),this.Li={},this.overlays={},this.ts=new xs(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new jv(this),this.indexManager=new gd,this.fs=new Vv((function(e){return r.referenceDelegate.Ui(e)})),this.M=new Kh(n),this.ds=new Pv(this.M)}return oe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Rv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Mv(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;is("MemoryPersistence","Starting transaction:",e);var i=new Bv(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return Ah.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Bv=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return oe(n)}(Ch),zv=function(){function e(t){ie(this,e),this.persistence=t,this.Qi=new Ov,this.ji=null}return oe(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw ss()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),Ah.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),Ah.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),Ah.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ah.forEach(this.zi,(function(r){var i=Xs.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,As.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return Ah.or([function(){return Ah.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function qv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Gv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Kv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Hv=function(){function e(t,n,r,i){ie(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return oe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new hs(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(as("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Wv=function(){function e(t,n,r){ie(this,e),this.targetId=t,this.state=n,this.error=r}return oe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hs(i.error.code,i.error.message))),a?new e(t,i.state,r):(as("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Qv=function(){function e(t,n){ie(this,e),this.clientId=t,this.activeTargetIds=n}return oe(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=df(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ys(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(as("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),$v=function(){function e(t,n){ie(this,e),this.clientId=t,this.onlineState=n}return oe(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(as("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Yv=function(){function e(){ie(this,e),this.activeTargetIds=df()}return oe(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Xv=function(){function e(t,n,r,i,a){ie(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Xc(Es),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=qv(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Yv),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return oe(e,[{key:"start",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a,o,u,s,l,c,f,h=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=ue(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(qv(this.persistenceKey,i)))&&(o=Qv.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),l=ue(this.ir);try{for(l.s();!(c=l.n()).done;)f=c.value,this.nr(f)}catch(d){l.e(d)}finally{l.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Kv(this.persistenceKey,e));if(n){var r=Wv.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Kv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return is("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){is("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){is("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(is("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void as("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(ee(ne().mark((function e(){var r,i,a,o,u,s,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=xs.A;if(null!=e)try{var n=JSON.parse(e);ls("number"==typeof n),t=n}catch(e){as("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==xs.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return l=t.Cr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Hv(this.currentUser,e,t,n),i=Gv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Gv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Kv(this.persistenceKey,e),i=new Wv(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Qv.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Hv.Ji(new es(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Wv.Ji(r,t)}},{key:"wr",value:function(e){return $v.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:is("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=df();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Jv=function(){function e(){ie(this,e),this.Fr=new Yv,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return oe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Yv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Zv=function(){function e(){ie(this,e)}return oe(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ep=function(){function e(){var t=this;ie(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return oe(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){is("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ue(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){is("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ue(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),tp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},np=function(){function e(t){ie(this,e),this.jr=t.jr,this.Wr=t.Wr}return oe(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),rp=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return oe(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ju;o.listenOnce(Wu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Hu.NO_ERROR:var t=o.getResponseJson();is("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hu.TIMEOUT:is("Connection",'RPC "'+e+'" timed out'),a(new hs(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:var n=o.getStatus();if(is("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(r.status);a(new hs(u,r.message))}else a(new hs(fs.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new hs(fs.UNAVAILABLE,"Connection failed."));break;default:ss()}}finally{is("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Gu(),a=Ku(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Yu({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())||"object"===typeof navigator&&"ReactNative"===navigator.product||Se().indexOf("Electron/")>=0||function(){var e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Se().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");is("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new np({jr:function(e){c?is("Connection","Not sending because WebChannel is closed:",e):(l||(is("Connection","Opening WebChannel transport."),s.open(),l=!0),is("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Xu.EventType.OPEN,(function(){c||is("Connection","WebChannel transport opened.")})),h(s,Xu.EventType.CLOSE,(function(){c||(c=!0,is("Connection","WebChannel transport closed"),f.eo())})),h(s,Xu.EventType.ERROR,(function(e){c||(c=!0,os("Connection","WebChannel transport errored:",e),f.eo(new hs(fs.UNAVAILABLE,"The operation could not be completed")))})),h(s,Xu.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];ls(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){is("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=qc[e];if(void 0!==t)return $c(t)}(a),u=i.message;void 0===o&&(o=fs.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.eo(new hs(o,u)),s.close()}else is("Connection","WebChannel received:",n),f.no(n)}})),h(a,Qu.STAT_EVENT,(function(e){e.stat===$u.PROXY?is("Connection","Detected buffering proxy"):e.stat===$u.NOPROXY&&is("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ie(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return oe(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);is("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return is("RestConnection","Received: ",e),e}),(function(t){throw os("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ts,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=tp[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function ip(){return"undefined"!=typeof window?window:null}function ap(){return"undefined"!=typeof document?document:null}function op(e){return new Ef(e,!0)}var up=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ie(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return oe(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&is("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),sp=function(){function e(t,n,r,i,a,o,u,s){ie(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new up(t,n)}return oe(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===fs.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===fs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new hs(fs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return is("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(is("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lp=function(e){ce(n,e);var t=pe(n);function n(e,r,i,a,o,u){var s;return ie(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return oe(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ss()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(ls(void 0===t||"string"==typeof t),Fs.fromBase64String(t||"")):(ls(void 0===t||t instanceof Uint8Array),Fs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?fs.UNKNOWN:$c(e.code);return new hs(t,e.message||"")}(o);n=new gf(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=Rf(e,s.document.name),c=Af(s.document.updateTime),f=new yl({mapValue:{fields:s.document.fields}}),h=kl.newFoundDocument(l,c,f),d=s.targetIds||[],v=s.removedTargetIds||[];n=new mf(d,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var p=t.documentDelete;p.document;var m=Rf(e,p.document),y=p.readTime?Af(p.readTime):As.min(),g=kl.newNoDocument(m,y),k=p.removedTargetIds||[];n=new mf([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Rf(e,b.document),x=b.removedTargetIds||[];n=new mf([],x,w,null)}else{if(!("filter"in t))return ss();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new Wc(S),T=_.targetId;n=new yf(T,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return As.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?As.min():t.readTime?Af(t.readTime):As.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Mf(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Rl(r)?{documents:qf(e,r)}:{query:Gf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=If(e,t.resumeToken):t.snapshotVersion.compareTo(As.min())>0&&(n.readTime=Tf(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ss()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Mf(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(sp),cp=function(e){ce(n,e);var t=pe(n);function n(e,r,i,a,o,u){var s;return ie(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return oe(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,jr(fe(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(ls(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(ls(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Af(e.updateTime):Af(t);return n.isEqual(As.min())&&(n=Af(t)),new Ac(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Af(e.commitTime);return this.listener.Jo(n,t)}return ls(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Mf(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Bf(t.M,e)}))};this.Oo(n)}}]),n}(sp),fp=function(e){ce(n,e);var t=pe(n);function n(e,r,i,a){var o;return ie(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return oe(n,[{key:"tu",value:function(){if(this.Zo)throw new hs(fs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hs(fs.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.bo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hs(fs.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return oe((function e(){ie(this,e)}))}()),hp=function(){function e(t,n){ie(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return oe(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(as(t),this.su=!1):is("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),dp=oe((function e(t,n,r,i,a){var o=this;ie(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Sp(o),!e.t0){e.next=5;break}return is("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cs(t)).lu.add(4),e.next=4,mp(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,vp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new hp(r,i)}));function vp(e){return pp.apply(this,arguments)}function pp(){return pp=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sp(t)){e.next=18;break}n=ue(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),pp.apply(this,arguments)}function mp(e){return yp.apply(this,arguments)}function yp(){return yp=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ue(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),yp.apply(this,arguments)}function gp(e,t){var n=cs(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),_p(n)?xp(n):Zp(n).Co()&&bp(n,t))}function kp(e,t){var n=cs(e),r=Zp(n);n.hu.delete(t),r.Co()&&wp(n,t),0===n.hu.size&&(r.Co()?r.ko():Sp(n)&&n._u.set("Unknown"))}function bp(e,t){e.wu.Z(t.targetId),Zp(e).Qo(t)}function wp(e,t){e.wu.Z(t),Zp(e).jo(t)}function xp(e){e.wu=new bf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),Zp(e).start(),e._u.iu()}function _p(e){return Sp(e)&&!Zp(e).Do()&&e.hu.size>0}function Sp(e){return 0===cs(e).lu.size}function Ep(e){e.wu=void 0}function Tp(e){return Ip.apply(this,arguments)}function Ip(){return Ip=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){bp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Cp(e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ep(t),_p(t)?(t._u.uu(n),xp(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}function Np(e,t,n){return Dp.apply(this,arguments)}function Dp(){return Dp=ee(ne().mark((function e(t,n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof gf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ue(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),is("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Pp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof mf?t.wu.ut(n):n instanceof yf?t.wu._t(n):t.wu.ht(n),r.isEqual(As.min())){e.next=29;break}return e.prev=14,e.next=17,yv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Fs.EMPTY_BYTE_STRING,n.snapshotVersion)),wp(e,t);var r=new Gh(n.target,t,1,n.sequenceNumber);bp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),is("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Pp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Dp.apply(this,arguments)}function Pp(e,t,n){return Rp.apply(this,arguments)}function Rp(){return Rp=ee(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oh(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,mp(t);case 5:t._u.set("Offline"),r||(r=function(){return yv(t.localStore)}),t.asyncQueue.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,vp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Op(e,t){return t().catch((function(n){return Pp(e,n,t)}))}function Lp(e){return Mp.apply(this,arguments)}function Mp(){return Mp=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cs(t),r=em(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!Vp(n)){e.next=19;break}return e.prev=3,e.next=6,bv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Fp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Pp(n,e.t0);case 17:e.next=2;break;case 19:jp(n)&&Up(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Mp.apply(this,arguments)}function Vp(e){return Sp(e)&&e.cu.length<10}function Fp(e,t){e.cu.push(t);var n=em(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function jp(e){return Sp(e)&&!em(e).Do()&&e.cu.length>0}function Up(e){em(e).start()}function Bp(e){return zp.apply(this,arguments)}function zp(){return zp=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:em(t).Xo();case 1:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function qp(e){return Gp.apply(this,arguments)}function Gp(){return Gp=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=em(t),r=ue(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Kp(e,t,n){return Hp.apply(this,arguments)}function Hp(){return Hp=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=zh.from(i,n,r),e.next=3,Op(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Lp(t);case 5:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}function Wp(e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&em(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qc(i=n.code)||i===fs.ABORTED){e.next=7;break}return r=t.cu.shift(),em(t).No(),e.next=5,Op(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Lp(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:jp(t)&&Up(t);case 5:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function $p(e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=cs(t)).asyncQueue.verifyOperationInProgress(),is("RemoteStore","RemoteStore received new credentials"),i=Sp(r),r.lu.add(3),e.next=6,mp(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,vp(r);case 12:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function Xp(e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,vp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,mp(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e){return e.mu||(e.mu=function(e,t,n){var r=cs(e);return r.tu(),new lp(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Tp.bind(null,e),Jr:Cp.bind(null,e),Ko:Np.bind(null,e)}),e.fu.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),_p(e)?xp(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Ep(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function em(e){return e.gu||(e.gu=function(e,t,n){var r=cs(e);return r.tu(),new cp(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Bp.bind(null,e),Jr:Wp.bind(null,e),Yo:qp.bind(null,e),Jo:Kp.bind(null,e)}),e.fu.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Lp(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(is("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var tm=function(){function e(t,n,r,i,a){ie(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return oe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hs(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function nm(e,t){if(as("AsyncQueue","".concat(t,": ").concat(e)),Oh(e))return new hs(fs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var rm=function(){function e(t){ie(this,e),this.comparator=t?function(e,n){return t(e,n)||Xs.comparator(e.key,n.key)}:function(e,t){return Xs.comparator(e.key,t.key)},this.keyedMap=uf(),this.sortedSet=new Xc(this.comparator)}return oe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),im=function(){function e(){ie(this,e),this.yu=new Xc(Xs.comparator)}return oe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ss():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),am=function(){function e(t,n,r,i,a,o,u,s){ie(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return oe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,rm.emptySet(n),a,r,i,!0,!1)}}]),e}(),om=oe((function e(){ie(this,e),this.Iu=void 0,this.listeners=[]})),um=oe((function e(){ie(this,e),this.queries=new Yc((function(e){return uc(e)}),oc),this.onlineState="Unknown",this.Tu=new Set}));function sm(e,t){return lm.apply(this,arguments)}function lm(){return lm=ee(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new om),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=nm(e.t0,"Initialization of query '".concat(sc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&vm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),lm.apply(this,arguments)}function cm(e,t){return fm.apply(this,arguments)}function fm(){return fm=ee(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){var n,r=cs(e),i=!1,a=ue(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=ue(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Au(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&vm(r)}function dm(e,t,n){var r=cs(e),i=r.queries.get(t);if(i){var a,o=ue(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function vm(e){e.Tu.forEach((function(e){e.next()}))}var pm=function(){function e(t,n,r){ie(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return oe(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ue(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new am(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),mm=function(){function e(t,n){ie(this,e),this.payload=t,this.byteLength=n}return oe(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),ym=function(){function e(t){ie(this,e),this.M=t}return oe(e,[{key:"li",value:function(e){return Rf(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?jf(this.M,e.document,!1):kl.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return Af(e)}}]),e}(),gm=function(){function e(t,n,r){ie(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=km(t)}return oe(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Os.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new ym(this.M),i=ue(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=ue(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=(n.get(l)||ff()).add(u);n.set(l,c)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cv(this.localStore,new ym(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=ue(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Nv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function km(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var bm=oe((function e(t){ie(this,e),this.key=t})),wm=oe((function e(t){ie(this,e),this.key=t})),xm=function(){function e(t,n){ie(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ff(),this.mutatedKeys=ff(),this.Lu=fc(t),this.Uu=new rm(this.Lu)}return oe(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new im,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Jl(this.query)&&i.size===this.query.limit?i.last():null,l=Zl(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=lc(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Qu(c,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Lu(f,s)>0||l&&n.Lu(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),v=!0):c&&!f&&(r.track({type:1,doc:c}),v=!0,(s||l)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Jl(this.query)||Zl(this.query))for(;o.size>this.query.limit;){var c=Jl(this.query)?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ss()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new am(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new im,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=ff(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new wm(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new bm(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=ff();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return am.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),_m=oe((function e(t,n,r){ie(this,e),this.query=t,this.targetId=n,this.view=r})),Sm=oe((function e(t){ie(this,e),this.key=t,this.Xu=!1})),Em=function(){function e(t,n,r,i,a,o){ie(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new Yc((function(e){return uc(e)}),oc),this.ea=new Map,this.na=new Set,this.sa=new Xc(Xs.comparator),this.ia=new Map,this.ra=new Ov,this.oa={},this.ua=new Map,this.aa=Ld.gn(),this.onlineState="Unknown",this.ca=void 0}return oe(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function Tm(e,t){return Im.apply(this,arguments)}function Im(){return Im=ee(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ky(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,wv(r.localStore,ic(n));case 8:return u=e.sent,r.isPrimaryClient&&gp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Cm(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function Cm(e,t,n,r){return Am.apply(this,arguments)}function Am(){return Am=ee(ne().mark((function e(t,n,r,i){var a,o,u,s,l,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Sv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($m(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Sv(t.localStore,n,!0);case 3:return a=e.sent,o=new xm(n,a.hi),u=o.Gu(a.documents),s=pf.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(u,t.isPrimaryClient,s),$m(t,r,l.zu),c=new _m(n,r,o),e.abrupt("return",(t.ta.set(n,c),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Nm(e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cs(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!oc(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,xv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),kp(r.remoteStore,i.targetId),Wm(r,i.targetId)})).catch(Ud);case 9:e.next=14;break;case 11:return Wm(r,i.targetId),e.next=14,xv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Pm(e,t,n){return Rm.apply(this,arguments)}function Rm(){return Rm=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=by(t),e.prev=1,e.next=4,function(e,t){var n,r=cs(e),i=Cs.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ff());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=ue(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=Lc(l,n.get(l.key));null!=c&&u.push(new jc(l.key,c,gl(c.value.mapValue),Nc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new Xc(Es)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Jm(i,a.changes);case 9:return e.next=11,Lp(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=nm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Rm.apply(this,arguments)}function Om(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.prev=1,e.next=4,gv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(ls(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?ls(n.Xu):e.removedDocuments.size>0&&(ls(n.Xu),n.Xu=!1))})),e.next=8,Jm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ud(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Lm.apply(this,arguments)}function Mm(e,t,n){var r=cs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=cs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ue(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&vm(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Vm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return Fm=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=cs(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Xc(Xs.comparator)).insert(o,kl.newNoDocument(o,As.min())),s=ff().add(o),l=new vf(As.min(),new Map,new ef(Es),u,s),e.next=9,Om(i,l);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),Xm(i),e.next=16;break;case 14:return e.next=16,xv(i.localStore,n,!1).then((function(){return Wm(i,n,r)})).catch(Ud);case 16:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function jm(e,t){return Um.apply(this,arguments)}function Um(){return Um=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),i=n.batch.batchId,e.prev=1,e.next=4,mv(r.localStore,n);case 4:return a=e.sent,Hm(r,i,null),Km(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Jm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ud(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Um.apply(this,arguments)}function Bm(e,t,n){return zm.apply(this,arguments)}function zm(){return zm=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cs(t),e.prev=1,e.next=4,function(e,t){var n=cs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return ls(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Hm(i,n,r),Km(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Jm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ud(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zm.apply(this,arguments)}function qm(e,t){return Gm.apply(this,arguments)}function Gm(){return Gm=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sp((r=cs(t)).remoteStore)||is("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=cs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=nm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Gm.apply(this,arguments)}function Km(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function Hm(e,t,n){var r=cs(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function Wm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ue(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||Qm(e,t)}))}function Qm(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(kp(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),Xm(e))}function $m(e,t,n){var r,i=ue(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof bm?(e.ra.addReference(a.key,t),Ym(e,a)):a instanceof wm?(is("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||Qm(e,a.key)):ss()}}catch(o){i.e(o)}finally{i.f()}}function Ym(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(is("SyncEngine","New document in limbo: "+n),e.na.add(r),Xm(e))}function Xm(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new Xs(Os.fromString(t)),r=e.aa.next();e.ia.set(r,new Sm(n)),e.sa=e.sa.insert(n,r),gp(e.remoteStore,new Gh(ic(Xl(n.path)),r,2,xs.A))}}function Jm(e,t,n){return Zm.apply(this,arguments)}function Zm(){return Zm=ee(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cs(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=cv.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,u,s,l,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ah.forEach(n,(function(t){return Ah.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ah.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Oh(e.t0)){e.next=10;break}throw e.t0;case 10:is("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ue(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.si=r.si.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=cs(t)).currentUser.isEqual(n)){e.next=11;break}return is("SyncEngine","User change. New user:",n.toKey()),e.next=5,vv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new hs(fs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Jm(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){var n=cs(e),r=n.ia.get(t);if(r&&r.Xu)return ff().add(r.key);var i=ff(),a=n.ea.get(t);if(!a)return i;var o,u=ue(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ta.get(s);i=i.unionWith(l.view.qu)}}catch(c){u.e(c)}finally{u.f()}return i}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.next=3,Sv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&$m(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t){return oy.apply(this,arguments)}function oy(){return oy=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.abrupt("return",Tv(r.localStore,n).then((function(e){return Jm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),oy.apply(this,arguments)}function uy(e,t,n,r){return sy.apply(this,arguments)}function sy(){return sy=ee(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cs(t),e.next=3,function(e,t){var n=cs(e),r=cs(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):Ah.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Lp(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Hm(a,n,i||null),Km(a,n),function(e,t){cs(cs(e).$s).dn(t)}(a.localStore,n)):ss();case 11:return e.next=13,Jm(a,o);case 13:e.next=16;break;case 15:is("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function ly(e,t){return cy.apply(this,arguments)}function cy(){return cy=ee(ne().mark((function e(t,n){var r,i,a,o,u,s,l,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ky(r=cs(t)),by(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,fy(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,Xp(r.remoteStore,!0);case 9:o=ue(a);try{for(o.s();!(u=o.n()).done;)s=u.value,gp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return l=[],c=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return Wm(r,t),xv(r.localStore,t,!0)})),kp(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,fy(r,l);case 21:return function(e){var t=cs(e);t.ia.forEach((function(e,n){kp(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new Xc(Xs.comparator)}(r),r.ca=!1,e.next=25,Xp(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function fy(e,t,n){return hy.apply(this,arguments)}function hy(){return hy=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h,d,v,p,m,y;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=cs(t),a=[],o=[],u=ue(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(l=s.value,c=void 0,!(f=i.ea.get(l))||0===f.length){e.next=34;break}return e.next=11,wv(i.localStore,ic(f[0]));case 11:c=e.sent,h=ue(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,p=i.ta.get(v),e.next=20,ry(i,p);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ev(i.localStore,l);case 36:return y=e.sent,e.next=39,wv(i.localStore,y);case 39:return c=e.sent,e.next=42,Cm(i,dy(y),l,!1);case 42:a.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),hy.apply(this,arguments)}function dy(e){return Yl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vy(e){var t=cs(e);return cs(cs(t.localStore).persistence).Os()}function py(e,t,n,r){return my.apply(this,arguments)}function my(){return my=ee(ne().mark((function e(t,n,r,i){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=cs(t)).ca){e.next=3;break}return e.abrupt("return",void is("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Tv(a.localStore,cc(o[0]));case 10:return u=e.sent,s=vf.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Jm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,xv(a.localStore,n,!0);case 17:return Wm(a,n,i),e.abrupt("break",20);case 19:ss();case 20:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function yy(e,t,n){return gy.apply(this,arguments)}function gy(){return gy=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ky(t)).ca){e.next=45;break}a=ue(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return is("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ev(i.localStore,u);case 12:return s=e.sent,e.next=15,wv(i.localStore,s);case 15:return l=e.sent,e.next=18,Cm(i,dy(s),l.targetId,!1);case 18:gp(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:c=ue(r),e.prev=30,h=ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,xv(i.localStore,t,!1).then((function(){kp(i.remoteStore,t),Wm(i,t)})).catch(Ud);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((f=c.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),gy.apply(this,arguments)}function ky(e){var t=cs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Om.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ny.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vm.bind(null,t),t.Zu.Ko=hm.bind(null,t.eventManager),t.Zu.la=dm.bind(null,t.eventManager),t}function by(e){var t=cs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bm.bind(null,t),t}function wy(e,t,n){var r=cs(e);(function(){var e=ee(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=cs(e),r=Af(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(km(i)),a=new gm(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Jm(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=cs(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(os("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var xy=function(){function e(){ie(this,e),this.synchronizeTabs=!1}return oe(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=op(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return dv(this.persistence,new fv,e.initialUser,this.M)}},{key:"_a",value:function(e){return new Uv(zv.Wi,this.M)}},{key:"da",value:function(e){return new Jv}},{key:"terminate",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_y=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return oe(n,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(fe(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,by(this.ga.syncEngine);case 6:return e.next=8,Lp(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return dv(this.persistence,new fv,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Gd(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=sv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Id.withCacheSize(this.cacheSizeBytes):Id.DEFAULT;return new av(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ip(),ap(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new Jv}}]),n}(xy),Sy=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return oe(n,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){var r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(fe(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof Xv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:uy.bind(null,r),Mr:py.bind(null,r),Or:yy.bind(null,r),Os:vy.bind(null,r),Nr:ay.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ly(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=ip();if(!Xv.vt(t))throw new hs(fs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(_y),Ey=function(){function e(){ie(this,e)}return oe(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Mm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ey.bind(null,this.syncEngine),e.next=12,Xp(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new um}},{key:"createDatastore",value:function(e){var t,n=op(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new rp(t));return function(e,t,n,r){return new fp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Mm(o.syncEngine,e,0)},a=ep.vt()?new ep:new Zv,new dp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Em(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cs(t),is("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,mp(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ee(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Iy=function(){function e(t){ie(this,e),this.observer=t,this.muted=!1}return oe(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Cy=function(){function e(t,n){var r=this;ie(this,e),this.Ia=t,this.M=n,this.metadata=new ds,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return oe(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new mm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ay=function(){function e(t){ie(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return oe(e,[{key:"lookup",value:function(){var e=ee(ne().mark((function e(t){var n,r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new hs(fs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),i=Mf(r.M)+"/documents",a={documents:n.map((function(e){return Pf(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Uf(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ls(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ee(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Xs.fromPath(t);n.mutations.push(new Hc(r,n.precondition(r)))})),e.next=7,function(){var e=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),i=Mf(r.M)+"/documents",a={writes:n.map((function(e){return Bf(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ss();t=As.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hs(fs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nc.updateTime(t):Nc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(As.min()))throw new hs(fs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nc.updateTime(t)}return Nc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ny=function(){function e(t,n,r,i){ie(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new up(this.asyncQueue,"transaction_retry")}return oe(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Ay(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Qs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qc(t)}return!1}}]),e}(),Dy=function(){function e(t,n,r,i){var a=this;ie(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=es.UNAUTHENTICATED,this.clientId=Ss.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return is("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return is("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return oe(e,[{key:"getConfiguration",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new hs(fs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=nm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Py(e,t){return Ry.apply(this,arguments)}function Ry(){return Ry=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),is("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Oy(e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,My(t);case 3:return r=e.sent,is("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return $p(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return $p(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function My(e){return Vy.apply(this,arguments)}function Vy(){return Vy=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return is("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Py(t,new xy);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function Fy(e){return jy.apply(this,arguments)}function jy(){return jy=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return is("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Oy(t,new Ey);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),jy.apply(this,arguments)}function Uy(e){return My(e).then((function(e){return e.persistence}))}function By(e){return My(e).then((function(e){return e.localStore}))}function zy(e){return Fy(e).then((function(e){return e.remoteStore}))}function qy(e){return Fy(e).then((function(e){return e.syncEngine}))}function Gy(e){return Ky.apply(this,arguments)}function Ky(){return Ky=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Tm.bind(null,n.syncEngine),r.onUnlisten=Nm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Hy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Iy({next:function(a){t.enqueueAndForget((function(){return cm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new hs(fs.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new hs(fs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new pm(Xl(n.path),a,{includeMetadataChanges:!0,Du:!0});return sm(e,o)},i.next=3,Gy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Wy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Iy({next:function(n){t.enqueueAndForget((function(){return cm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new hs(fs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new pm(n,a,{includeMetadataChanges:!0,Du:!0});return sm(e,o)},i.next=3,Gy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Qy=new Map;function $y(e,t,n){if(!n)throw new hs(fs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Yy(e,t,n,r){if(!0===t&&!0===r)throw new hs(fs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Xy(e){if(!Xs.isDocumentKey(e))throw new hs(fs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jy(e){if(Xs.isDocumentKey(e))throw new hs(fs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ss()}function eg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hs(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zy(e);throw new hs(fs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function tg(e,t){if(t<=0)throw new hs(fs.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ng=function(){function e(t){var n;if(ie(this,e),void 0===t.host){if(void 0!==t.ssl)throw new hs(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hs(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Yy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return oe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),rg=function(){function e(t,n,r){ie(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ng({}),this._settingsFrozen=!1,t instanceof Ws?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hs(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(e.options.projectId)}(t))}return oe(e,[{key:"app",get:function(){if(!this._app)throw new hs(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new hs(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ng(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ps;switch(e.type){case"gapi":var t=e.client;return ls(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ks(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new hs(fs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Qy.get(e);t&&(is("ComponentProvider","Removing Datastore"),Qy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ig(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=eg(e,rg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&os("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=es.MOCK_USER;else{o=_e(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new hs(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new es(s)}e._authCredentials=new ms(new vs(o,u))}}var ag=function(){function e(t,n,r){ie(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return oe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ug(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),og=function(){function e(t,n,r){ie(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return oe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ug=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this,e,r,Xl(i)))._path=i,a.type="collection",a}return oe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ag(this.firestore,null,new Xs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(og);function sg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ve(e),$y("collection","path",t),e instanceof rg){var a=Os.fromString.apply(Os,[t].concat(r));return Jy(a),new ug(e,null,a)}if(!(e instanceof ag||e instanceof ug))throw new hs(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Os.fromString.apply(Os,[t].concat(r)));return Jy(o),new ug(e.firestore,null,o)}function lg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ve(e),1===arguments.length&&(t=Ss.R()),$y("doc","path",t),e instanceof rg){var a=Os.fromString.apply(Os,[t].concat(r));return Xy(a),new ag(e,null,new Xs(a))}if(!(e instanceof ag||e instanceof ug))throw new hs(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Os.fromString.apply(Os,[t].concat(r)));return Xy(o),new ag(e.firestore,e instanceof ug?e.converter:null,new Xs(o))}function cg(e,t){return e=Ve(e),t=Ve(t),(e instanceof ag||e instanceof ug)&&(t instanceof ag||t instanceof ug)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fg(e,t){return e=Ve(e),t=Ve(t),e instanceof og&&t instanceof og&&e.firestore===t.firestore&&oc(e._query,t._query)&&e.converter===t.converter}var hg=function(){function e(){var t=this;ie(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new up(this,"async_queue_retry"),this.Ua=function(){var e=ap();e&&is("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=ap();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return oe(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=ap();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new ds;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Oh(e.t0)){e.next=12;break}throw e.t0;case 12:is("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw as("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=tm.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&ss()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=ue(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ue(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function dg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ue(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var vg=function(){function e(){ie(this,e),this._progressObserver={},this._taskCompletionResolver=new ds,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return oe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),pg=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new hg,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return oe(n,[{key:"_terminate",value:function(){return this._firestoreClient||yg(this),this._firestoreClient.terminate()}}]),n}(rg);function mg(e){return e._firestoreClient||yg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Hs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Dy(e._authCredentials,e._appCheckCredentials,e._queue,r)}function gg(e,t,n){var r=new ds;return e.asyncQueue.enqueue(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Py(e,n);case 3:return i.next=5,Oy(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===fs.FAILED_PRECONDITION||e.code===fs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function kg(e){return function(e){return e.asyncQueue.enqueue(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uy(e);case 2:return n=t.sent,t.next=5,zy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=cs(e);return t.lu.delete(0),vp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(mg(e=eg(e,pg)))}function bg(e){return function(e){return e.asyncQueue.enqueue(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uy(e);case 2:return n=t.sent,t.next=5,zy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cs(t)).lu.add(0),e.next=4,mp(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(mg(e=eg(e,pg)))}function wg(e,t){var n=mg(e=eg(e,pg)),r=new vg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Cy(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ty(e,t);if(e instanceof ArrayBuffer)return Ty(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,op(t));e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wy,t.next=3,qy(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function xg(e,t){return function(e,t){return e.asyncQueue.enqueue(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=cs(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,By(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(mg(e=eg(e,pg)),t).then((function(t){return t?new og(e,null,t.query):null}))}function _g(e){if(e._initialized||e._terminated)throw new hs(fs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sg=function(){function e(){ie(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hs(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(n)}return oe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Eg=function(){function e(t){ie(this,e),this._byteString=t}return oe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Fs.fromBase64String(t))}catch(t){throw new hs(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Fs.fromUint8Array(t))}}]),e}(),Tg=oe((function e(t){ie(this,e),this._methodName=t})),Ig=function(){function e(t,n){if(ie(this,e),!isFinite(t)||t<-90||t>90)throw new hs(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hs(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return oe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Es(this._lat,e._lat)||Es(this._long,e._long)}}]),e}(),Cg=/^__.*__$/,Ag=function(){function e(t,n,r){ie(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return oe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}]),e}(),Ng=function(){function e(t,n,r){ie(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return oe(e,[{key:"toMutation",value:function(e,t){return new jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Dg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ss()}}var Pg=function(){function e(t,n,r,i,a,o){ie(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return oe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return Jg(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Dg(this.Ya)&&Cg.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),Rg=function(){function e(t,n,r){ie(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||op(t)}return oe(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Pg({Ya:e,methodName:t,oc:n,path:Ms.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Og(e){var t=e._freezeSettings(),n=op(e._databaseId);return new Rg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Lg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);Qg("Data must be an object, but it was:",o,r);var u,s,l=Hg(r,o);if(a.merge)u=new Vs(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=ue(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,v=$g(t,d,n);if(!o.contains(v))throw new hs(fs.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Zg(f,v)||f.push(v)}}catch(p){h.e(p)}finally{h.f()}u=new Vs(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Ag(new yl(l),u,s)}var Mg=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Tg);function Vg(e,t,n){return new Pg({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Fg=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"_toFieldTransform",value:function(e){return new Cc(e.path,new bc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Tg),jg=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e)).ac=r,i}return oe(n,[{key:"_toFieldTransform",value:function(e){var t=Vg(this,e,!0),n=this.ac.map((function(e){return Kg(e,t)})),r=new wc(n);return new Cc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Tg),Ug=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e)).ac=r,i}return oe(n,[{key:"_toFieldTransform",value:function(e){var t=Vg(this,e,!0),n=this.ac.map((function(e){return Kg(e,t)})),r=new _c(n);return new Cc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Tg),Bg=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e)).cc=r,i}return oe(n,[{key:"_toFieldTransform",value:function(e){var t=new Ec(e.M,pc(e.M,this.cc));return new Cc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Tg);function zg(e,t,n,r){var i=e.uc(1,t,n);Qg("Data must be an object, but it was:",i,r);var a=[],o=yl.empty();Ds(r,(function(e,r){var u=Xg(t,e,n);r=Ve(r);var s=i.nc(u);if(r instanceof Mg)a.push(u);else{var l=Kg(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new Vs(a);return new Ng(o,u,i.fieldTransforms)}function qg(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[$g(t,r,n)],s=[i];if(a.length%2!=0)throw new hs(fs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push($g(t,a[l])),s.push(a[l+1]);for(var c=[],f=yl.empty(),h=u.length-1;h>=0;--h)if(!Zg(c,u[h])){var d=u[h],v=s[h];v=Ve(v);var p=o.nc(d);if(v instanceof Mg)c.push(d);else{var m=Kg(v,p);null!=m&&(c.push(d),f.set(d,m))}}var y=new Vs(c);return new Ng(f,y,o.fieldTransforms)}function Gg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Kg(n,e.uc(r?4:3,t))}function Kg(e,t){if(Wg(e=Ve(e)))return Qg("Unsupported field value:",t,e),Hg(e,t);if(e instanceof Tg)return function(e,t){if(!Dg(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ue(e);try{for(a.s();!(n=a.n()).done;){var o=Kg(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pc(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Cs.fromDate(e);return{timestampValue:Tf(t.M,n)}}if(e instanceof Cs){var r=new Cs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tf(t.M,r)}}if(e instanceof Ig)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Eg)return{bytesValue:If(t.M,e._byteString)};if(e instanceof ag){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Nf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(Zy(e)))}(e,t)}function Hg(e,t){var n={};return Ps(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(e,(function(e,r){var i=Kg(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Wg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cs||e instanceof Ig||e instanceof Eg||e instanceof ag||e instanceof Tg)}function Qg(e,t,n){if(!Wg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Zy(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function $g(e,t,n){if((t=Ve(t))instanceof Sg)return t._internalPath;if("string"==typeof t)return Xg(e,t);throw Jg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Yg=new RegExp("[~\\*/\\[\\]]");function Xg(e,t,n){if(t.search(Yg)>=0)throw Jg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return me(Sg,qe(t.split(".")))._internalPath}catch(r){throw Jg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Jg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new hs(fs.INVALID_ARGUMENT,u+e+s)}function Zg(e,t){return e.some((function(e){return e.isEqual(t)}))}var ek=function(){function e(t,n,r,i,a){ie(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return oe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ag(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(nk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),tk=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"data",value:function(){return jr(fe(n.prototype),"data",this).call(this)}}]),n}(ek);function nk(e,t){return"string"==typeof t?Xg(e,t):t instanceof Sg?t._internalPath:t._delegate._internalPath}var rk=function(){function e(t,n){ie(this,e),this.hasPendingWrites=t,this.fromCache=n}return oe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),ik=function(e){ce(n,e);var t=pe(n);function n(e,r,i,a,o,u){var s;return ie(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return oe(n,[{key:"exists",value:function(){return jr(fe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ak(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(nk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ek),ak=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jr(fe(n.prototype),"data",this).call(this,e)}}]),n}(ik),ok=function(){function e(t,n,r,i){ie(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new rk(i.hasPendingWrites,i.fromCache),this.query=r}return oe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ak(n._firestore,n._userDataWriter,r.key,r,new rk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new hs(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new ak(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ak(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:uk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function uk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ss()}}function sk(e,t){return e instanceof ik&&t instanceof ik?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ok&&t instanceof ok&&e._firestore===t._firestore&&fg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lk(e){if(Zl(e)&&0===e.explicitOrderBy.length)throw new hs(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ck=oe((function e(){ie(this,e)}));function fk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var hk=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return oe(n,[{key:"_apply",value:function(e){var t=Og(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new hs(fs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){_k(o,a);var s,l=[],c=ue(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(xk(r,e,f))}}catch(d){c.e(d)}finally{c.f()}u={arrayValue:{values:l}}}else u=xk(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||_k(o,a),u=Gg(n,"where",o,"in"===a||"not-in"===a);var h=Ll.create(i,a,u);return function(e,t){if(t.S()){var n=tc(e);if(null!==n&&!n.isEqual(t.field))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ec(e);null!==r&&Sk(e,t.field,r)}var i=function(e,t){var n,r=ue(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new hs(fs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hs(fs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new og(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new $l(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(ck);var dk=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return oe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Kl(t,n);return function(e,t){if(null===ec(e)){var n=tc(e);null!==n&&Sk(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new og(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new $l(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(ck);var vk=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return oe(n,[{key:"_apply",value:function(e){return new og(e.firestore,e.converter,ac(e._query,this._c,this.wc))}}]),n}(ck);var pk=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return oe(n,[{key:"_apply",value:function(e){var t=wk(e,this.type,this.mc,this.gc);return new og(e.firestore,e.converter,function(e,t){return new $l(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(ck);function mk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pk("startAt",t,!0)}function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pk("startAfter",t,!1)}var gk=function(e){ce(n,e);var t=pe(n);function n(e,r,i){var a;return ie(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return oe(n,[{key:"_apply",value:function(e){var t=wk(e,this.type,this.mc,this.gc);return new og(e.firestore,e.converter,function(e,t){return new $l(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(ck);function kk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gk("endBefore",t,!1)}function bk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gk("endAt",t,!0)}function wk(e,t,n,r){if(n[0]=Ve(n[0]),n[0]instanceof ek)return function(e,t,n,r,i){if(!r)throw new hs(fs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ue(rc(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ul(t,r.key));else{var l=r.data.field(s.field);if(qs(l))throw new hs(fs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=s.field.canonicalString();throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(f){u.e(f)}finally{u.f()}return new Gl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Og(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new hs(fs.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!nc(e)&&-1!==l.indexOf("/"))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=e.path.child(Os.fromString(l));if(!Xs.isDocumentKey(c))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var f=new Xs(c);u.push(ul(t,f))}else{var h=Gg(n,r,l);u.push(h)}}return new Gl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function xk(e,t,n){if("string"==typeof(n=Ve(n))){if(""===n)throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nc(t)&&-1!==n.indexOf("/"))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Os.fromString(n));if(!Xs.isDocumentKey(r))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ul(e,new Xs(r))}if(n instanceof ag)return ul(e,n._key);throw new hs(fs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zy(n),"."))}function _k(e,t){if(!Array.isArray(e)||0===e.length)throw new hs(fs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new hs(fs.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Sk(e,t,n){if(!n.isEqual(t))throw new hs(fs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ek=function(){function e(){ie(this,e)}return oe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ss()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ds(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Ig(Bs(e.latitude),Bs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Gs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ks(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Us(e);return new Cs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Os.fromString(e);ls(eh(n));var r=new Ws(n.get(1),n.get(3)),i=new Xs(n.popFirst(5));return r.isEqual(t)||as("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Tk(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ik=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).firestore=e,r}return oe(n,[{key:"convertBytes",value:function(e){return new Eg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ag(this.firestore,null,t)}}]),n}(Ek),Ck=function(){function e(t,n){ie(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Og(t)}return oe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ak(e,this._firestore),i=Tk(r.converter,t,n),a=Lg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Nc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ak(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ve(t))||t instanceof Sg?qg(this._dataReader,"WriteBatch.update",i._key,t,n,o):zg(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Nc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ak(e,this._firestore);return this._mutations=this._mutations.concat(new Kc(t._key,Nc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new hs(fs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ak(e,t){if((e=Ve(e)).firestore!==t)throw new hs(fs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Nk=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).firestore=e,r}return oe(n,[{key:"convertBytes",value:function(e){return new Eg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ag(this.firestore,null,t)}}]),n}(Ek);function Dk(e){e=eg(e,ag);var t=eg(e.firestore,pg),n=mg(t),r=new Nk(t);return function(e,t){var n=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=cs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new hs(fs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=nm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,By(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new ik(t,r,e._key,n,new rk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Pk(e){e=eg(e,og);var t=eg(e.firestore,pg),n=mg(t),r=new Nk(t);return function(e,t){var n=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ee(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sv(t,n,!0);case 3:i=e.sent,a=new xm(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=nm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,By(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new ok(t,r,e,n)}))}function Rk(e,t,n){e=eg(e,ag);var r=eg(e.firestore,pg),i=Tk(e.converter,t,n);return Vk(r,[Lg(Og(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Nc.none())])}function Ok(e,t,n){e=eg(e,ag);for(var r=eg(e.firestore,pg),i=Og(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Vk(r,[("string"==typeof(t=Ve(t))||t instanceof Sg?qg(i,"updateDoc",e._key,t,n,o):zg(i,"updateDoc",e._key,t)).toMutation(e._key,Nc.exists(!0))])}function Lk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ve(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||dg(n[s])||(u=n[s],s++);var l,c,f,h={includeMetadataChanges:u.includeMetadataChanges};if(dg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ag)c=eg(e.firestore,pg),f=Xl(e._key.path),l={next:function(t){n[s]&&n[s](Fk(c,e,t))},error:n[s+1],complete:n[s+2]};else{var v=eg(e,og);c=eg(v.firestore,pg),f=v._query;var p=new Nk(c);l={next:function(e){n[s]&&n[s](new ok(c,p,v,e))},error:n[s+1],complete:n[s+2]},lk(e._query)}return function(e,t,n,r){var i=new Iy(r),a=new pm(t,i,n);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sm,t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cm,t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(mg(c),f,h,l)}function Mk(e,t){return function(e,t){var n=new Iy(t);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){cs(e).Tu.add(t),t.next()},t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){cs(e).Tu.delete(t)},t.next=3,Gy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(mg(e=eg(e,pg)),dg(t)?t:{next:t})}function Vk(e,t){return function(e,t){var n=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Pm,r.next=3,qy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(mg(e),t)}function Fk(e,t,n){var r=n.docs.get(t._key),i=new Nk(e);return new ik(e,i,t._key,r,new rk(n.hasPendingWrites,n.fromCache),t.converter)}var jk=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e,r))._firestore=e,i}return oe(n,[{key:"get",value:function(e){var t=this,r=Ak(e,this._firestore),i=new Nk(this._firestore);return jr(fe(n.prototype),"get",this).call(this,e).then((function(e){return new ik(t._firestore,i,r._key,e._document,new rk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ie(this,e),this._firestore=t,this._transaction=n,this._dataReader=Og(t)}return oe(e,[{key:"get",value:function(e){var t=this,n=Ak(e,this._firestore),r=new Ik(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ss();var i=e[0];if(i.isFoundDocument())return new ek(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ek(t._firestore,r,n._key,null,n.converter);throw ss()}))}},{key:"set",value:function(e,t,n){var r=Ak(e,this._firestore),i=Tk(r.converter,t,n),a=Lg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ak(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ve(t))||t instanceof Sg?qg(this._dataReader,"Transaction.update",i._key,t,n,o):zg(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ak(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Uk(e,t){return function(e,t){var n=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Fy(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Ny(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(mg(e=eg(e,pg)),(function(n){return t(new jk(e,n))}))}function Bk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jg("arrayUnion",t)}function zk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ug("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ts=e}(wt),vt(new Ge("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new pg(i,new ys(e.getProvider("auth-internal")),new ws(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),It(Zu,"3.4.7",e),It(Zu,"3.4.7","esm2017")}();function qk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new hs("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Gk(){if("undefined"===typeof Uint8Array)throw new hs("unimplemented","Uint8Arrays are not available in this environment.")}function Kk(){if("undefined"==typeof atob)throw new hs("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Hk=function(){function e(t){ie(this,e),this._delegate=t}return oe(e,[{key:"toBase64",value:function(){return Kk(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Gk(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Kk(),new e(Eg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Gk(),new e(Eg.fromUint8Array(t))}}]),e}();function Wk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ue(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Qk=function(){function e(){ie(this,e)}return oe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){_g(e=eg(e,pg));var n=mg(e),r=e._freezeSettings(),i=new Ey;return gg(n,i,new _y(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){_g(e=eg(e,pg));var t=mg(e),n=e._freezeSettings(),r=new Ey;return gg(t,r,new Sy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new hs(fs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ds;return e._queue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dh.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Dh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(sv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),$k=function(){function e(t,n,r){var i=this;ie(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ws||(this._appCompat=t)}return oe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||os("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ig(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return kg(this._delegate)}},{key:"disableNetwork",value:function(){return bg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Yy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new ds;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=qm,n.next=3,qy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(mg(e=eg(e,pg)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Mk(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new hs("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new lb(this,sg(this._delegate,e))}catch(t){throw tb(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new eb(this,lg(this._delegate,e))}catch(t){throw tb(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new ob(this,function(e,t){if(e=eg(e,rg),$y("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new hs(fs.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new og(e,null,function(e){return new $l(Os.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tb(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Uk(this._delegate,(function(n){return e(new Xk(t,n))}))}},{key:"batch",value:function(){var e=this;return mg(this._delegate),new Jk(new Ck(this._delegate,(function(t){return Vk(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return wg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return xg(this._delegate,e).then((function(e){return e?new ob(t,e):null}))}}]),e}(),Yk=function(e){ce(n,e);var t=pe(n);function n(e){var r;return ie(this,n),(r=t.call(this)).firestore=e,r}return oe(n,[{key:"convertBytes",value:function(e){return new Hk(new Eg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eb.forKey(t,this.firestore,null)}}]),n}(Ek);var Xk=function(){function e(t,n){ie(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Yk(t)}return oe(e,[{key:"get",value:function(e){var t=this,n=cb(e);return this._delegate.get(n).then((function(e){return new ib(t._firestore,new ik(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cb(e);return n?(qk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cb(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cb(e);return this._delegate.delete(t),this}}]),e}(),Jk=function(){function e(t){ie(this,e),this._delegate=t}return oe(e,[{key:"set",value:function(e,t,n){var r=cb(e);return n?(qk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cb(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cb(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Zk=function(){function e(t,n,r){ie(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return oe(e,[{key:"fromFirestore",value:function(e,t){var n=new ak(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ab(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Yk(t),n),i.set(n,a)),a}}]),e}();Zk.INSTANCES=new WeakMap;var eb=function(){function e(t,n){ie(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Yk(t)}return oe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new lb(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new lb(this.firestore,sg(this._delegate,e))}catch(t){throw tb(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ve(e))instanceof ag&&cg(this._delegate,e)}},{key:"set",value:function(e,t){t=qk("DocumentReference.set",t);try{return t?Rk(this._delegate,e,t):Rk(this._delegate,e)}catch(n){throw tb(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ok(this._delegate,e):Ok.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw tb(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Vk(eg(e.firestore,pg),[new Kc(e._key,Nc.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nb(n),a=rb(n,(function(t){return new ib(e.firestore,new ik(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Lk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Dk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=eg(e,ag);var t=eg(e.firestore,pg);return Hy(mg(t),e._key,{source:"server"}).then((function(n){return Fk(t,e,n)}))}(this._delegate):function(e){e=eg(e,ag);var t=eg(e.firestore,pg);return Hy(mg(t),e._key).then((function(n){return Fk(t,e,n)}))}(this._delegate),t.then((function(e){return new ib(n.firestore,new ik(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Zk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new hs("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ag(n._delegate,r,new Xs(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ag(n._delegate,r,t))}}]),e}();function tb(e,t,n){return e.message=e.message.replace(t,n),e}function nb(e){var t,n=ue(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Wk(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function rb(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Wk(e[0])?e[0]:Wk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ib=function(){function e(t,n){ie(this,e),this._firestore=t,this._delegate=n}return oe(e,[{key:"ref",get:function(){return new eb(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return sk(this._delegate,e._delegate)}}]),e}(),ab=function(e){ce(n,e);var t=pe(n);function n(){return ie(this,n),t.apply(this,arguments)}return oe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ss()}(void 0!==t),t}}]),n}(ib),ob=function(){function e(t,n){ie(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Yk(t)}return oe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,fk(this._delegate,function(e,t,n){var r=t,i=nk("where",e);return new hk(i,r,n)}(t,n,r)))}catch(i){throw tb(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,fk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=nk("orderBy",e);return new dk(n,t)}(t,n)))}catch(r){throw tb(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,fk(this._delegate,function(e){return tg("limit",e),new vk("limit",e,"F")}(t)))}catch(n){throw tb(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,fk(this._delegate,function(e){return tg("limitToLast",e),new vk("limitToLast",e,"L")}(t)))}catch(n){throw tb(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,fk(this._delegate,mk.apply(void 0,arguments)))}catch(t){throw tb(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,fk(this._delegate,yk.apply(void 0,arguments)))}catch(t){throw tb(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,fk(this._delegate,kk.apply(void 0,arguments)))}catch(t){throw tb(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,fk(this._delegate,bk.apply(void 0,arguments)))}catch(t){throw tb(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return fg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Pk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=eg(e,og);var t=eg(e.firestore,pg),n=mg(t),r=new Nk(t);return Wy(n,e._query,{source:"server"}).then((function(n){return new ok(t,r,e,n)}))}(this._delegate):function(e){e=eg(e,og);var t=eg(e.firestore,pg),n=mg(t),r=new Nk(t);return lk(e._query),Wy(n,e._query).then((function(n){return new ok(t,r,e,n)}))}(this._delegate),t.then((function(e){return new sb(n.firestore,new ok(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nb(n),a=rb(n,(function(t){return new sb(e.firestore,new ok(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Lk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Zk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ub=function(){function e(t,n){ie(this,e),this._firestore=t,this._delegate=n}return oe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ab(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sb=function(){function e(t,n){ie(this,e),this._firestore=t,this._delegate=n}return oe(e,[{key:"query",get:function(){return new ob(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ab(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ub(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ab(n._firestore,r))}))}},{key:"isEqual",value:function(e){return sk(this._delegate,e._delegate)}}]),e}(),lb=function(e){ce(n,e);var t=pe(n);function n(e,r){var i;return ie(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return oe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new eb(this.firestore,e):null}},{key:"doc",value:function(e){try{return new eb(this.firestore,void 0===e?lg(this._delegate):lg(this._delegate,e))}catch(t){throw tb(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=eg(e.firestore,pg),r=lg(e),i=Tk(e.converter,t);return Vk(n,[Lg(Og(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Nc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new eb(t.firestore,e)}))}},{key:"isEqual",value:function(e){return cg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Zk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(ob);function cb(e){return eg(e,ag)}var fb,hb=function(){function e(){ie(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=me(Sg,n)}return oe(e,[{key:"isEqual",value:function(e){return(e=Ve(e))instanceof Sg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ms.keyField().canonicalString())}}]),e}(),db=function(){function e(t){ie(this,e),this._delegate=t}return oe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Fg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Mg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Bk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=zk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Bg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),vb={Firestore:$k,GeoPoint:Ig,Timestamp:Cs,Blob:Hk,Transaction:Xk,WriteBatch:Jk,DocumentReference:eb,DocumentSnapshot:ib,Query:ob,QueryDocumentSnapshot:ab,QuerySnapshot:sb,CollectionReference:lb,FieldPath:hb,FieldValue:db,setLogLevel:function(e){!function(e){ns.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ge("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},vb)))})(fb=Xt,(function(e,t){return new $k(e,t,new Qk)})),fb.registerVersion("@firebase/firestore-compat","0.1.16");Xt.initializeApp({apiKey:"AIzaSyCggzVu4pGyStwB_qBg0UV6tE3S5aLjkI8",authDomain:"nft-generator-16b2f.firebaseapp.com",projectId:"nft-generator-16b2f",storageBucket:"nft-generator-16b2f.appspot.com",messagingSenderId:"924094079688",appId:"1:924094079688:web:be5138eaa1a70f19c8fbfd",measurementId:"G-RCJF7Z1L3Q"});var pb=Xt.storage(),mb=Xt.firestore(),yb=Xt.firestore.FieldValue.serverTimestamp,gb=function(e){var t=u((0,r.useState)(0),2),n=t[0],i=t[1],a=u((0,r.useState)(null),2),o=a[0],s=a[1],l=u((0,r.useState)(null),2),c=l[0],f=l[1];return(0,r.useEffect)((function(){var t=pb.ref(e.name),n=mb.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){s(e)}),ee(ne().mark((function e(){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return r=e.sent,i=yb(),e.next=6,n.add({url:r,createdAt:i});case 6:f(r);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:c,error:o}},kb=function(e,t){return kb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},kb(e,t)};function bb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wb=function(){return wb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wb.apply(this,arguments)};function xb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function _b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function Sb(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Eb=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Tb={measureLayout:Eb(["layout","layoutId","drag"]),animation:Eb(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Eb(["exit"]),drag:Eb(["drag","dragControls"]),focus:Eb(["whileFocus"]),hover:Eb(["whileHover","onHoverStart","onHoverEnd"]),tap:Eb(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Eb(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Eb(["whileInView","onViewportEnter","onViewportLeave"])};var Ib=(0,r.createContext)({strict:!1}),Cb=Object.keys(Tb),Ab=Cb.length;var Nb=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Db=(0,r.createContext)({});var Pb=(0,r.createContext)(null),Rb="undefined"!==typeof window,Ob=Rb?r.useLayoutEffect:r.useEffect,Lb={current:null},Mb=!1;function Vb(){return!Mb&&function(){if(Mb=!0,"undefined"!==typeof window)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Lb.current=e.matches};e.addListener(t),t()}else Lb.current=!1}(),_b((0,r.useState)(Lb.current),1)[0]}function Fb(e,t,n,i){var a=(0,r.useContext)(Ib),o=(0,r.useContext)(Db).visualElement,u=(0,r.useContext)(Pb),s=function(){var e=Vb(),t=(0,r.useContext)(Nb).reducedMotion;return"never"!==t&&("always"===t||e)}(),l=(0,r.useRef)(void 0);i||(i=a.renderer),!l.current&&i&&(l.current=i(e,{visualState:t,parent:o,props:n,presenceId:null===u||void 0===u?void 0:u.id,blockInitialAnimation:!1===(null===u||void 0===u?void 0:u.initial),shouldReduceMotion:s}));var c=l.current;return Ob((function(){null===c||void 0===c||c.syncRender()})),(0,r.useEffect)((function(){var e;null===(e=null===c||void 0===c?void 0:c.animationState)||void 0===e||e.animateChanges()})),Ob((function(){return function(){return null===c||void 0===c?void 0:c.notifyUnmount()}}),[]),c}function jb(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ub(e){return Array.isArray(e)}function Bb(e){return"string"===typeof e||Ub(e)}function zb(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),t}function qb(e,t,n){var r=e.getProps();return zb(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function Gb(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||Bb(e.initial)||Bb(e.animate)||Bb(e.whileHover)||Bb(e.whileDrag)||Bb(e.whileTap)||Bb(e.whileFocus)||Bb(e.exit)}function Kb(e){return Boolean(Gb(e)||e.variants)}function Hb(e){var t=function(e,t){if(Gb(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Bb(n)?n:void 0,animate:Bb(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Db)),n=t.initial,i=t.animate;return(0,r.useMemo)((function(){return{initial:n,animate:i}}),[Wb(n),Wb(i)])}function Wb(e){return Array.isArray(e)?e.join(" "):e}function Qb(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}var $b=1/60*1e3,Yb="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Xb="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Yb())}),$b)};var Jb=!0,Zb=!1,ew=!1,tw={delta:0,timestamp:0},nw=["read","update","preRender","render","postRender"],rw=nw.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,u={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,u=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===u.indexOf(e)&&(u.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(s){if(i)a=!0;else{i=!0;var l=[n,t];if(t=l[0],(n=l[1]).length=0,r=t.length)for(var c=0;c<r;c++){var f=t[c];f(s),o.has(f)&&(u.schedule(f),e())}i=!1,a&&(a=!1,u.process(s))}}};return u}((function(){return Zb=!0})),e}),{}),iw=nw.reduce((function(e,t){var n=rw[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Zb||lw(),n.schedule(e,t,r)},e}),{}),aw=nw.reduce((function(e,t){return e[t]=rw[t].cancel,e}),{}),ow=nw.reduce((function(e,t){return e[t]=function(){return rw[t].process(tw)},e}),{}),uw=function(e){return rw[e].process(tw)},sw=function e(t){Zb=!1,tw.delta=Jb?$b:Math.max(Math.min(t-tw.timestamp,40),1),tw.timestamp=t,ew=!0,nw.forEach(uw),ew=!1,Zb&&(Jb=!1,Xb(e))},lw=function(){Zb=!0,Jb=!0,ew||Xb(sw)},cw=function(){return tw},fw=iw,hw=function(e,t,n){return-n*e+n*t+e};function dw(e,t){return t?e*(1e3/t):0}function vw(e,t){-1===e.indexOf(t)&&e.push(t)}function pw(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var mw=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return vw(this.subscriptions,e),function(){return pw(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),yw=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new mw,this.velocityUpdateSubscribers=new mw,this.renderSubscribers=new mw,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=cw(),i=r.delta,a=r.timestamp;n.lastUpdated!==a&&(n.timeDelta=i,n.lastUpdated=a,fw.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return fw.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?dw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function gw(e){return new yw(e)}var kw=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)};var bw=function(e,t,n){return Math.min(Math.max(n,e),t)},ww=.001;function xw(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,u=e.velocity,s=void 0===u?0:u,l=e.mass,c=void 0===l?1:l,f=1-o;f=bw(.05,1,f),i=bw(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-s,a=_w(e,f),o=Math.exp(-n);return ww-r/a*o},n=function(e){var n=e*f*i,r=n*s+s,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),u=_w(Math.pow(e,2),f);return(-t(e)+ww>0?-1:1)*((r-a)*o)/u}):(t=function(e){return Math.exp(-e*i)*((e-s)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(s-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*c;return{stiffness:d,damping:2*f*Math.sqrt(c*d),duration:i}}function _w(e,t){return e*Math.sqrt(1-t*t)}var Sw=["duration","bounce"],Ew=["stiffness","damping","mass"];function Tw(e,t){return t.some((function(t){return void 0!==e[t]}))}function Iw(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,u=e.restDelta,s=xb(e,["from","to","restSpeed","restDelta"]),l={done:!1,value:n},c=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Tw(e,Ew)&&Tw(e,Sw)){var n=xw(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(s),f=c.stiffness,h=c.damping,d=c.mass,v=c.velocity,p=c.duration,m=c.isResolvedFromDuration,y=Cw,g=Cw;function k(){var e=v?-v/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=_w(a,r);y=function(n){var u=Math.exp(-r*a*n);return i-u*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var s=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),u=Math.min(s*n,300);return i-o*((e+r*a*t)*Math.sinh(u)+s*t*Math.cosh(u))/s}}}return k(),{next:function(e){var t=y(e);if(m)l.done=e>=p;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=u;l.done=r&&a}return l.value=l.done?i:t,l},flipTarget:function(){v=-v;var e=[i,n];n=e[0],i=e[1],k()}}}Iw.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Cw=function(e){return 0},Aw=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Nw=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Dw=function(e){return e%1?Number(e.toFixed(5)):e},Pw=/(-)?([\d]*\.?[\d])+/g,Rw=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Ow=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Lw(e){return"string"===typeof e}var Mw={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Vw=Object.assign(Object.assign({},Mw),{transform:Nw(0,1)}),Fw=Object.assign(Object.assign({},Mw),{default:1}),jw=function(e,t){return function(n){return Boolean(Lw(n)&&Ow.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Uw=function(e,t,n){return function(r){var i;if(!Lw(r))return r;var a=u(r.match(Pw),4),o=a[0],s=a[1],l=a[2],c=a[3];return re(i={},e,parseFloat(o)),re(i,t,parseFloat(s)),re(i,n,parseFloat(l)),re(i,"alpha",void 0!==c?parseFloat(c):1),i}},Bw=Nw(0,255),zw=Object.assign(Object.assign({},Mw),{transform:function(e){return Math.round(Bw(e))}}),qw={test:jw("rgb","red"),parse:Uw("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+zw.transform(t)+", "+zw.transform(n)+", "+zw.transform(r)+", "+Dw(Vw.transform(a))+")"}};var Gw={test:jw("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:qw.transform},Kw=function(e){return{test:function(t){return Lw(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Hw=Kw("deg"),Ww=Kw("%"),Qw=Kw("px"),$w=Kw("vh"),Yw=Kw("vw"),Xw=Object.assign(Object.assign({},Ww),{parse:function(e){return Ww.parse(e)/100},transform:function(e){return Ww.transform(100*e)}}),Jw={test:jw("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Ww.transform(Dw(n))+", "+Ww.transform(Dw(r))+", "+Dw(Vw.transform(a))+")"}};function Zw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ex(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,u=0;if(n/=100){var s=r<.5?r*(1+n):r+n-r*n,l=2*r-s;a=Zw(l,s,t+1/3),o=Zw(l,s,t),u=Zw(l,s,t-1/3)}else a=o=u=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*u),alpha:i}}var tx=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},nx=[Gw,qw,Jw],rx=function(e){return nx.find((function(t){return t.test(e)}))},ix=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},ax=function(e,t){var n=rx(e),r=rx(t);ix(e),ix(t);var i=n.parse(e),a=r.parse(t);n===Jw&&(i=ex(i),n=qw),r===Jw&&(a=ex(a),r=qw);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=tx(i[t],a[t],e));return o.alpha=hw(i.alpha,a.alpha,e),n.transform(o)}},ox={test:function(e){return qw.test(e)||Gw.test(e)||Jw.test(e)},parse:function(e){return qw.test(e)?qw.parse(e):Jw.test(e)?Jw.parse(e):Gw.parse(e)},transform:function(e){return Lw(e)?e:e.hasOwnProperty("red")?qw.transform(e):Jw.transform(e)}},ux="${c}",sx="${n}";function lx(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Rw);r&&(n=r.length,e=e.replace(Rw,ux),t.push.apply(t,qe(r.map(ox.parse))));var i=e.match(Pw);return i&&(e=e.replace(Pw,sx),t.push.apply(t,qe(i.map(Mw.parse)))),{values:t,numColors:n,tokenised:e}}function cx(e){return lx(e).values}function fx(e){var t=lx(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?ux:sx,n<r?ox.transform(e[n]):Dw(e[n]));return t}}var hx=function(e){return"number"===typeof e?0:e};var dx={test:function(e){var t,n,r,i;return isNaN(e)&&Lw(e)&&(null!==(n=null===(t=e.match(Pw))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Rw))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:cx,createTransformer:fx,getAnimatableNone:function(e){var t=cx(e);return fx(e)(t.map(hx))}},vx=function(e){return"number"===typeof e},px=function(e,t){return function(n){return t(e(n))}},mx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(px)};function yx(e,t){return vx(e)?function(n){return hw(e,t,n)}:ox.test(e)?ax(e,t):wx(e,t)}var gx=function(e,t){var n=qe(e),r=n.length,i=e.map((function(e,n){return yx(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},kx=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=yx(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function bx(e){for(var t=dx.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var wx=function(e,t){var n=dx.createTransformer(t),r=bx(e),i=bx(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?mx(gx(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},xx=function(e,t){return function(n){return hw(e,t,n)}};function _x(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?xx:"string"===typeof e?ox.test(e)?ax:wx:Array.isArray(e)?gx:"object"===typeof e?kx:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var u=i(e[o],e[o+1]);if(t){var s=Array.isArray(t)?t[o]:t;u=mx(s,u)}r.push(u)}return r}function Sx(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,1)[0];return function(e){return a(Aw(r,i,e))}}function Ex(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var u=1;u<n&&!(e[u]>i||u===r);u++);a=u-1}var s=Aw(e[a],e[a+1],i);return t[a](s)}}function Tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,u=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[u-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var s=_x(t,a,o),l=2===u?Sx(e,s):Ex(e,s);return i?function(t){return l(bw(e[0],e[u-1],t))}:l}var Ix,Cx=function(e){return function(t){return 1-e(1-t)}},Ax=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Nx=function(e){return function(t){return t*t*((e+1)*t-e)}},Dx=function(e){return e},Px=(Ix=2,function(e){return Math.pow(e,Ix)}),Rx=Cx(Px),Ox=Ax(Px),Lx=function(e){return 1-Math.sin(Math.acos(e))},Mx=Cx(Lx),Vx=Ax(Mx),Fx=Nx(1.525),jx=Cx(Fx),Ux=Ax(Fx),Bx=function(e){var t=Nx(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),zx=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},qx=Cx(zx);function Gx(e,t){return e.map((function(){return t||Ox})).splice(0,e.length-1)}function Kx(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,u=e.duration,s=void 0===u?300:u,l={done:!1,value:n},c=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===c.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(c),s);function h(){return Tx(f,c,{ease:Array.isArray(a)?a:Gx(c,a)})}var d=h();return{next:function(e){return l.value=d(e),l.done=e>=s,l},flipTarget:function(){c.reverse(),d=h()}}}var Hx={keyframes:Kx,spring:Iw,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,u=e.timeConstant,s=void 0===u?350:u,l=e.restDelta,c=void 0===l?.5:l,f=e.modifyTarget,h={done:!1,value:i},d=o*n,v=i+d,p=void 0===f?v:f(v);return p!==v&&(d=p-i),{next:function(e){var t=-d*Math.exp(-e/s);return h.done=!(t>c||t<-c),h.value=h.done?p:p+t,h},flipTarget:function(){}}}};function Wx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var Qx=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return fw.update(t,!0)},stop:function(){return aw.update(t)}}};function $x(e){var t,n,r,i,a,o=e.from,u=e.autoplay,s=void 0===u||u,l=e.driver,c=void 0===l?Qx:l,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,v=void 0===d?0:d,p=e.repeatType,m=void 0===p?"loop":p,y=e.repeatDelay,g=void 0===y?0:y,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,_=e.onUpdate,S=xb(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),E=S.to,T=0,I=S.duration,C=!1,A=!0,N=function(e){if(Array.isArray(e.to))return Kx;if(Hx[e.type])return Hx[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Kx:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Iw:Kx}(S);(null===(n=(t=N).needsInterpolation)||void 0===n?void 0:n.call(t,o,E))&&(a=Tx([0,100],[o,E],{clamp:!1}),o=0,E=100);var D=N(Object.assign(Object.assign({},S),{from:o,to:E}));function P(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:Wx(t+-e,t,n)}(h,I,g,A=T%2===0):(h=Wx(h,I,g),"mirror"===m&&D.flipTarget()),C=!1,x&&x()}function R(e){if(A||(e=-e),h+=e,!C){var t=D.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===_||void 0===_||_(i),C&&(0===T&&(null!==I&&void 0!==I||(I=h)),T<v?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,I,g,A)&&P():(r.stop(),w&&w()))}return s&&(null===k||void 0===k||k(),(r=c(R)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}var Yx=function(e){return 1e3*e},Xx=function(e,t){return 1-3*t+3*e},Jx=function(e,t){return 3*t-6*e},Zx=function(e){return 3*e},e_=function(e,t,n){return((Xx(t,n)*e+Jx(t,n))*e+Zx(t))*e},t_=function(e,t,n){return 3*Xx(t,n)*e*e+2*Jx(t,n)*e+Zx(t)};var n_=.1;function r_(e,t,n,r){if(e===t&&n===r)return Dx;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=e_(a*n_,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=n_;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*n_,u=t_(o,e,n);return u>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=t_(t,n,r);if(0===a)return t;t-=(e_(t,n,r)-e)/a}return t}(t,o,e,n):0===u?o:function(e,t,n,r,i){var a,o,u=0;do{(a=e_(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++u<10);return o}(t,r,r+n_,e,n)}return function(e){return 0===e||1===e?e:e_(o(e),t,r)}}var i_={linear:Dx,easeIn:Px,easeInOut:Ox,easeOut:Rx,circIn:Lx,circInOut:Vx,circOut:Mx,backIn:Fx,backInOut:Ux,backOut:jx,anticipate:Bx,bounceIn:qx,bounceInOut:function(e){return e<.5?.5*(1-zx(1-2*e)):.5*zx(2*e-1)+.5},bounceOut:zx},a_=function(e){if(Array.isArray(e)){e.length;var t=_b(e,4);return r_(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),i_[e]):e},o_=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!dx.test(t)||t.startsWith("url(")))},u_=function(e){return Array.isArray(e)},s_=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},l_=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},c_=function(){return{type:"keyframes",ease:"linear",duration:.3}},f_=function(e){return{type:"keyframes",duration:.8,values:e}},h_={x:s_,y:s_,z:s_,rotate:s_,rotateX:s_,rotateY:s_,rotateZ:s_,scaleX:l_,scaleY:l_,scale:l_,opacity:c_,backgroundColor:c_,color:c_,default:l_},d_=new Set(["brightness","contrast","saturate","opacity"]);function v_(e){var t=u(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=u(r.match(Pw)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=d_.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var p_=/([a-z-]*)\(.*?\)/g,m_=Object.assign(Object.assign({},dx),{getAnimatableNone:function(e){var t=e.match(p_);return t?t.map(v_).join(" "):e}}),y_=wb(wb({},Mw),{transform:Math.round}),g_={borderWidth:Qw,borderTopWidth:Qw,borderRightWidth:Qw,borderBottomWidth:Qw,borderLeftWidth:Qw,borderRadius:Qw,radius:Qw,borderTopLeftRadius:Qw,borderTopRightRadius:Qw,borderBottomRightRadius:Qw,borderBottomLeftRadius:Qw,width:Qw,maxWidth:Qw,height:Qw,maxHeight:Qw,size:Qw,top:Qw,right:Qw,bottom:Qw,left:Qw,padding:Qw,paddingTop:Qw,paddingRight:Qw,paddingBottom:Qw,paddingLeft:Qw,margin:Qw,marginTop:Qw,marginRight:Qw,marginBottom:Qw,marginLeft:Qw,rotate:Hw,rotateX:Hw,rotateY:Hw,rotateZ:Hw,scale:Fw,scaleX:Fw,scaleY:Fw,scaleZ:Fw,skew:Hw,skewX:Hw,skewY:Hw,distance:Qw,translateX:Qw,translateY:Qw,translateZ:Qw,x:Qw,y:Qw,z:Qw,perspective:Qw,transformPerspective:Qw,opacity:Vw,originX:Xw,originY:Xw,originZ:Qw,zIndex:y_,fillOpacity:Vw,strokeOpacity:Vw,numOctaves:y_},k_=wb(wb({},g_),{color:ox,backgroundColor:ox,outlineColor:ox,fill:ox,stroke:ox,borderColor:ox,borderTopColor:ox,borderRightColor:ox,borderBottomColor:ox,borderLeftColor:ox,filter:m_,WebkitFilter:m_}),b_=function(e){return k_[e]};function w_(e,t){var n,r=b_(e);return r!==m_&&(r=dx),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var x_=!1,__=function(e){return u_(e)?e[e.length-1]||0:e};function S_(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=xb(e,["ease","times","yoyo","flip","loop"]),u=wb({},o);return n&&(u.offset=n),o.duration&&(u.duration=Yx(o.duration)),o.repeatDelay&&(u.repeatDelay=Yx(o.repeatDelay)),t&&(u.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(a_):a_(t)),"tween"===o.type&&(u.type="keyframes"),(r||a||i)&&(!0,r?u.repeatType="reverse":a?u.repeatType="loop":i&&(u.repeatType="mirror"),u.repeat=a||r||i||o.repeat),"spring"!==o.type&&(u.type="keyframes"),u}function E_(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Sb([],_b(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=xb(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=wb(wb({},e),function(e,t){var n;return n=u_(t)?f_:h_[e]||h_.default,wb({to:t},n(t))}(n,t.to))),wb(wb({},t),S_(e))}function T_(e,t,n,r,i){var a,o=A_(r,e),u=null!==(a=o.from)&&void 0!==a?a:t.get(),s=o_(e,n);"none"===u&&s&&"string"===typeof n?u=w_(e,n):I_(u)&&"string"===typeof n?u=C_(n):!Array.isArray(n)&&I_(n)&&"string"===typeof u&&(n=C_(u));var l=o_(e,u);return"You are trying to animate ".concat(e,' from "').concat(u,'" to "').concat(n,'". ').concat(u," is not an animatable value - to enable this animation set ").concat(u," to a value animatable to ").concat(n," via the `style` property."),l&&s&&!1!==o.type?function(){var r={from:u,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,u=e.max,s=e.power,l=void 0===s?.8:s,c=e.timeConstant,f=void 0===c?750:c,h=e.bounceStiffness,d=void 0===h?500:h,v=e.bounceDamping,p=void 0===v?10:v,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,x=e.onStop;function _(e){return void 0!==o&&e<o||void 0!==u&&e>u}function S(e){return void 0===o?u:void 0===u||Math.abs(o-e)<Math.abs(u-e)?o:u}function E(e){null===t||void 0===t||t.stop(),t=$x(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:x}))}function T(e){E(Object.assign({type:"spring",stiffness:d,damping:p,restDelta:y},e))}if(_(r))T({from:r,velocity:a,to:S(r)});else{var I=l*a+r;"undefined"!==typeof g&&(I=g(I));var C,A,N=S(I),D=N===o?-1:1;E({type:"decay",from:r,velocity:a,timeConstant:f,power:l,restDelta:y,modifyTarget:g,onUpdate:_(I)?function(e){C=A,A=e,a=dw(e-C,cw().delta),(1===D&&e>N||-1===D&&e<N)&&T({from:e,to:N,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(wb(wb({},r),o)):$x(wb(wb({},E_(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,a=__(n);return t.set(a),i(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,a),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function I_(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function C_(e){return"number"===typeof e?0:w_("",e)}function A_(e,t){return e[t]||e.default||e}function N_(e,t,n,r){return void 0===r&&(r={}),x_&&(r={type:!1}),t.start((function(i){var a,o,u=T_(e,t,n,r,i),s=function(e,t){var n,r;return null!==(r=null!==(n=(A_(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),l=function(){return o=u()};return s?a=window.setTimeout(l,Yx(s)):l(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var D_=["TopLeft","TopRight","BottomLeft","BottomRight"],P_=D_.length,R_=function(e){return"string"===typeof e?parseFloat(e):e},O_=function(e){return"number"===typeof e||Qw.test(e)};function L_(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var M_=F_(0,.5,Mx),V_=F_(.5,.95,Dx);function F_(e,t,n){return function(r){return r<e?0:r>t?1:n(Aw(e,t,r))}}function j_(e,t){e.min=t.min,e.max=t.max}function U_(e,t){j_(e.x,t.x),j_(e.y,t.y)}function B_(e){return void 0===e||1===e}function z_(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!B_(t)||!B_(n)||!B_(r)}function q_(e){return z_(e)||G_(e.x)||G_(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function G_(e){return e&&"0%"!==e}function K_(e,t,n){return n+t*(e-n)}function H_(e,t,n,r,i){return void 0!==i&&(e=K_(e,i,r)),K_(e,n,r)+t}function W_(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=H_(e.min,t,n,r,i),e.max=H_(e.max,t,n,r,i)}function Q_(e,t){var n=t.x,r=t.y;W_(e.x,n.translate,n.scale,n.originPoint),W_(e.y,r.translate,r.scale,r.originPoint)}function $_(e,t){e.min=e.min+t,e.max=e.max+t}function Y_(e,t,n){var r=_b(n,3),i=r[0],a=r[1],o=r[2],u=void 0!==t[o]?t[o]:.5,s=hw(e.min,e.max,u);W_(e,t[i],t[a],s,t.scale)}var X_=["x","scaleX","originX"],J_=["y","scaleY","originY"];function Z_(e,t){Y_(e.x,t,X_),Y_(e.y,t,J_)}var eS=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},tS=function(e){return eS(e)&&e.hasOwnProperty("z")},nS=function(e,t){return Math.abs(e-t)};function rS(e,t){if(vx(e)&&vx(t))return nS(e,t);if(eS(e)&&eS(t)){var n=nS(e.x,t.x),r=nS(e.y,t.y),i=tS(e)&&tS(t)?nS(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function iS(e){return e.max-e.min}function aS(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),rS(e,t)<n}function oS(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=hw(t.min,t.max,e.origin),e.scale=iS(n)/iS(t),(aS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=hw(n.min,n.max,e.origin)-e.originPoint,(aS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uS(e,t,n,r){oS(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),oS(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function sS(e,t,n){e.min=n.min+t.min,e.max=e.min+iS(t)}function lS(e,t,n){e.min=t.min-n.min,e.max=e.min+iS(t)}function cS(e,t,n){lS(e.x,t.x,n.x),lS(e.y,t.y,n.y)}function fS(e,t,n,r,i){return e=K_(e-=t,1/n,r),void 0!==i&&(e=K_(e,1/i,r)),e}function hS(e,t,n,r,i){var a=_b(n,3),o=a[0],u=a[1],s=a[2];!function(e,t,n,r,i,a,o){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===a&&(a=e),void 0===o&&(o=e),Ww.test(t)&&(t=parseFloat(t),t=hw(o.min,o.max,t/100)-o.min),"number"===typeof t){var u=hw(a.min,a.max,r);e===a&&(u-=t),e.min=fS(e.min,t,n,u,i),e.max=fS(e.max,t,n,u,i)}}(e,t[o],t[u],t[s],t.scale,r,i)}var dS=["x","scaleX","originX"],vS=["y","scaleY","originY"];function pS(e,t,n,r){hS(e.x,t,dS,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),hS(e.y,t,vS,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function mS(e){return 0===e.translate&&1===e.scale}function yS(e){return mS(e.x)&&mS(e.y)}function gS(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var kS=function(){function e(){this.members=[]}return e.prototype.add=function(e){vw(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),bS={};function wS(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var o=n.rotate,u=n.rotateX,s=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),u&&(a+="rotateX(".concat(u,"deg) ")),s&&(a+="rotateY(".concat(s,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(a+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":a}function xS(e){return[e("x"),e("y")]}var _S=["","X","Y","Z"],SS=["transformPerspective","x","y","z"];function ES(e,t){return SS.indexOf(e)-SS.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return _S.forEach((function(t){return SS.push(e+t)}))}));var TS=new Set(SS);function IS(e){return TS.has(e)}var CS=new Set(["originX","originY","originZ"]);function AS(e){return CS.has(e)}var NS=function(e,t){return e.depth-t.depth},DS=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){vw(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){pw(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(NS),this.isDirty=!1,this.children.forEach(e)},e}();function PS(e){var t=kw(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var RS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OS(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(BS),i.nodes.forEach(zS)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?Sb(Sb([],_b(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new DS)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new mw),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,Sb([],_b(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,u=a.layout,s=a.visualElement;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(u||o)&&(this.isLayoutDirty=!0),t){var l,c=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(l),l=window.setTimeout(c,250),RS.hasAnimatedSinceResize&&(RS.hasAnimatedSinceResize=!1,i.nodes.forEach(US))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||u)&&this.addEventListener("didUpdate",(function(e){var t,n,r,a,o,u=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,f=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:s.getDefaultTransition())&&void 0!==n?n:QS,d=s.getProps().onLayoutAnimationComplete,v=!i.targetLayout||!gS(i.targetLayout,f)||c,p=!l&&c;if((null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||p||l&&(v||!i.currentAnimation)){i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(u,p);var m=wb(wb({},A_(h,"layout")),{onComplete:d});s.shouldReduceMotion&&(m.delay=0,m.type=!1),i.startAnimation(m)}else l||0!==i.animationProgress||i.finishAnimation(),i.isLead()&&(null===(o=(a=i.options).onExitComplete)||void 0===o||o.call(a));i.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,aw.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(qS))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,u=o.layoutId,s=o.layout;if(void 0!==u||s){var l=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===l||void 0===l?void 0:l(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(FS);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach($S),this.potentialNodes.clear()),this.nodes.forEach(jS),this.nodes.forEach(LS),this.nodes.forEach(MS),this.clearAllSnapshots(),ow.update(),ow.preRender(),ow.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(VS),this.sharedNodes.forEach(GS)},e.prototype.scheduleUpdateProjection=function(){fw.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;fw.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));XS(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();XS(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!yS(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,a=null===r||void 0===r?void 0:r(this.latestValues,""),o=a!==this.prevTransformTemplateValue;t&&(n||q_(this.latestValues)||o)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&($_(t.x,n.x),$_(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};U_(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;r!==this.root&&i&&a.layoutScroll&&($_(t.x,i.x),$_(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};U_(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Z_(n,{x:-i.scroll.x,y:-i.scroll.y}),q_(i.latestValues)&&Z_(n,i.latestValues)}return q_(this.latestValues)&&Z_(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};U_(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&q_(i.latestValues)){z_(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};U_(a,i.measure()),pS(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return q_(this.latestValues)&&pS(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=wb(wb(wb({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cS(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),U_(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,sS(t.x,n.x,r.x),sS(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):U_(this.target,this.layout.actual),Q_(this.target,this.targetDelta)):U_(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cS(this.relativeTargetOrigin,this.target,this.relativeParent.target),U_(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!q_(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();U_(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,a;void 0===r&&(r=!1);var o=n.length;if(o){var u,s;t.x=t.y=1;for(var l=0;l<o;l++)s=(u=n[l]).projectionDelta,"contents"!==(null===(a=null===(i=u.instance)||void 0===i?void 0:i.style)||void 0===a?void 0:a.display)&&(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Z_(e,{x:-u.scroll.x,y:-u.scroll.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Q_(e,s)),r&&q_(u.latestValues)&&Z_(e,u.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,u=this.treeScale.y,s=this.projectionTransform;uS(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=wS(this.projectionDelta,this.treeScale),this.projectionTransform===s&&this.treeScale.x===o&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=wb({},this.latestValues),u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var s={x:{min:0,max:0},y:{min:0,max:0}},l=null===i||void 0===i?void 0:i.isShared,c=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(WS));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;KS(u.x,e.x,i),KS(u.y,e.y,i),r.setTargetDelta(u),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(cS(s,r.layout.actual,r.relativeParent.layout.actual),function(e,t,n,r){HS(e.x,t.x,n.x,r),HS(e.y,t.y,n.y,r)}(r.relativeTarget,r.relativeTargetOrigin,s,i)),l&&(r.animationValues=o,function(e,t,n,r,i,a){var o,u,s,l;i?(e.opacity=hw(0,null!==(o=n.opacity)&&void 0!==o?o:1,M_(r)),e.opacityExit=hw(null!==(u=t.opacity)&&void 0!==u?u:1,0,V_(r))):a&&(e.opacity=hw(null!==(s=t.opacity)&&void 0!==s?s:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var c=0;c<P_;c++){var f="border".concat(D_[c],"Radius"),h=L_(t,f),d=L_(n,f);void 0===h&&void 0===d||(h||(h=0),d||(d=0),0===h||0===d||O_(h)===O_(d)?(e[f]=Math.max(hw(R_(h),R_(d),r),0),(Ww.test(d)||Ww.test(h))&&(e[f]+="%")):e[f]=d)}(t.rotate||n.rotate)&&(e.rotate=hw(t.rotate||0,n.rotate||0,r))}(o,a,r.latestValues,i,f,c)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(aw.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fw.update((function(){RS.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=kw(e)?e:gw(e);return N_("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,wb(wb({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(U_(t,n),Z_(t,i),uS(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new kS),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<_S.length;r++){var i="rotate"+_S[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,a,o;void 0===e&&(e={});var u={};if(!this.instance||this.isSVG)return u;if(!this.isVisible)return{visibility:"hidden"};u.visibility="";var s=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=PS(e.pointerEvents)||"",u.transform=s?s(this.latestValues,""):"none",u;var l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){var c={};return this.options.layoutId&&(c.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,c.pointerEvents=PS(e.pointerEvents)||""),this.hasProjected&&!q_(this.latestValues)&&(c.transform=s?s({},""):"none",this.hasProjected=!1),c}var f=l.animationValues||l.latestValues;this.applyTransformsToTarget(),u.transform=wS(this.projectionDeltaWithTransform,this.treeScale,f),s&&(u.transform=s(f,u.transform));var h=this.projectionDelta,d=h.x,v=h.y;for(var p in u.transformOrigin="".concat(100*d.origin,"% ").concat(100*v.origin,"% 0"),l.animationValues?u.opacity=l===this?null!==(i=null!==(r=f.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=l===this?null!==(a=f.opacity)&&void 0!==a?a:"":null!==(o=f.opacityExit)&&void 0!==o?o:0,bS)if(void 0!==f[p]){var m=bS[p],y=m.correct,g=m.applyTo,k=y(f[p],l);if(g)for(var b=g.length,w=0;w<b;w++)u[g[w]]=k;else u[p]=k}return this.options.layoutId&&(u.pointerEvents=l===this?PS(e.pointerEvents)||"":"none"),u},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(FS),this.root.sharedNodes.clear()},e}()}function LS(e){e.updateLayout()}function MS(e){var t,n,r,i,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var o=e.layout,u=o.actual,s=o.measured;"size"===e.options.animationType?xS((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=iS(t);t.min=u[e].min,t.max=t.min+n})):"position"===e.options.animationType&&xS((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=iS(u[e]);t.max=t.min+n}));var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};uS(l,u,a.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a.isShared?uS(c,e.applyTransform(s,!0),a.measured):uS(c,u,a.layout);var f=!yS(l),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,v=d.snapshot,p=d.layout;if(v&&p){var m={x:{min:0,max:0},y:{min:0,max:0}};cS(m,a.layout,v.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};cS(y,u,p.actual),gS(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:u,snapshot:a,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function VS(e){e.clearSnapshot()}function FS(e){e.clearMeasurements()}function jS(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function US(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function BS(e){e.resolveTargetDelta()}function zS(e){e.calcProjection()}function qS(e){e.resetRotation()}function GS(e){e.removeLeadSnapshot()}function KS(e,t,n){e.translate=hw(t.translate,0,n),e.scale=hw(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function HS(e,t,n,r){e.min=hw(t.min,n.min,r),e.max=hw(t.max,n.max,r)}function WS(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var QS={duration:.45,ease:[.4,0,.1,1]};function $S(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function YS(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function XS(e){YS(e.x),YS(e.y)}var JS=1;var ZS=(0,r.createContext)({}),eE=(0,r.createContext)({});var tE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bb(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(r.Component);function nE(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,u=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?Tb.projectionNodeConstructor=e[t]:Tb[t].Component=e[t])}(t),(0,r.forwardRef)((function(e,t){var s=function(e){var t,n=e.layoutId,i=null===(t=(0,r.useContext)(ZS))||void 0===t?void 0:t.id;return i&&void 0!==n?i+"-"+n:n}(e);e=wb(wb({},e),{layoutId:s});var l=(0,r.useContext)(Nb),c=null,f=Hb(e),h=l.isStatic?void 0:Qb((function(){if(RS.hasEverUpdated)return JS++})),d=o(e,l.isStatic);return!l.isStatic&&Rb&&(f.visualElement=Fb(u,d,wb(wb({},l),e),n),function(e,t,n,i){var a,o=t.layoutId,u=t.layout,s=t.drag,l=t.dragConstraints,c=t.layoutScroll,f=(0,r.useContext)(eE);i&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new i(e,n.getLatestValues(),null===(a=n.parent)||void 0===a?void 0:a.projection),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:Boolean(s)||l&&jb(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof u?u:"both",initialPromotionConfig:f,layoutScroll:c}))}(h,e,f.visualElement,i||Tb.projectionNodeConstructor),c=function(e,t,n){var i=[];if((0,r.useContext)(Ib),!t)return null;for(var a=0;a<Ab;a++){var o=Cb[a],u=Tb[o],s=u.isEnabled,l=u.Component;s(e)&&l&&i.push(r.createElement(l,wb({key:o},e,{visualElement:t})))}return i}(e,f.visualElement)),r.createElement(tE,{visualElement:f.visualElement,props:wb(wb({},l),e)},c,r.createElement(Db.Provider,{value:f},a(u,e,h,function(e,t,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):jb(n)&&(n.current=r))}),[t])}(d,f.visualElement,t),d,l.isStatic,f.visualElement)))}))}function rE(e){function t(t,n){return void 0===n&&(n={}),nE(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var iE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function aE(e){return"string"===typeof e&&!e.includes("-")&&!!(iE.indexOf(e)>-1||/[A-Z]/.test(e))}function oE(e,t){var n=t.layout,r=t.layoutId;return IS(e)||AS(e)||(n||void 0!==r)&&(!!bS[e]||"opacity"===e)}var uE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function sE(e){return e.startsWith("--")}var lE=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function cE(e,t,n,r){var i,a=e.style,o=e.vars,u=e.transform,s=e.transformKeys,l=e.transformOrigin;s.length=0;var c=!1,f=!1,h=!0;for(var d in t){var v=t[d];if(sE(d))o[d]=v;else{var p=g_[d],m=lE(v,p);if(IS(d)){if(c=!0,u[d]=m,s.push(d),!h)continue;v!==(null!==(i=p.default)&&void 0!==i?i:0)&&(h=!1)}else AS(d)?(l[d]=m,f=!0):a[d]=m}}c?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,u=void 0===o||o,s=t.allowTransformNone,l=void 0===s||s,c="";a.sort(ES);for(var f=!1,h=a.length,d=0;d<h;d++){var v=a[d];c+="".concat(uE[v]||v,"(").concat(i[v],") "),"z"===v&&(f=!0)}return!f&&u?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ,o=void 0===a?0:a;return"".concat(n," ").concat(i," ").concat(o)}(l))}var fE=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function hE(e,t,n){for(var r in t)kw(t[r])||oE(r,n)||(e[r]=t[r])}function dE(e,t,n){var i={};return hE(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};cE(e,t,{enableHardwareAcceleration:!n},i);var r=e.style;return wb(wb({},e.vars),r)}),[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}function vE(e,t,n){var r={},i=dE(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var pE=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function mE(e){return pE.has(e)}var yE,gE=function(e){return!mE(e)};try{(yE=require("@emotion/is-prop-valid").default)&&(gE=function(e){return e.startsWith("on")?!mE(e):yE(e)})}catch(ry){}function kE(e,t,n){return"string"===typeof e?e:Qw.transform(t+n*e)}var bE={offset:"stroke-dashoffset",array:"stroke-dasharray"},wE={offset:"strokeDashoffset",array:"strokeDasharray"};function xE(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,u=t.originY,s=t.pathLength,l=t.pathSpacing,c=void 0===l?1:l,f=t.pathOffset,h=void 0===f?0:f;cE(e,xb(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,v=e.style,p=e.dimensions;d.transform&&(p&&(v.transform=d.transform),delete d.transform),p&&(void 0!==o||void 0!==u||v.transform)&&(v.transformOrigin=function(e,t,n){var r=kE(t,e.x,e.width),i=kE(n,e.y,e.height);return"".concat(r," ").concat(i)}(p,void 0!==o?o:.5,void 0!==u?u:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==s&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var a=i?bE:wE;e[a.offset]=Qw.transform(-r);var o=Qw.transform(t),u=Qw.transform(n);e[a.array]="".concat(o," ").concat(u)}(d,s,c,h,!1)}var _E=function(){return wb(wb({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function SE(e,t){var n=(0,r.useMemo)((function(){var n=_E();return xE(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),wb(wb({},n.attrs),{style:wb({},n.style)})}),[t]);if(e.style){var i={};hE(i,e.style,e),n.style=wb(wb({},i),n.style)}return n}function EE(e){void 0===e&&(e=!1);return function(t,n,i,a,o,u){var s=o.latestValues,l=(aE(t)?SE:vE)(n,s,u),c=function(e,t,n){var r={};for(var i in e)(gE(i)||!0===n&&mE(i)||!t&&!mE(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),f=wb(wb(wb({},c),l),{ref:a});return i&&(f["data-projection-id"]=i),(0,r.createElement)(t,f)}}var TE=/([a-z])([A-Z])/g,IE=function(e){return e.replace(TE,"$1-$2").toLowerCase()};function CE(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var AE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function NE(e,t){for(var n in CE(e,t),t.attrs)e.setAttribute(AE.has(n)?n:IE(n),t.attrs[n])}function DE(e){var t=e.style,n={};for(var r in t)(kw(t[r])||oE(r,e))&&(n[r]=t[r]);return n}function PE(e){var t=DE(e);for(var n in e){if(kw(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function RE(e){return"object"===typeof e&&"function"===typeof e.start}function OE(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,u={latestValues:ME(t,n,r,i),renderState:a()};return o&&(u.mount=function(e){return o(t,e,u)}),u}var LE=function(e){return function(t,n){var i=(0,r.useContext)(Db),a=(0,r.useContext)(Pb);return n?OE(e,t,i,a):Qb((function(){return OE(e,t,i,a)}))}};function ME(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var u in o)i[u]=PS(o[u]);var s=e.initial,l=e.animate,c=Gb(e),f=Kb(e);t&&f&&!c&&!1!==e.inherit&&(null!==s&&void 0!==s||(s=t.initial),null!==l&&void 0!==l||(l=t.animate));var h=a||!1===s,d=h?l:s;d&&"boolean"!==typeof d&&!RE(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=zb(e,t);if(n){var r=n.transitionEnd;n.transition;var a=xb(n,["transitionEnd","transition"]);for(var o in a){var u=a[o];if(Array.isArray(u))u=u[h?u.length-1:0];null!==u&&(i[o]=u)}for(var o in r)i[o]=r[o]}}));return i}var VE,FE={useVisualState:LE({scrapeMotionValuesFromProps:PE,createRenderState:_E,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}xE(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),NE(t,r)}})},jE={useVisualState:LE({scrapeMotionValuesFromProps:DE,createRenderState:fE})};function UE(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function BE(e,t,n,i){(0,r.useEffect)((function(){var r=e.current;if(n&&r)return UE(r,t,n,i)}),[e,t,n,i])}function zE(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function qE(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(VE||(VE={}));var GE={pageX:0,pageY:0};function KE(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||GE;return{x:n[t+"X"],y:n[t+"Y"]}}function HE(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function WE(e,t){return void 0===t&&(t="page"),{point:qE(e)?KE(e,t):HE(e,t)}}var QE=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,WE(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},$E={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},YE={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function XE(e){return Rb&&null===window.onpointerdown?e:Rb&&null===window.ontouchstart?YE[e]:Rb&&null===window.onmousedown?$E[e]:e}function JE(e,t,n,r){return UE(e,XE(t),QE(n,"pointerdown"===t),r)}function ZE(e,t,n,r){return BE(e,XE(t),n&&QE(n,"pointerdown"===t),r)}function eT(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var tT=eT("dragHorizontal"),nT=eT("dragVertical");function rT(e){var t=!1;if("y"===e)t=nT();else if("x"===e)t=tT();else{var n=tT(),r=nT();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function iT(){var e=rT(!0);return!e||(e(),!1)}function aT(e,t,n){return function(r,i){var a;zE(r)&&!iT()&&(null===(a=e.animationState)||void 0===a||a.setActive(VE.Hover,t),null===n||void 0===n||n(r,i))}}var oT=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function uT(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}var sT=new WeakMap,lT=new WeakMap,cT=function(e){var t;null===(t=sT.get(e.target))||void 0===t||t(e)},fT=function(e){e.forEach(cT)};function hT(e,t,n){var r=function(e){var t=e.root,n=xb(e,["root"]),r=t||document;lT.has(r)||lT.set(r,{});var i=lT.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(fT,wb({root:t},n))),i[a]}(t);return sT.set(e,n),r.observe(e),function(){sT.delete(e),r.unobserve(e)}}var dT={some:0,all:1};function vT(e,t,n,i){var a=i.root,o=i.margin,u=i.amount,s=void 0===u?"some":u,l=i.once;(0,r.useEffect)((function(){if(e){var r={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof s?s:dT[s]};return hT(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!l||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(VE.InView,i);var a=n.getProps(),o=i?a.onViewportEnter:a.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,a,o,s])}function pT(e,t,n,i){var a=i.fallback,o=void 0===a||a;(0,r.useEffect)((function(){e&&o&&requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null===r||void 0===r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(VE.InView,!0)}))}),[e])}var mT=function(e){return function(t){return e(t),null}},yT={inView:mT((function(e){var t=e.visualElement,n=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,u=void 0===o?{}:o,s=(0,r.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(n||i||a);u.once&&s.current.hasEnteredView&&(l=!1),("undefined"===typeof IntersectionObserver?pT:vT)(l,s.current,t,u)})),tap:mT((function(e){var t=e.onTap,n=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,u=t||n||i||a,s=(0,r.useRef)(!1),l=(0,r.useRef)(null);function c(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}function f(){var e;return c(),s.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(VE.Tap,!1),!iT()}function h(e,n){f()&&(oT(o.getInstance(),e.target)?null===t||void 0===t||t(e,n):null===i||void 0===i||i(e,n))}function d(e,t){f()&&(null===i||void 0===i||i(e,t))}ZE(o,"pointerdown",u?function(e,t){var r;c(),s.current||(s.current=!0,l.current=mx(JE(window,"pointerup",h),JE(window,"pointercancel",d)),null===(r=o.animationState)||void 0===r||r.setActive(VE.Tap,!0),null===n||void 0===n||n(e,t))}:void 0),uT(c)})),focus:mT((function(e){var t=e.whileFocus,n=e.visualElement;BE(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(VE.Focus,!0)}:void 0),BE(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(VE.Focus,!1)}:void 0)})),hover:mT((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;ZE(i,"pointerenter",t||r?aT(i,!0,t):void 0),ZE(i,"pointerleave",n||r?aT(i,!1,n):void 0)}))},gT=0,kT=function(){return gT++};function bT(){var e=(0,r.useContext)(Pb);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,a=Qb(kT);(0,r.useEffect)((function(){return i(a)}),[]);return!t&&n?[!1,function(){return null===n||void 0===n?void 0:n(a)}]:[!0]}function wT(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var xT=function(e){return/^\-?\d*\.?\d+$/.test(e)},_T=function(e){return/^0[^.\s]+$/.test(e)},ST=function(e){return function(t){return t.test(e)}},ET=[Mw,Qw,Ww,Hw,Yw,$w,{test:function(e){return"auto"===e},parse:function(e){return e}}],TT=function(e){return ET.find(ST(e))},IT=Sb(Sb([],_b(ET),!1),[ox,dx],!1),CT=function(e){return IT.find(ST(e))};function AT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gw(n))}function NT(e,t){var n=qb(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i;r.transition;var o=xb(r,["transitionEnd","transition"]);for(var u in o=wb(wb({},o),a)){AT(e,u,__(o[u]))}}function DT(e,t){if(t)return(t[e]||t.default||t).from}function PT(e,t,n){var r;void 0===n&&(n={});var i=qb(e,t,n.custom),a=(i||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var u=i?function(){return RT(e,i,n)}:function(){return Promise.resolve()},s=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=o.delayChildren,a=void 0===i?0:i,u=o.staggerChildren,s=o.staggerDirection;return function(e,t,n,r,i,a){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var o=[],u=(e.variantChildren.size-1)*r,s=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),u-e*r};return Array.from(e.variantChildren).sort(OT).forEach((function(e,r){o.push(PT(e,t,wb(wb({},a),{delay:n+s(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,a+r,u,s,n)}:function(){return Promise.resolve()},l=o.when;if(l){var c=_b("beforeChildren"===l?[u,s]:[s,u],2),f=c[0],h=c[1];return f().then(h)}return Promise.all([u(),s(n.delay)])}function RT(e,t,n){var r,i=void 0===n?{}:n,a=i.delay,o=void 0===a?0:a,u=i.transitionOverride,s=i.type,l=e.makeTargetAnimatable(t),c=l.transition,f=void 0===c?e.getDefaultTransition():c,h=l.transitionEnd,d=xb(l,["transition","transitionEnd"]);u&&(f=u);var v=[],p=s&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[s]);for(var m in d){var y=e.getValue(m),g=d[m];if(!(!y||void 0===g||p&&LT(p,m))){var k=wb({delay:o},f);e.shouldReduceMotion&&IS(m)&&(k=wb(wb({},k),{type:!1,delay:0}));var b=N_(m,y,g,k);v.push(b)}}return Promise.all(v).then((function(){h&&NT(e,h)}))}function OT(e,t){return e.sortNodePosition(t)}function LT(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var MT=[VE.Animate,VE.InView,VE.Focus,VE.Hover,VE.Tap,VE.Drag,VE.Exit],VT=Sb([],_b(MT),!1).reverse(),FT=MT.length;function jT(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return PT(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=PT(e,t,n);else{var a="function"===typeof t?qb(e,t,n.custom):t;r=RT(e,a,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function UT(e){var t=jT(e),n=function(){var e;return(e={})[VE.Animate]=BT(!0),e[VE.InView]=BT(),e[VE.Hover]=BT(),e[VE.Tap]=BT(),e[VE.Drag]=BT(),e[VE.Focus]=BT(),e[VE.Exit]=BT(),e}(),r={},i=!0,a=function(t,n){var r=qb(e,n);if(r){r.transition;var i=r.transitionEnd,a=xb(r,["transition","transitionEnd"]);t=wb(wb(wb({},t),a),i)}return t};function o(o,u){for(var s,l=e.getProps(),c=e.getVariantContext(!0)||{},f=[],h=new Set,d={},v=1/0,p=function(t){var r=VT[t],p=n[r],m=null!==(s=l[r])&&void 0!==s?s:c[r],y=Bb(m),g=r===u?p.isActive:null;!1===g&&(v=t);var k=m===c[r]&&m!==l[r]&&y;if(k&&i&&e.manuallyAnimateOnMount&&(k=!1),p.protectedKeys=wb({},d),!p.isActive&&null===g||!m&&!p.prevProp||RE(m)||"boolean"===typeof m)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(Ub(t))return!wT(t,e);return!1}(p.prevProp,m),w=b||r===u&&p.isActive&&!k&&y||t>v&&y,x=Array.isArray(m)?m:[m],_=x.reduce(a,{});!1===g&&(_={});var S=p.prevResolvedValues,E=void 0===S?{}:S,T=wb(wb({},E),_),I=function(e){w=!0,h.delete(e),p.needsAnimating[e]=!0};for(var C in T){var A=_[C],N=E[C];d.hasOwnProperty(C)||(A!==N?u_(A)&&u_(N)?!wT(A,N)||b?I(C):p.protectedKeys[C]=!0:void 0!==A?I(C):h.add(C):void 0!==A&&h.has(C)?I(C):p.protectedKeys[C]=!0)}p.prevProp=m,p.prevResolvedValues=_,p.isActive&&(d=wb(wb({},d),_)),i&&e.blockInitialAnimation&&(w=!1),w&&!k&&f.push.apply(f,Sb([],_b(x.map((function(e){return{animation:e,options:wb({type:r},o)}}))),!1))},m=0;m<FT;m++)p(m);if(r=wb({},d),h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return i&&!1===l.initial&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var u=o(i,t);for(var s in n)n[s].protectedKeys={};return u},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function BT(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var zT={animation:mT((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=UT(t)),RE(n)&&(0,r.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:mT((function(e){var t=e.custom,n=e.visualElement,i=_b(bT(),2),a=i[0],o=i[1],u=(0,r.useContext)(Pb);(0,r.useEffect)((function(){var e,r;n.isPresent=a;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(VE.Exit,!a,{custom:null!==(r=null===u||void 0===u?void 0:u.custom)&&void 0!==r?r:t});!a&&(null===i||void 0===i||i.then(o))}),[a])}))},qT=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=HT(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=rS(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=cw().timestamp;r.history.push(wb(wb({},i),{timestamp:a}));var o=r.handlers,u=o.onStart,s=o.onMove;t||(u&&u(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),s&&s(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=GT(t,r.transformPagePoint),zE(e)&&0===e.buttons?r.handlePointerUp(e,t):fw.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=HT(GT(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(qE(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=GT(WE(e),this.transformPagePoint),o=a.point,u=cw().timestamp;this.history=[wb(wb({},o),{timestamp:u})];var s=t.onSessionStart;s&&s(e,HT(a,this.history)),this.removeListeners=mx(JE(window,"pointermove",this.handlePointerMove),JE(window,"pointerup",this.handlePointerUp),JE(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),aw.update(this.updatePoint)},e}();function GT(e,t){return t?{point:t(e.point)}:e}function KT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function HT(e,t){var n=e.point;return{point:n,delta:KT(n,QT(t)),offset:KT(n,WT(t)),velocity:$T(t,.1)}}function WT(e){return e[0]}function QT(e){return e[e.length-1]}function $T(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=QT(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Yx(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function YT(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function XT(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=_b([i,r],2))[0],i=n[1]),{min:r,max:i}}var JT=.35;function ZT(e,t,n){return{min:eI(e,t),max:eI(e,n)}}function eI(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function tI(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function nI(e,t){return tI(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var rI=new WeakMap,iI=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new qT(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(WE(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),a=i.drag,o=i.dragPropagation,u=i.onDragStart;(!a||o||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=rT(a),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),xS((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(Ww.test(i)){var a=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(a)i=iS(a)*(parseFloat(i)/100)}n.originPoint[e]=i})),null===u||void 0===u||u(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(VE.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,u=r.onDrag;if(i||n.openGlobalLock){var s=t.offset;if(a&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==n.currentDirection&&(null===o||void 0===o||o(n.currentDirection)));n.updateAxis("x",t.point,s),n.updateAxis("y",t.point,s),n.visualElement.syncRender(),null===u||void 0===u||u(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(VE.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&aI(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?hw(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?hw(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&jb(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:YT(e.x,r,a),y:YT(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=JT),!1===e?e=0:!0===e&&(e=JT),{x:ZT(e,"left","right"),y:ZT(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xS((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!jb(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=nI(e,n),i=t.scroll;return i&&($_(r.x,i.x),$_(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:XT(e.x,t.x),y:XT(e.y,t.y)}}(i.layout.actual,a);if(n){var u=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!u,u&&(o=tI(u))}return o},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,u=n.dragSnapToOrigin,s=n.onDragTransitionEnd,l=this.constraints||{},c=xS((function(n){var s;if(aI(n,r,t.currentDirection)){var c=null!==(s=null===l||void 0===l?void 0:l[n])&&void 0!==s?s:{};u&&(c={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=wb(wb({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),c);return t.startAxisValueAnimation(n,d)}}));return Promise.all(c).then(s)},e.prototype.startAxisValueAnimation=function(e,t){return N_(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;xS((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;xS((function(n){if(aI(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,u=a.max;i.set(e[n]-hw(o,u,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(jb(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};xS((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=iS(e),i=iS(t);return i>r?n=Aw(t.min,t.max-r,e.min):r>i&&(n=Aw(e.min,e.max-i,t.min)),bw(0,1,n)}({min:r,max:r},t.constraints[e])}}));var u=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=u?u({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),xS((function(e){if(aI(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,u=i.max;n.set(hw(a,u,o[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;rI.set(this.visualElement,this);var n=JE(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){jb(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=UE(window,"resize",(function(){t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(xS((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){o(),n(),a()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,u=e.dragConstraints,s=void 0!==u&&u,l=e.dragElastic,c=void 0===l?JT:l,f=e.dragMomentum,h=void 0===f||f;return wb(wb({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:s,dragElastic:c,dragMomentum:h})},e}();function aI(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var oI={pan:mT((function(e){var t=e.onPan,n=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,u=t||n||i||a,s=(0,r.useRef)(null),l=(0,r.useContext)(Nb).transformPagePoint,c={onSessionStart:a,onStart:n,onMove:t,onEnd:function(e,t){s.current=null,i&&i(e,t)}};(0,r.useEffect)((function(){null!==s.current&&s.current.updateHandlers(c)})),ZE(o,"pointerdown",u&&function(e){s.current=new qT(e,c,{transformPagePoint:l})}),uT((function(){return s.current&&s.current.end()}))})),drag:mT((function(e){var t=e.dragControls,n=e.visualElement,i=Qb((function(){return new iI(n)}));(0,r.useEffect)((function(){return t&&t.subscribe(i)}),[i,t]),(0,r.useEffect)((function(){return i.addListeners()}),[i])}))},uI=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var sI=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,u=e.render,s=e.readValueFromInstance,l=e.removeValueFromRenderState,c=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,d=e.props,v=e.presenceId,p=e.blockInitialAnimation,m=e.visualState,y=e.shouldReduceMotion;void 0===t&&(t={});var g,k,b=!1,w=m.latestValues,x=m.renderState,_=function(){var e=uI.map((function(){return new mw})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){uI.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+uI[t]]=function(t){return e.add(t)},n["notify"+uI[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,Sb([],_b(t),!1))}})),n}(),S=new Map,E=new Map,T={},I=wb({},w);function C(){g&&b&&(A(),u(g,x,d.style,V.projection))}function A(){r(V,x,w,t,d)}function N(){_.notifyUpdate(w)}function D(e,t){var n=t.onChange((function(t){w[e]=t,d.onUpdate&&fw.update(N,!1,!0)})),r=t.onRenderRequest(V.scheduleRender);E.set(e,(function(){n(),r()}))}var P=f(d);for(var R in P){var O=P[R];void 0!==w[R]&&kw(O)&&O.set(w[R],!1)}var L=Gb(d),M=Kb(d),V=wb(wb({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:v,shouldReduceMotion:y,variantChildren:M?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===h||void 0===h?void 0:h.isMounted()),blockInitialAnimation:p,isMounted:function(){return Boolean(g)},mount:function(e){b=!0,g=V.current=e,V.projection&&V.projection.mount(e),M&&h&&!L&&(k=null===h||void 0===h?void 0:h.addVariantChild(V)),S.forEach((function(e,t){return D(t,e)})),null===h||void 0===h||h.children.add(V),V.setProps(d)},unmount:function(){var e;null===(e=V.projection)||void 0===e||e.unmount(),aw.update(N),aw.render(C),E.forEach((function(e){return e()})),null===k||void 0===k||k(),null===h||void 0===h||h.children.delete(V),_.clearAllListeners(),g=void 0,b=!1},addVariantChild:function(e){var t,n=V.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&n===e.treeType?c(V.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return M?V:null===h||void 0===h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return d.layoutId},getInstance:function(){return g},getStaticValue:function(e){return w[e]},setStaticValue:function(e,t){return w[e]=t},getLatestValues:function(){return w},setVisibility:function(e){V.isVisible!==e&&(V.isVisible=e,V.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(V,e,d,t)},measureViewportBox:function(){return o(g,d)},addValue:function(e,t){V.hasValue(e)&&V.removeValue(e),S.set(e,t),w[e]=t.get(),D(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=E.get(e))||void 0===t||t(),E.delete(e),delete w[e],l(e,x)},hasValue:function(e){return S.has(e)},getValue:function(e,t){var n=S.get(e);return void 0===n&&void 0!==t&&(n=gw(t),V.addValue(e,n)),n},forEachValue:function(e){return S.forEach(e)},readValue:function(e){var n;return null!==(n=w[e])&&void 0!==n?n:s(g,e,t)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(i){var t=i(d,e);if(void 0!==t&&!kw(t))return t}return I[e]}},_),{build:function(){return A(),x},scheduleRender:function(){fw.render(C,!1,!0)},syncRender:C,setProps:function(e){(e.transformTemplate||d.transformTemplate)&&V.scheduleRender(),d=e,_.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var a=t[i],o=n[i];if(kw(a))e.addValue(i,a);else if(kw(o))e.addValue(i,gw(a));else if(o!==a)if(e.hasValue(i)){var u=e.getValue(i);!u.hasAnimated&&u.set(a)}else e.addValue(i,gw(null!==(r=e.getStaticValue(i))&&void 0!==r?r:a))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(V,f(d),T)},getProps:function(){return d},getVariant:function(e){var t;return null===(t=d.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return d.transition},getTransformPagePoint:function(){return d.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===h||void 0===h?void 0:h.getVariantContext();if(!L){var t=(null===h||void 0===h?void 0:h.getVariantContext())||{};return void 0!==d.initial&&(t.initial=d.initial),t}for(var n={},r=0;r<cI;r++){var i=lI[r],a=d[i];(Bb(a)||!1===a)&&(n[i]=a)}return n}});return V}},lI=Sb(["initial"],_b(MT),!1),cI=lI.length;function fI(e){return"string"===typeof e&&e.startsWith("var(--")}var hI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dI(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=_b(function(e){var t=hI.exec(e);if(!t)return[,];var n=_b(t,3);return[n[1],n[2]]}(e),2),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():fI(a)?dI(a,t,n+1):a}}var vI,pI=new Set(["width","height","top","left","right","bottom","x","y"]),mI=function(e){return pI.has(e)},yI=function(e,t){e.set(t,!1),e.set(t)},gI=function(e){return e===Mw||e===Qw};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(vI||(vI={}));var kI=function(e,t){return parseFloat(e.split(", ")[t])},bI=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return kI(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?kI(o[1],e):0}},wI=new Set(["x","y","z"]),xI=SS.filter((function(e){return!wI.has(e)}));var _I={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:bI(4,13),y:bI(5,14)},SI=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=wb({},t),r=wb({},r);var i=Object.keys(t).filter(mI),a=[],o=!1,u=[];if(i.forEach((function(i){var s=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],f=TT(c),h=t[i];if(u_(h)){var d=h.length,v=null===h[0]?1:0;c=h[v],f=TT(c);for(var p=v;p<d;p++)l?TT(h[p]):(l=TT(h[p]))===f||gI(f)&&gI(l)}else l=TT(h);if(f!==l)if(gI(f)&&gI(l)){var m=s.get();"string"===typeof m&&s.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===Qw&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===c||0===h)?0===c?s.set(l.transform(c)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return xI.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),u.push(i),r[i]=void 0!==r[i]?r[i]:t[i],yI(s,h))}})),u.length){var s=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,u={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){u[e]=_I[e](r,a)})),t.syncRender();var s=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);yI(r,u[n]),e[n]=_I[n](s,a)})),e}(t,e,u);return a.length&&a.forEach((function(t){var n=_b(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:s,transitionEnd:r}}return{target:t,transitionEnd:r}};function EI(e,t,n,r){return function(e){return Object.keys(e).some(mI)}(t)?SI(e,t,n,r):{target:t,transitionEnd:r}}var TI=function(e,t,n,r){var i=function(e,t,n){var r,i=xb(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(var o in n&&(n=wb({},n)),e.forEachValue((function(e){var t=e.get();if(fI(t)){var n=dI(t,a);n&&e.set(n)}})),i){var u=i[o];if(fI(u)){var s=dI(u,a);s&&(i[o]=s,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=u)))}}return{target:i,transitionEnd:n}}(e,t,r);return EI(e,t=i.target,n,r=i.transitionEnd)};var II={treeType:"dom",readValueFromInstance:function(e,t){if(IS(t)){var n=b_(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(sE(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return nI(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,u=xb(t,["transition","transitionEnd"]),s=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=DT(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(u,a||{},e);if(i&&(o&&(o=i(o)),u&&(u=i(u)),s&&(s=i(s))),r){!function(e,t,n){var r,i,a,o,u=Object.keys(t).filter((function(t){return!e.hasValue(t)})),s=u.length;if(s)for(var l=0;l<s;l++){var c=u[l],f=t[c],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[c])&&void 0!==r?r:e.readValue(c))&&void 0!==i?i:t[c]),void 0!==h&&null!==h&&("string"===typeof h&&(xT(h)||_T(h))?h=parseFloat(h):!CT(h)&&dx.test(f)&&(h=w_(c,f)),e.addValue(c,gw(h)),null!==(a=(o=n)[c])&&void 0!==a||(o[c]=h),e.setBaseTarget(c,h))}}(e,u,s);var l=TI(e,u,s,o);o=l.transitionEnd,u=l.target}return wb({transition:a,transitionEnd:o},u)},scrapeMotionValuesFromProps:DE,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),cE(t,n,r,i.transformTemplate)},render:CE},CI=sI(II),AI=sI(wb(wb({},II),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return IS(t)?(null===(n=b_(t))||void 0===n?void 0:n.default)||0:(t=AE.has(t)?t:IE(t),e.getAttribute(t))},scrapeMotionValuesFromProps:PE,build:function(e,t,n,r,i){xE(t,n,r,i.transformTemplate)},render:NE})),NI=function(e,t){return aE(e)?AI(t,{enableHardwareAcceleration:!1}):CI(t,{enableHardwareAcceleration:!0})};function DI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var PI={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Qw.test(e))return e;e=parseFloat(e)}var n=DI(e,t.target.x),r=DI(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},RI="_$css",OI={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(hI,(function(e){return o.push(e),RI})));var u=dx.parse(e);if(u.length>5)return i;var s=dx.createTransformer(e),l="number"!==typeof u[0]?1:0,c=r.x.scale*n.x,f=r.y.scale*n.y;u[0+l]/=c,u[1+l]/=f;var h=hw(c,f,.5);"number"===typeof u[2+l]&&(u[2+l]/=h),"number"===typeof u[3+l]&&(u[3+l]/=h);var d=s(u);if(a){var v=0;d=d.replace(RI,(function(){var e=o[v];return v++,e}))}return d}},LI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bb(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,u=r.projection;e=MI,Object.assign(bS,e),u&&((null===i||void 0===i?void 0:i.group)&&i.group.add(u),(null===a||void 0===a?void 0:a.register)&&o&&a.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",(function(){t.safeToRemove()})),u.setOptions(wb(wb({},u.options),{onExitComplete:function(){return t.safeToRemove()}}))),RS.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,u=i.projection;return u?(u.isPresent=o,a||e.layoutDependency!==r||void 0===r?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||fw.postRender((function(){var e;(null===(e=u.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(r.Component);var MI={borderRadius:wb(wb({},PI),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:PI,borderTopRightRadius:PI,borderBottomLeftRadius:PI,borderBottomRightRadius:PI,boxShadow:OI},VI={measureLayout:function(e){var t=_b(bT(),2),n=t[0],i=t[1],a=(0,r.useContext)(ZS);return r.createElement(LI,wb({},e,{layoutGroup:a,switchLayoutGroup:(0,r.useContext)(eE),isPresent:n,safeToRemove:i}))}},FI=OS({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),jI={current:void 0},UI=OS({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!jI.current){var e=new FI(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),jI.current=e}return jI.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),BI=wb(wb(wb(wb({},zT),yT),oI),VI),zI=rE((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a,u=aE(e)?FE:jE;return wb(wb({},u),{preloadedFeatures:n,useRender:EE(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,BI,NI,UI)}));var qI=function(e){var t=e.file,n=e.setFile,i=gb(t),a=i.progress,o=i.url;return(0,r.useEffect)((function(){o&&n(null)}),[o,n]),(0,$.jsx)(zI.div,{className:"progress-bar",initial:{width:0},animate:{width:a+"%"}})},GI=function(){var e=u((0,r.useState)(null),2),t=e[0],n=e[1],i=u((0,r.useState)(null),2),a=i[0],o=i[1],s=["image/png","image/jpeg"];return(0,$.jsxs)("form",{children:[(0,$.jsxs)("label",{children:[(0,$.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&s.includes(t.type)?(n(t),o("")):(n(null),o("Please select an image file (png or jpg)"))}}),(0,$.jsx)("span",{children:"+"})]}),(0,$.jsxs)("div",{className:"output",children:[a&&(0,$.jsx)("div",{className:"error",children:a}),t&&(0,$.jsx)("div",{children:t.name}),t&&(0,$.jsx)(qI,{file:t,setFile:n})]})]})};function KI(){return(0,$.jsxs)("div",{className:"footer",children:[(0,$.jsxs)("div",{className:"footer-items",children:[(0,$.jsxs)("section",{className:"footer-items--logo",children:[(0,$.jsx)("div",{className:"footer-logo--img"}),(0,$.jsxs)("div",{children:[(0,$.jsx)("span",{className:"footer-logo--title",children:"The NFT Generator"}),(0,$.jsx)("p",{className:"footer-logo--paragraph",children:"Genere colecciones NFT ilimitadas"})]})]}),(0,$.jsxs)("section",{className:"footer-items--information",children:[(0,$.jsxs)("section",{className:"items--information",children:[(0,$.jsx)("h2",{children:"Producto"}),(0,$.jsx)("p",{children:"Caracteristicas"}),(0,$.jsx)("p",{children:"Precios"}),(0,$.jsx)("p",{children:"Muestra gratuita"}),(0,$.jsx)("p",{children:"Requisitos t\xe9cnicos"})]}),(0,$.jsxs)("section",{className:"items--information",children:[(0,$.jsx)("h2",{children:"Compa\xf1\xeda"}),(0,$.jsx)("p",{children:"Sobre nosotros"}),(0,$.jsx)("p",{children:"Cont\xe1ctanos"}),(0,$.jsx)("p",{children:"Afiliados"}),(0,$.jsx)("p",{children:"Medio"})]}),(0,$.jsxs)("section",{className:"items--information",children:[(0,$.jsx)("h2",{children:"Recursos"}),(0,$.jsx)("p",{children:"Apoyo"}),(0,$.jsx)("p",{children:"Blog"}),(0,$.jsx)("p",{children:"Video tutorial"}),(0,$.jsx)("p",{children:"preguntas frecuentes"})]})]})]}),(0,$.jsxs)("div",{className:"footer-privacy",children:[(0,$.jsx)("p",{children:"All rights reserved \xa9 The NFT Generator"}),(0,$.jsx)("p",{children:"T\xe9rminos y Privacidad"})]}),(0,$.jsx)(GI,{})]})}function HI(e){return(0,$.jsx)("section",{children:(0,$.jsx)("ul",{children:e.children})})}function WI(e){return(0,$.jsxs)("div",{className:"list__item-layer",children:[(0,$.jsxs)("div",{className:"list__name",children:[(0,$.jsxs)("div",{className:"list__name-text",children:[(0,$.jsx)("span",{className:"list__name-layer",children:"Capa:"}),(0,$.jsx)("p",{className:"list-text",children:e.text})]}),(0,$.jsxs)("div",{className:"icons",children:[(0,$.jsx)("span",{className:"material-icons-outlined edit",children:"edit"}),(0,$.jsx)("span",{className:"material-icons-outlined delete",onClick:function(){alert("borraste"+e.text)},children:"delete"})]})]}),(0,$.jsxs)("div",{className:"list__information",children:[(0,$.jsx)("div",{className:"list__rareza",children:"Rareza de la capa: 100%"}),(0,$.jsx)("div",{className:"list__total",children:"Total de imagenes: 1 "})]})]})}var QI=[{text:"Background",completed:!1},{text:"Face",completed:!1}];function $I(){return(0,$.jsxs)("div",{className:"layers",children:[(0,$.jsxs)("div",{className:"collection-title",children:[(0,$.jsx)("strong",{children:"Paso 1."})," A\xf1ade tus capas "]}),(0,$.jsx)(HI,{children:QI.map((function(e){return(0,$.jsx)(WI,{text:e.text},e.text)}))}),(0,$.jsxs)("div",{className:"layers__button",onClick:function(){alert("aqui se abre modal")},children:[(0,$.jsx)("p",{children:"+"}),(0,$.jsx)("p",{className:"layers__button--p",children:"Agregar Capa"})]})]})}function YI(){return(0,$.jsxs)("div",{className:"collection",children:[(0,$.jsxs)("div",{className:"collection-title",children:[(0,$.jsx)("strong",{children:"Paso 2."})," Descarga tu colecci\xf3n  ",(0,$.jsx)("span",{className:"collection-title-span",children:"(Esta es una vista previa)"})," "]}),(0,$.jsxs)("div",{className:"collection__view",children:[(0,$.jsx)("div",{className:"view pink",children:"SU VISTA PREVIA SE MOSTRAR\xc1 AQU\xcd"}),(0,$.jsx)("div",{className:"view green",children:"SU VISTA PREVIA SE MOSTRAR\xc1 AQU\xcd"}),(0,$.jsx)("div",{className:"view blue",children:"SU VISTA PREVIA SE MOSTRAR\xc1 AQU\xcd"})]}),(0,$.jsxs)("div",{className:"form",children:[(0,$.jsxs)("div",{className:"form-group",children:[(0,$.jsx)("label",{className:"form-group--title",children:"Tama\xf1o*"}),(0,$.jsx)("input",{type:"number",placeholder:"10000",className:"form-group--input"})]}),(0,$.jsxs)("div",{className:"form-group",children:[(0,$.jsxs)("label",{className:"form-group--title",children:["Nombre ",(0,$.jsx)("span",{className:"placeholder",children:"(Opcional)"})]}),(0,$.jsx)("input",{type:"text",placeholder:"Nombre de su colecci\xf3n",className:"form-group--input"})]}),(0,$.jsxs)("div",{className:"form-group",children:[(0,$.jsxs)("label",{className:"form-group--title",children:["Descripci\xf3n ",(0,$.jsx)("span",{className:"placeholder",children:"(Opcional)"})]}),(0,$.jsx)("input",{type:"text",placeholder:"Descripci\xf3n de su colecci\xf3n",className:"form-group--input"})]})]}),(0,$.jsx)("button",{className:"collection__button",children:"Descargar muestra gratuita"}),(0,$.jsx)("button",{className:"collection__button download",children:"Descargar Colecci\xf3n"})]})}function XI(){return(0,$.jsxs)("div",{className:"app",children:[(0,$.jsx)(J,{}),(0,$.jsxs)("div",{className:"steps",children:[(0,$.jsx)($I,{}),(0,$.jsx)(YI,{})]}),(0,$.jsx)(KI,{}),(0,$.jsx)(Y,{})]})}var JI=function(){return(0,$.jsxs)("div",{className:"title",children:[(0,$.jsx)("h1",{children:"FireGram"}),(0,$.jsx)("h2",{children:"Your Pictures"}),(0,$.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})};function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZI(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tC=function(e){var t=u((0,r.useState)([]),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){var t=mb.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(eC(eC({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:n}},nC=function(e){var t=e.setSelectedImg,n=tC("images").docs;return(0,$.jsx)("div",{className:"img-grid",children:n&&n.map((function(e){return(0,$.jsx)(zI.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:(0,$.jsx)(zI.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},rC=function(e){var t=e.setSelectedImg,n=e.selectedImg;return(0,$.jsx)(zI.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:(0,$.jsx)(zI.img,{src:n,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})};function iC(){var e=u((0,r.useState)(null),2),t=e[0],n=e[1];return(0,$.jsxs)("div",{className:"Images",children:[(0,$.jsx)(JI,{}),(0,$.jsx)(GI,{}),(0,$.jsx)(nC,{setSelectedImg:n}),t&&(0,$.jsx)(rC,{selectedImg:t,setSelectedImg:n})]})}function aC(){return(0,$.jsx)($.Fragment,{children:(0,$.jsx)(W,{children:(0,$.jsxs)(z,{children:[(0,$.jsx)(U,{exact:!0,path:"/",element:(0,$.jsx)(X,{})}),(0,$.jsx)(U,{exact:!0,path:"/app",element:(0,$.jsx)(XI,{})}),(0,$.jsx)(U,{exact:!0,path:"/images",element:(0,$.jsx)(iC,{})})]})})})}i.render((0,$.jsx)(r.StrictMode,{children:(0,$.jsx)(aC,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.2a4d7fde.js.map